(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function N_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eh={exports:{}},Ca={},Th={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function p0(){if(Vg)return Re;Vg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function z(V,H,de){this.props=V,this.context=H,this.refs=$,this.updater=de||O}z.prototype.isReactComponent={},z.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=z.prototype;function te(V,H,de){this.props=V,this.context=H,this.refs=$,this.updater=de||O}var Q=te.prototype=new ee;Q.constructor=te,B(Q,z.prototype),Q.isPureReactComponent=!0;var q=Array.isArray,ie=Object.prototype.hasOwnProperty,Y={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(V,H,de){var Se,Ie={},Ae=null,xe=null;if(H!=null)for(Se in H.ref!==void 0&&(xe=H.ref),H.key!==void 0&&(Ae=""+H.key),H)ie.call(H,Se)&&!A.hasOwnProperty(Se)&&(Ie[Se]=H[Se]);var ke=arguments.length-2;if(ke===1)Ie.children=de;else if(1<ke){for(var Ve=Array(ke),it=0;it<ke;it++)Ve[it]=arguments[it+2];Ie.children=Ve}if(V&&V.defaultProps)for(Se in ke=V.defaultProps,ke)Ie[Se]===void 0&&(Ie[Se]=ke[Se]);return{$$typeof:n,type:V,key:Ae,ref:xe,props:Ie,_owner:Y.current}}function C(V,H){return{$$typeof:n,type:V.type,key:H,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return H[de]})}var b=/\/+/g;function P(V,H){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):H.toString(36)}function et(V,H,de,Se,Ie){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(Ae){case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case n:case e:xe=!0}}if(xe)return xe=V,Ie=Ie(xe),V=Se===""?"."+P(xe,0):Se,q(Ie)?(de="",V!=null&&(de=V.replace(b,"$&/")+"/"),et(Ie,H,de,"",function(it){return it})):Ie!=null&&(x(Ie)&&(Ie=C(Ie,de+(!Ie.key||xe&&xe.key===Ie.key?"":(""+Ie.key).replace(b,"$&/")+"/")+V)),H.push(Ie)),1;if(xe=0,Se=Se===""?".":Se+":",q(V))for(var ke=0;ke<V.length;ke++){Ae=V[ke];var Ve=Se+P(Ae,ke);xe+=et(Ae,H,de,Ve,Ie)}else if(Ve=R(V),typeof Ve=="function")for(V=Ve.call(V),ke=0;!(Ae=V.next()).done;)Ae=Ae.value,Ve=Se+P(Ae,ke++),xe+=et(Ae,H,de,Ve,Ie);else if(Ae==="object")throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return xe}function Et(V,H,de){if(V==null)return V;var Se=[],Ie=0;return et(V,Se,"","",function(Ae){return H.call(de,Ae,Ie++)}),Se}function Tt(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var Fe={current:null},re={transition:null},ce={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:re,ReactCurrentOwner:Y};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Et,forEach:function(V,H,de){Et(V,function(){H.apply(this,arguments)},de)},count:function(V){var H=0;return Et(V,function(){H++}),H},toArray:function(V){return Et(V,function(H){return H})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=z,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Re.act=se,Re.cloneElement=function(V,H,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Se=B({},V.props),Ie=V.key,Ae=V.ref,xe=V._owner;if(H!=null){if(H.ref!==void 0&&(Ae=H.ref,xe=Y.current),H.key!==void 0&&(Ie=""+H.key),V.type&&V.type.defaultProps)var ke=V.type.defaultProps;for(Ve in H)ie.call(H,Ve)&&!A.hasOwnProperty(Ve)&&(Se[Ve]=H[Ve]===void 0&&ke!==void 0?ke[Ve]:H[Ve])}var Ve=arguments.length-2;if(Ve===1)Se.children=de;else if(1<Ve){ke=Array(Ve);for(var it=0;it<Ve;it++)ke[it]=arguments[it+2];Se.children=ke}return{$$typeof:n,type:V.type,key:Ie,ref:Ae,props:Se,_owner:xe}},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Re.createElement=S,Re.createFactory=function(V){var H=S.bind(null,V);return H.type=V,H},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:d,render:V}},Re.isValidElement=x,Re.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Tt}},Re.memo=function(V,H){return{$$typeof:_,type:V,compare:H===void 0?null:H}},Re.startTransition=function(V){var H=re.transition;re.transition={};try{V()}finally{re.transition=H}},Re.unstable_act=se,Re.useCallback=function(V,H){return Fe.current.useCallback(V,H)},Re.useContext=function(V){return Fe.current.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V){return Fe.current.useDeferredValue(V)},Re.useEffect=function(V,H){return Fe.current.useEffect(V,H)},Re.useId=function(){return Fe.current.useId()},Re.useImperativeHandle=function(V,H,de){return Fe.current.useImperativeHandle(V,H,de)},Re.useInsertionEffect=function(V,H){return Fe.current.useInsertionEffect(V,H)},Re.useLayoutEffect=function(V,H){return Fe.current.useLayoutEffect(V,H)},Re.useMemo=function(V,H){return Fe.current.useMemo(V,H)},Re.useReducer=function(V,H,de){return Fe.current.useReducer(V,H,de)},Re.useRef=function(V){return Fe.current.useRef(V)},Re.useState=function(V){return Fe.current.useState(V)},Re.useSyncExternalStore=function(V,H,de){return Fe.current.useSyncExternalStore(V,H,de)},Re.useTransition=function(){return Fe.current.useTransition()},Re.version="18.3.1",Re}var Og;function yc(){return Og||(Og=1,Th.exports=p0()),Th.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function m0(){if(bg)return Ca;bg=1;var n=yc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function f(d,g,_){var w,T={},R=null,O=null;_!==void 0&&(R=""+_),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(O=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(T[w]=g[w]);if(d&&d.defaultProps)for(w in g=d.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:d,key:R,ref:O,props:T,_owner:o.current}}return Ca.Fragment=t,Ca.jsx=f,Ca.jsxs=f,Ca}var Mg;function g0(){return Mg||(Mg=1,Eh.exports=m0()),Eh.exports}var we=g0(),Ue=yc();const un=N_(Ue);var gl={},Sh={exports:{}},sn={},Ih={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function y0(){return Lg||(Lg=1,function(n){function e(re,ce){var se=re.length;re.push(ce);e:for(;0<se;){var V=se-1>>>1,H=re[V];if(0<o(H,ce))re[V]=ce,re[se]=H,se=V;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ce=re[0],se=re.pop();if(se!==ce){re[0]=se;e:for(var V=0,H=re.length,de=H>>>1;V<de;){var Se=2*(V+1)-1,Ie=re[Se],Ae=Se+1,xe=re[Ae];if(0>o(Ie,se))Ae<H&&0>o(xe,Ie)?(re[V]=xe,re[Ae]=se,V=Ae):(re[V]=Ie,re[Se]=se,V=Se);else if(Ae<H&&0>o(xe,se))re[V]=xe,re[Ae]=se,V=Ae;else break e}}return ce}function o(re,ce){var se=re.sortIndex-ce.sortIndex;return se!==0?se:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var g=[],_=[],w=1,T=null,R=3,O=!1,B=!1,$=!1,z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var ce=t(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=re)s(_),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(_)}}function q(re){if($=!1,Q(re),!B)if(t(g)!==null)B=!0,Tt(ie);else{var ce=t(_);ce!==null&&Fe(q,ce.startTime-re)}}function ie(re,ce){B=!1,$&&($=!1,ee(S),S=-1),O=!0;var se=R;try{for(Q(ce),T=t(g);T!==null&&(!(T.expirationTime>ce)||re&&!N());){var V=T.callback;if(typeof V=="function"){T.callback=null,R=T.priorityLevel;var H=V(T.expirationTime<=ce);ce=n.unstable_now(),typeof H=="function"?T.callback=H:T===t(g)&&s(g),Q(ce)}else s(g);T=t(g)}if(T!==null)var de=!0;else{var Se=t(_);Se!==null&&Fe(q,Se.startTime-ce),de=!1}return de}finally{T=null,R=se,O=!1}}var Y=!1,A=null,S=-1,C=5,x=-1;function N(){return!(n.unstable_now()-x<C)}function b(){if(A!==null){var re=n.unstable_now();x=re;var ce=!0;try{ce=A(!0,re)}finally{ce?P():(Y=!1,A=null)}}else Y=!1}var P;if(typeof te=="function")P=function(){te(b)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Et=et.port2;et.port1.onmessage=b,P=function(){Et.postMessage(null)}}else P=function(){z(b,0)};function Tt(re){A=re,Y||(Y=!0,P())}function Fe(re,ce){S=z(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){B||O||(B=!0,Tt(ie))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(re){switch(R){case 1:case 2:case 3:var ce=3;break;default:ce=R}var se=R;R=ce;try{return re()}finally{R=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=R;R=re;try{return ce()}finally{R=se}},n.unstable_scheduleCallback=function(re,ce,se){var V=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,re){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=se+H,re={id:w++,callback:ce,priorityLevel:re,startTime:se,expirationTime:H,sortIndex:-1},se>V?(re.sortIndex=se,e(_,re),t(g)===null&&re===t(_)&&($?(ee(S),S=-1):$=!0,Fe(q,se-V))):(re.sortIndex=H,e(g,re),B||O||(B=!0,Tt(ie))),re},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(re){var ce=R;return function(){var se=R;R=ce;try{return re.apply(this,arguments)}finally{R=se}}}}(Ah)),Ah}var Fg;function _0(){return Fg||(Fg=1,Ih.exports=y0()),Ih.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function v0(){if(jg)return sn;jg=1;var n=yc(),e=_0();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){f(r,i),f(r+"Capture",i)}function f(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function R(r){return g.call(T,r)?!0:g.call(w,r)?!1:_.test(r)?T[r]=!0:(w[r]=!0,!1)}function O(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function B(r,i,a,c){if(i===null||typeof i>"u"||O(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(r,i,a,c,h,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){z[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];z[i]=new $(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){z[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){z[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){z[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){z[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){z[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){z[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){z[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(ee,te);z[i]=new $(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(ee,te);z[i]=new $(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(ee,te);z[i]=new $(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){z[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),z.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){z[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,a,c){var h=z.hasOwnProperty(i)?z[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(B(i,a,h,c)&&(a=null),c||h===null?R(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),Y=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,V;function H(r){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var de=!1;function Se(r,i){if(!r||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var c=j}Reflect.construct(r,[],i)}else{try{i.call()}catch(j){c=j}r.call(i.prototype)}else{try{throw Error()}catch(j){c=j}r()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),m=c.stack.split(`
`),v=h.length-1,I=m.length-1;1<=v&&0<=I&&h[v]!==m[I];)I--;for(;1<=v&&0<=I;v--,I--)if(h[v]!==m[I]){if(v!==1||I!==1)do if(v--,I--,0>I||h[v]!==m[I]){var k=`
`+h[v].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=v&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?H(r):""}function Ie(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case Y:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case et:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case b:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Et:return i=r.displayName||null,i!==null?i:Ae(r.type)||"Memo";case Tt:i=r._payload,r=r._init;try{return Ae(r(i))}catch{}}return null}function xe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function it(r){var i=Ve(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Xt(r){r._valueTracker||(r._valueTracker=it(r))}function Wt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Ve(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Lr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ai(r,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ps(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=ke(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function No(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function Vo(r,i){No(r,i);var a=ke(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ms(r,i.type,a):i.hasOwnProperty("defaultValue")&&ms(r,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function tu(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ms(r,i,a){(i!=="number"||Lr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var dr=Array.isArray;function pr(r,i,a,c){if(r=r.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=i.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ke(a),i=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Oo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function gs(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(dr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:ke(a)}}function ys(r,i){var a=ke(i.value),c=ke(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function bo(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function dt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?dt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mr,Mo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,h)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Fr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pi=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(r){Pi.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ci[i]=Ci[r]})});function Lo(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ci.hasOwnProperty(r)&&Ci[r]?(""+i).trim():i+"px"}function Fo(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Lo(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var jo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(r,i){if(i){if(jo[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Uo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function _s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vs=null,wn=null,Xn=null;function ws(r){if(r=fa(r)){if(typeof vs!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Du(i),vs(r.stateNode,r.type,i))}}function Yn(r){wn?Xn?Xn.push(r):Xn=[r]:wn=r}function Bo(){if(wn){var r=wn,i=Xn;if(Xn=wn=null,ws(r),i)for(r=0;r<i.length;r++)ws(i[r])}}function ki(r,i){return r(i)}function $o(){}var gr=!1;function Ho(r,i,a){if(gr)return r(i,a);gr=!0;try{return ki(r,i,a)}finally{gr=!1,(wn!==null||Xn!==null)&&($o(),Bo())}}function ot(r,i){var a=r.stateNode;if(a===null)return null;var c=Du(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Es=!1;if(d)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Es=!1}function xi(r,i,a,c,h,m,v,I,k){var j=Array.prototype.slice.call(arguments,3);try{i.apply(a,j)}catch(G){this.onError(G)}}var Di=!1,Ts=null,Vn=!1,Wo=null,Qc={onError:function(r){Di=!0,Ts=r}};function Ss(r,i,a,c,h,m,v,I,k){Di=!1,Ts=null,xi.apply(Qc,arguments)}function nu(r,i,a,c,h,m,v,I,k){if(Ss.apply(this,arguments),Di){if(Di){var j=Ts;Di=!1,Ts=null}else throw Error(t(198));Vn||(Vn=!0,Wo=j)}}function On(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Ni(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function bn(r){if(On(r)!==r)throw Error(t(188))}function ru(r){var i=r.alternate;if(!i){if(i=On(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return bn(h),r;if(m===c)return bn(h),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=m;else{for(var v=!1,I=h.child;I;){if(I===a){v=!0,a=h,c=m;break}if(I===c){v=!0,c=h,a=m;break}I=I.sibling}if(!v){for(I=m.child;I;){if(I===a){v=!0,a=m,c=h;break}if(I===c){v=!0,c=m,a=h;break}I=I.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function qo(r){return r=ru(r),r!==null?Is(r):null}function Is(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Is(r);if(i!==null)return i;r=r.sibling}return null}var As=e.unstable_scheduleCallback,Ko=e.unstable_cancelCallback,iu=e.unstable_shouldYield,Gc=e.unstable_requestPaint,We=e.unstable_now,su=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Qo=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Oi=null,ln=null;function au(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Oi,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:lu,Go=Math.log,uu=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(Go(r)/uu|0)|0}var Cs=64,Ps=4194304;function zr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function bi(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,m=r.pingedLanes,v=a&268435455;if(v!==0){var I=v&~h;I!==0?c=zr(I):(m&=v,m!==0&&(c=zr(m)))}else v=a&~h,v!==0?c=zr(v):m!==0&&(c=zr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&h)&&(h=c&-c,m=i&-i,h>=m||h===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-qt(i),h=1<<a,c|=r[a],i&=~h;return c}function Xc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var v=31-qt(m),I=1<<v,k=h[v];k===-1?(!(I&a)||I&c)&&(h[v]=Xc(I,i)):k<=i&&(r.expiredLanes|=I),m&=~I}}function cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mi(){var r=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),r}function Ur(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Br(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qt(i),r[i]=a}function He(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-qt(a),m=1<<h;i[h]=0,c[h]=-1,r[h]=-1,a&=~m}}function $r(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-qt(a),h=1<<c;h&i|r[c]&i&&(r[c]|=i),a&=~h}}var Ne=0;function Hr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var cu,Rs,fu,hu,du,Xo=!1,Jn=[],kt=null,Mn=null,Ln=null,Wr=new Map,Tn=new Map,Zn=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(r,i){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Wr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(i.pointerId)}}function Yt(r,i,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},i!==null&&(i=fa(i),i!==null&&Rs(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function Jc(r,i,a,c,h){switch(i){case"focusin":return kt=Yt(kt,r,i,a,c,h),!0;case"dragenter":return Mn=Yt(Mn,r,i,a,c,h),!0;case"mouseover":return Ln=Yt(Ln,r,i,a,c,h),!0;case"pointerover":var m=h.pointerId;return Wr.set(m,Yt(Wr.get(m)||null,r,i,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Tn.set(m,Yt(Tn.get(m)||null,r,i,a,c,h)),!0}return!1}function mu(r){var i=Ui(r.target);if(i!==null){var a=On(i);if(a!==null){if(i=a.tag,i===13){if(i=Ni(a),i!==null){r.blockedOn=i,du(r.priority,function(){fu(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _r(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=ks(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Ri=c,a.target.dispatchEvent(c),Ri=null}else return i=fa(a),i!==null&&Rs(i),r.blockedOn=a,!1;i.shift()}return!0}function Li(r,i,a){_r(r)&&a.delete(i)}function gu(){Xo=!1,kt!==null&&_r(kt)&&(kt=null),Mn!==null&&_r(Mn)&&(Mn=null),Ln!==null&&_r(Ln)&&(Ln=null),Wr.forEach(Li),Tn.forEach(Li)}function Fn(r,i){r.blockedOn===i&&(r.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function jn(r){function i(h){return Fn(h,r)}if(0<Jn.length){Fn(Jn[0],r);for(var a=1;a<Jn.length;a++){var c=Jn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(kt!==null&&Fn(kt,r),Mn!==null&&Fn(Mn,r),Ln!==null&&Fn(Ln,r),Wr.forEach(i),Tn.forEach(i),a=0;a<Zn.length;a++)c=Zn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)mu(a),a.blockedOn===null&&Zn.shift()}var vr=q.ReactCurrentBatchConfig,qr=!0;function Ye(r,i,a,c){var h=Ne,m=vr.transition;vr.transition=null;try{Ne=1,Yo(r,i,a,c)}finally{Ne=h,vr.transition=m}}function Zc(r,i,a,c){var h=Ne,m=vr.transition;vr.transition=null;try{Ne=4,Yo(r,i,a,c)}finally{Ne=h,vr.transition=m}}function Yo(r,i,a,c){if(qr){var h=ks(r,i,a,c);if(h===null)ff(r,i,c,Fi,a),pu(r,c);else if(Jc(h,r,i,a,c))c.stopPropagation();else if(pu(r,c),i&4&&-1<Yc.indexOf(r)){for(;h!==null;){var m=fa(h);if(m!==null&&cu(m),m=ks(r,i,a,c),m===null&&ff(r,i,c,Fi,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else ff(r,i,c,null,a)}}var Fi=null;function ks(r,i,a,c){if(Fi=null,r=_s(c),r=Ui(r),r!==null)if(i=On(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Ni(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Fi=r,null}function Jo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(su()){case Vi:return 1;case jr:return 4;case En:case Qo:return 16;case ou:return 536870912;default:return 16}default:return 16}}var fn=null,xs=null,Jt=null;function Zo(){if(Jt)return Jt;var r,i=xs,a=i.length,c,h="value"in fn?fn.value:fn.textContent,m=h.length;for(r=0;r<a&&i[r]===h[r];r++);var v=a-r;for(c=1;c<=v&&i[a-c]===h[m-c];c++);return Jt=h.slice(r,1<c?1-c:void 0)}function Ds(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function ea(){return!1}function xt(r){function i(a,c,h,m,v){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?er:ea,this.isPropagationStopped=ea,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),i}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=xt(zn),tr=se({},zn,{view:0,detail:0}),ef=xt(tr),Vs,wr,Kr,ji=se({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(Vs=r.screenX-Kr.screenX,wr=r.screenY-Kr.screenY):wr=Vs=0,Kr=r),Vs)},movementY:function(r){return"movementY"in r?r.movementY:wr}}),Os=xt(ji),ta=se({},ji,{dataTransfer:0}),yu=xt(ta),bs=se({},tr,{relatedTarget:0}),Ms=xt(bs),_u=se({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=xt(_u),vu=se({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=xt(vu),Eu=se({},zn,{data:0}),na=xt(Eu),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Tu[r])?!!i[r]:!1}function nr(){return Su}var u=se({},tr,{key:function(r){if(r.key){var i=Ls[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ds(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?Ds(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ds(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=xt(u),y=se({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=xt(y),M=se({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),U=xt(M),ne=se({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=xt(ne),mt=se({},ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=xt(mt),St=[9,13,27,32],lt=d&&"CompositionEvent"in window,Sn=null;d&&"documentMode"in document&&(Sn=document.documentMode);var hn=d&&"TextEvent"in window&&!Sn,zi=d&&(!lt||Sn&&8<Sn&&11>=Sn),Fs=" ",Pp=!1;function Rp(r,i){switch(r){case"keyup":return St.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var js=!1;function hE(r,i){switch(r){case"compositionend":return kp(i);case"keypress":return i.which!==32?null:(Pp=!0,Fs);case"textInput":return r=i.data,r===Fs&&Pp?null:r;default:return null}}function dE(r,i){if(js)return r==="compositionend"||!lt&&Rp(r,i)?(r=Zo(),Jt=xs=fn=null,js=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var pE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!pE[r.type]:i==="textarea"}function Dp(r,i,a,c){Yn(c),i=Ru(i,"onChange"),0<i.length&&(a=new Ns("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var ra=null,ia=null;function mE(r){Gp(r,0)}function Iu(r){var i=Hs(r);if(Wt(i))return r}function gE(r,i){if(r==="change")return i}var Np=!1;if(d){var tf;if(d){var nf="oninput"in document;if(!nf){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),nf=typeof Vp.oninput=="function"}tf=nf}else tf=!1;Np=tf&&(!document.documentMode||9<document.documentMode)}function Op(){ra&&(ra.detachEvent("onpropertychange",bp),ia=ra=null)}function bp(r){if(r.propertyName==="value"&&Iu(ia)){var i=[];Dp(i,ia,r,_s(r)),Ho(mE,i)}}function yE(r,i,a){r==="focusin"?(Op(),ra=i,ia=a,ra.attachEvent("onpropertychange",bp)):r==="focusout"&&Op()}function _E(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(ia)}function vE(r,i){if(r==="click")return Iu(i)}function wE(r,i){if(r==="input"||r==="change")return Iu(i)}function EE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Un=typeof Object.is=="function"?Object.is:EE;function sa(r,i){if(Un(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!g.call(i,h)||!Un(r[h],i[h]))return!1}return!0}function Mp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lp(r,i){var a=Mp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mp(a)}}function Fp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function jp(){for(var r=window,i=Lr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Lr(r.document)}return i}function rf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function TE(r){var i=jp(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Fp(a.ownerDocument.documentElement,a)){if(c!==null&&rf(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!r.extend&&m>c&&(h=c,c=m,m=h),h=Lp(a,m);var v=Lp(a,c);h&&v&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),m>c?(r.addRange(i),r.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var SE=d&&"documentMode"in document&&11>=document.documentMode,zs=null,sf=null,oa=null,of=!1;function zp(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||zs==null||zs!==Lr(c)||(c=zs,"selectionStart"in c&&rf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oa&&sa(oa,c)||(oa=c,c=Ru(sf,"onSelect"),0<c.length&&(i=new Ns("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=zs)))}function Au(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Us={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},af={},Up={};d&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Cu(r){if(af[r])return af[r];if(!Us[r])return r;var i=Us[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Up)return af[r]=i[a];return r}var Bp=Cu("animationend"),$p=Cu("animationiteration"),Hp=Cu("animationstart"),Wp=Cu("transitionend"),qp=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(r,i){qp.set(r,i),l(i,[r])}for(var uf=0;uf<Kp.length;uf++){var lf=Kp[uf],IE=lf.toLowerCase(),AE=lf[0].toUpperCase()+lf.slice(1);Qr(IE,"on"+AE)}Qr(Bp,"onAnimationEnd"),Qr($p,"onAnimationIteration"),Qr(Hp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Wp,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Qp(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,nu(c,i,void 0,r),r.currentTarget=null}function Gp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var I=c[v],k=I.instance,j=I.currentTarget;if(I=I.listener,k!==m&&h.isPropagationStopped())break e;Qp(h,I,j),m=k}else for(v=0;v<c.length;v++){if(I=c[v],k=I.instance,j=I.currentTarget,I=I.listener,k!==m&&h.isPropagationStopped())break e;Qp(h,I,j),m=k}}}if(Vn)throw r=Wo,Vn=!1,Wo=null,r}function Ke(r,i){var a=i[yf];a===void 0&&(a=i[yf]=new Set);var c=r+"__bubble";a.has(c)||(Xp(i,r,2,!1),a.add(c))}function cf(r,i,a){var c=0;i&&(c|=4),Xp(a,r,c,i)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function ua(r){if(!r[Pu]){r[Pu]=!0,s.forEach(function(a){a!=="selectionchange"&&(CE.has(a)||cf(a,!1,r),cf(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Pu]||(i[Pu]=!0,cf("selectionchange",!1,i))}}function Xp(r,i,a,c){switch(Jo(i)){case 1:var h=Ye;break;case 4:h=Zc;break;default:h=Yo}a=h.bind(null,i,a,r),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(i,a,{capture:!0,passive:h}):r.addEventListener(i,a,!0):h!==void 0?r.addEventListener(i,a,{passive:h}):r.addEventListener(i,a,!1)}function ff(r,i,a,c,h){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;v=v.return}for(;I!==null;){if(v=Ui(I),v===null)return;if(k=v.tag,k===5||k===6){c=m=v;continue e}I=I.parentNode}}c=c.return}Ho(function(){var j=m,G=_s(a),J=[];e:{var K=qp.get(r);if(K!==void 0){var oe=Ns,le=r;switch(r){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":le="focus",oe=Ms;break;case"focusout":le="blur",oe=Ms;break;case"beforeblur":case"afterblur":oe=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=U;break;case Bp:case $p:case Hp:oe=Er;break;case Wp:oe=$e;break;case"scroll":oe=ef;break;case"wheel":oe=Oe;break;case"copy":case"cut":case"paste":oe=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var fe=(i&4)!==0,at=!fe&&r==="scroll",L=fe?K!==null?K+"Capture":null:K;fe=[];for(var D=j,F;D!==null;){F=D;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,L!==null&&(Z=ot(D,L),Z!=null&&fe.push(la(D,Z,F)))),at)break;D=D.return}0<fe.length&&(K=new oe(K,le,null,a,G),J.push({event:K,listeners:fe}))}}if(!(i&7)){e:{if(K=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",K&&a!==Ri&&(le=a.relatedTarget||a.fromElement)&&(Ui(le)||le[Tr]))break e;if((oe||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(le=a.relatedTarget||a.toElement,oe=j,le=le?Ui(le):null,le!==null&&(at=On(le),le!==at||le.tag!==5&&le.tag!==6)&&(le=null)):(oe=null,le=j),oe!==le)){if(fe=Os,Z="onMouseLeave",L="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(fe=E,Z="onPointerLeave",L="onPointerEnter",D="pointer"),at=oe==null?K:Hs(oe),F=le==null?K:Hs(le),K=new fe(Z,D+"leave",oe,a,G),K.target=at,K.relatedTarget=F,Z=null,Ui(G)===j&&(fe=new fe(L,D+"enter",le,a,G),fe.target=F,fe.relatedTarget=at,Z=fe),at=Z,oe&&le)t:{for(fe=oe,L=le,D=0,F=fe;F;F=Bs(F))D++;for(F=0,Z=L;Z;Z=Bs(Z))F++;for(;0<D-F;)fe=Bs(fe),D--;for(;0<F-D;)L=Bs(L),F--;for(;D--;){if(fe===L||L!==null&&fe===L.alternate)break t;fe=Bs(fe),L=Bs(L)}fe=null}else fe=null;oe!==null&&Yp(J,K,oe,fe,!1),le!==null&&at!==null&&Yp(J,at,le,fe,!0)}}e:{if(K=j?Hs(j):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var he=gE;else if(xp(K))if(Np)he=wE;else{he=_E;var me=yE}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(he=vE);if(he&&(he=he(r,j))){Dp(J,he,a,G);break e}me&&me(r,K,j),r==="focusout"&&(me=K._wrapperState)&&me.controlled&&K.type==="number"&&ms(K,"number",K.value)}switch(me=j?Hs(j):window,r){case"focusin":(xp(me)||me.contentEditable==="true")&&(zs=me,sf=j,oa=null);break;case"focusout":oa=sf=zs=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,zp(J,a,G);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":zp(J,a,G)}var ge;if(lt)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else js?Rp(r,a)&&(ve="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(zi&&a.locale!=="ko"&&(js||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&js&&(ge=Zo()):(fn=G,xs="value"in fn?fn.value:fn.textContent,js=!0)),me=Ru(j,ve),0<me.length&&(ve=new na(ve,r,null,a,G),J.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=kp(a),ge!==null&&(ve.data=ge)))),(ge=hn?hE(r,a):dE(r,a))&&(j=Ru(j,"onBeforeInput"),0<j.length&&(G=new na("onBeforeInput","beforeinput",null,a,G),J.push({event:G,listeners:j}),G.data=ge))}Gp(J,i)})}function la(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Ru(r,i){for(var a=i+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=ot(r,a),m!=null&&c.unshift(la(r,m,h)),m=ot(r,i),m!=null&&c.push(la(r,m,h))),r=r.return}return c}function Bs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yp(r,i,a,c,h){for(var m=i._reactName,v=[];a!==null&&a!==c;){var I=a,k=I.alternate,j=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&j!==null&&(I=j,h?(k=ot(a,m),k!=null&&v.unshift(la(a,k,I))):h||(k=ot(a,m),k!=null&&v.push(la(a,k,I)))),a=a.return}v.length!==0&&r.push({event:i,listeners:v})}var PE=/\r\n?/g,RE=/\u0000|\uFFFD/g;function Jp(r){return(typeof r=="string"?r:""+r).replace(PE,`
`).replace(RE,"")}function ku(r,i,a){if(i=Jp(i),Jp(r)!==i&&a)throw Error(t(425))}function xu(){}var hf=null,df=null;function pf(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mf=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(r){return Zp.resolve(null).then(r).catch(DE)}:mf;function DE(r){setTimeout(function(){throw r})}function gf(r,i){var a=i,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),jn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);jn(i)}function Gr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function em(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var $s=Math.random().toString(36).slice(2),rr="__reactFiber$"+$s,ca="__reactProps$"+$s,Tr="__reactContainer$"+$s,yf="__reactEvents$"+$s,NE="__reactListeners$"+$s,VE="__reactHandles$"+$s;function Ui(r){var i=r[rr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Tr]||a[rr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=em(r);r!==null;){if(a=r[rr])return a;r=em(r)}return i}r=a,a=r.parentNode}return null}function fa(r){return r=r[rr]||r[Tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Hs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Du(r){return r[ca]||null}var _f=[],Ws=-1;function Xr(r){return{current:r}}function Qe(r){0>Ws||(r.current=_f[Ws],_f[Ws]=null,Ws--)}function qe(r,i){Ws++,_f[Ws]=r.current,r.current=i}var Yr={},Lt=Xr(Yr),Zt=Xr(!1),Bi=Yr;function qs(r,i){var a=r.type.contextTypes;if(!a)return Yr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=i[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function en(r){return r=r.childContextTypes,r!=null}function Nu(){Qe(Zt),Qe(Lt)}function tm(r,i,a){if(Lt.current!==Yr)throw Error(t(168));qe(Lt,i),qe(Zt,a)}function nm(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(t(108,xe(r)||"Unknown",h));return se({},a,c)}function Vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Yr,Bi=Lt.current,qe(Lt,r),qe(Zt,Zt.current),!0}function rm(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=nm(r,i,Bi),c.__reactInternalMemoizedMergedChildContext=r,Qe(Zt),Qe(Lt),qe(Lt,r)):Qe(Zt),qe(Zt,a)}var Sr=null,Ou=!1,vf=!1;function im(r){Sr===null?Sr=[r]:Sr.push(r)}function OE(r){Ou=!0,im(r)}function Jr(){if(!vf&&Sr!==null){vf=!0;var r=0,i=Ne;try{var a=Sr;for(Ne=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Sr=null,Ou=!1}catch(h){throw Sr!==null&&(Sr=Sr.slice(r+1)),As(Vi,Jr),h}finally{Ne=i,vf=!1}}return null}var Ks=[],Qs=0,bu=null,Mu=0,In=[],An=0,$i=null,Ir=1,Ar="";function Hi(r,i){Ks[Qs++]=Mu,Ks[Qs++]=bu,bu=r,Mu=i}function sm(r,i,a){In[An++]=Ir,In[An++]=Ar,In[An++]=$i,$i=r;var c=Ir;r=Ar;var h=32-qt(c)-1;c&=~(1<<h),a+=1;var m=32-qt(i)+h;if(30<m){var v=h-h%5;m=(c&(1<<v)-1).toString(32),c>>=v,h-=v,Ir=1<<32-qt(i)+h|a<<h|c,Ar=m+r}else Ir=1<<m|a<<h|c,Ar=r}function wf(r){r.return!==null&&(Hi(r,1),sm(r,1,0))}function Ef(r){for(;r===bu;)bu=Ks[--Qs],Ks[Qs]=null,Mu=Ks[--Qs],Ks[Qs]=null;for(;r===$i;)$i=In[--An],In[An]=null,Ar=In[--An],In[An]=null,Ir=In[--An],In[An]=null}var dn=null,pn=null,Je=!1,Bn=null;function om(r,i){var a=kn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function am(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,dn=r,pn=Gr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,dn=r,pn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=$i!==null?{id:Ir,overflow:Ar}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=kn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,dn=r,pn=null,!0):!1;default:return!1}}function Tf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sf(r){if(Je){var i=pn;if(i){var a=i;if(!am(r,i)){if(Tf(r))throw Error(t(418));i=Gr(a.nextSibling);var c=dn;i&&am(r,i)?om(c,a):(r.flags=r.flags&-4097|2,Je=!1,dn=r)}}else{if(Tf(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,dn=r}}}function um(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function Lu(r){if(r!==dn)return!1;if(!Je)return um(r),Je=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!pf(r.type,r.memoizedProps)),i&&(i=pn)){if(Tf(r))throw lm(),Error(t(418));for(;i;)om(r,i),i=Gr(i.nextSibling)}if(um(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){pn=Gr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}pn=null}}else pn=dn?Gr(r.stateNode.nextSibling):null;return!0}function lm(){for(var r=pn;r;)r=Gr(r.nextSibling)}function Gs(){pn=dn=null,Je=!1}function If(r){Bn===null?Bn=[r]:Bn.push(r)}var bE=q.ReactCurrentBatchConfig;function ha(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var h=c,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var I=h.refs;v===null?delete I[m]:I[m]=v},i._stringRef=m,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Fu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function cm(r){var i=r._init;return i(r._payload)}function fm(r){function i(L,D){if(r){var F=L.deletions;F===null?(L.deletions=[D],L.flags|=16):F.push(D)}}function a(L,D){if(!r)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function c(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function h(L,D){return L=oi(L,D),L.index=0,L.sibling=null,L}function m(L,D,F){return L.index=F,r?(F=L.alternate,F!==null?(F=F.index,F<D?(L.flags|=2,D):F):(L.flags|=2,D)):(L.flags|=1048576,D)}function v(L){return r&&L.alternate===null&&(L.flags|=2),L}function I(L,D,F,Z){return D===null||D.tag!==6?(D=mh(F,L.mode,Z),D.return=L,D):(D=h(D,F),D.return=L,D)}function k(L,D,F,Z){var he=F.type;return he===A?G(L,D,F.props.children,Z,F.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Tt&&cm(he)===D.type)?(Z=h(D,F.props),Z.ref=ha(L,D,F),Z.return=L,Z):(Z=ul(F.type,F.key,F.props,null,L.mode,Z),Z.ref=ha(L,D,F),Z.return=L,Z)}function j(L,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=gh(F,L.mode,Z),D.return=L,D):(D=h(D,F.children||[]),D.return=L,D)}function G(L,D,F,Z,he){return D===null||D.tag!==7?(D=Ji(F,L.mode,Z,he),D.return=L,D):(D=h(D,F),D.return=L,D)}function J(L,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=mh(""+D,L.mode,F),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ie:return F=ul(D.type,D.key,D.props,null,L.mode,F),F.ref=ha(L,null,D),F.return=L,F;case Y:return D=gh(D,L.mode,F),D.return=L,D;case Tt:var Z=D._init;return J(L,Z(D._payload),F)}if(dr(D)||ce(D))return D=Ji(D,L.mode,F,null),D.return=L,D;Fu(L,D)}return null}function K(L,D,F,Z){var he=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return he!==null?null:I(L,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ie:return F.key===he?k(L,D,F,Z):null;case Y:return F.key===he?j(L,D,F,Z):null;case Tt:return he=F._init,K(L,D,he(F._payload),Z)}if(dr(F)||ce(F))return he!==null?null:G(L,D,F,Z,null);Fu(L,F)}return null}function oe(L,D,F,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(F)||null,I(D,L,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ie:return L=L.get(Z.key===null?F:Z.key)||null,k(D,L,Z,he);case Y:return L=L.get(Z.key===null?F:Z.key)||null,j(D,L,Z,he);case Tt:var me=Z._init;return oe(L,D,F,me(Z._payload),he)}if(dr(Z)||ce(Z))return L=L.get(F)||null,G(D,L,Z,he,null);Fu(D,Z)}return null}function le(L,D,F,Z){for(var he=null,me=null,ge=D,ve=D=0,Ct=null;ge!==null&&ve<F.length;ve++){ge.index>ve?(Ct=ge,ge=null):Ct=ge.sibling;var je=K(L,ge,F[ve],Z);if(je===null){ge===null&&(ge=Ct);break}r&&ge&&je.alternate===null&&i(L,ge),D=m(je,D,ve),me===null?he=je:me.sibling=je,me=je,ge=Ct}if(ve===F.length)return a(L,ge),Je&&Hi(L,ve),he;if(ge===null){for(;ve<F.length;ve++)ge=J(L,F[ve],Z),ge!==null&&(D=m(ge,D,ve),me===null?he=ge:me.sibling=ge,me=ge);return Je&&Hi(L,ve),he}for(ge=c(L,ge);ve<F.length;ve++)Ct=oe(ge,L,ve,F[ve],Z),Ct!==null&&(r&&Ct.alternate!==null&&ge.delete(Ct.key===null?ve:Ct.key),D=m(Ct,D,ve),me===null?he=Ct:me.sibling=Ct,me=Ct);return r&&ge.forEach(function(ai){return i(L,ai)}),Je&&Hi(L,ve),he}function fe(L,D,F,Z){var he=ce(F);if(typeof he!="function")throw Error(t(150));if(F=he.call(F),F==null)throw Error(t(151));for(var me=he=null,ge=D,ve=D=0,Ct=null,je=F.next();ge!==null&&!je.done;ve++,je=F.next()){ge.index>ve?(Ct=ge,ge=null):Ct=ge.sibling;var ai=K(L,ge,je.value,Z);if(ai===null){ge===null&&(ge=Ct);break}r&&ge&&ai.alternate===null&&i(L,ge),D=m(ai,D,ve),me===null?he=ai:me.sibling=ai,me=ai,ge=Ct}if(je.done)return a(L,ge),Je&&Hi(L,ve),he;if(ge===null){for(;!je.done;ve++,je=F.next())je=J(L,je.value,Z),je!==null&&(D=m(je,D,ve),me===null?he=je:me.sibling=je,me=je);return Je&&Hi(L,ve),he}for(ge=c(L,ge);!je.done;ve++,je=F.next())je=oe(ge,L,ve,je.value,Z),je!==null&&(r&&je.alternate!==null&&ge.delete(je.key===null?ve:je.key),D=m(je,D,ve),me===null?he=je:me.sibling=je,me=je);return r&&ge.forEach(function(d0){return i(L,d0)}),Je&&Hi(L,ve),he}function at(L,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ie:e:{for(var he=F.key,me=D;me!==null;){if(me.key===he){if(he=F.type,he===A){if(me.tag===7){a(L,me.sibling),D=h(me,F.props.children),D.return=L,L=D;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Tt&&cm(he)===me.type){a(L,me.sibling),D=h(me,F.props),D.ref=ha(L,me,F),D.return=L,L=D;break e}a(L,me);break}else i(L,me);me=me.sibling}F.type===A?(D=Ji(F.props.children,L.mode,Z,F.key),D.return=L,L=D):(Z=ul(F.type,F.key,F.props,null,L.mode,Z),Z.ref=ha(L,D,F),Z.return=L,L=Z)}return v(L);case Y:e:{for(me=F.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){a(L,D.sibling),D=h(D,F.children||[]),D.return=L,L=D;break e}else{a(L,D);break}else i(L,D);D=D.sibling}D=gh(F,L.mode,Z),D.return=L,L=D}return v(L);case Tt:return me=F._init,at(L,D,me(F._payload),Z)}if(dr(F))return le(L,D,F,Z);if(ce(F))return fe(L,D,F,Z);Fu(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(a(L,D.sibling),D=h(D,F),D.return=L,L=D):(a(L,D),D=mh(F,L.mode,Z),D.return=L,L=D),v(L)):a(L,D)}return at}var Xs=fm(!0),hm=fm(!1),ju=Xr(null),zu=null,Ys=null,Af=null;function Cf(){Af=Ys=zu=null}function Pf(r){var i=ju.current;Qe(ju),r._currentValue=i}function Rf(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function Js(r,i){zu=r,Af=Ys=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(tn=!0),r.firstContext=null)}function Cn(r){var i=r._currentValue;if(Af!==r)if(r={context:r,memoizedValue:i,next:null},Ys===null){if(zu===null)throw Error(t(308));Ys=r,zu.dependencies={lanes:0,firstContext:r}}else Ys=Ys.next=r;return i}var Wi=null;function kf(r){Wi===null?Wi=[r]:Wi.push(r)}function dm(r,i,a,c){var h=i.interleaved;return h===null?(a.next=a,kf(i)):(a.next=h.next,h.next=a),i.interleaved=a,Cr(r,c)}function Cr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Zr=!1;function xf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Pr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ei(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Cr(r,a)}return h=c.interleaved,h===null?(i.next=i,kf(c)):(i.next=h.next,h.next=i),c.interleaved=i,Cr(r,a)}function Uu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,$r(r,a)}}function mm(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Bu(r,i,a,c){var h=r.updateQueue;Zr=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var k=I,j=k.next;k.next=null,v===null?m=j:v.next=j,v=k;var G=r.alternate;G!==null&&(G=G.updateQueue,I=G.lastBaseUpdate,I!==v&&(I===null?G.firstBaseUpdate=j:I.next=j,G.lastBaseUpdate=k))}if(m!==null){var J=h.baseState;v=0,G=j=k=null,I=m;do{var K=I.lane,oe=I.eventTime;if((c&K)===K){G!==null&&(G=G.next={eventTime:oe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=r,fe=I;switch(K=i,oe=a,fe.tag){case 1:if(le=fe.payload,typeof le=="function"){J=le.call(oe,J,K);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,K=typeof le=="function"?le.call(oe,J,K):le,K==null)break e;J=se({},J,K);break e;case 2:Zr=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,K=h.effects,K===null?h.effects=[I]:K.push(I))}else oe={eventTime:oe,lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},G===null?(j=G=oe,k=J):G=G.next=oe,v|=K;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;K=I,I=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(G===null&&(k=J),h.baseState=k,h.firstBaseUpdate=j,h.lastBaseUpdate=G,i=h.shared.interleaved,i!==null){h=i;do v|=h.lane,h=h.next;while(h!==i)}else m===null&&(h.shared.lanes=0);Qi|=v,r.lanes=v,r.memoizedState=J}}function gm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var da={},ir=Xr(da),pa=Xr(da),ma=Xr(da);function qi(r){if(r===da)throw Error(t(174));return r}function Df(r,i){switch(qe(ma,i),qe(pa,r),qe(ir,da),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:pt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=pt(i,r)}Qe(ir),qe(ir,i)}function Zs(){Qe(ir),Qe(pa),Qe(ma)}function ym(r){qi(ma.current);var i=qi(ir.current),a=pt(i,r.type);i!==a&&(qe(pa,r),qe(ir,a))}function Nf(r){pa.current===r&&(Qe(ir),Qe(pa))}var tt=Xr(0);function $u(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vf=[];function Of(){for(var r=0;r<Vf.length;r++)Vf[r]._workInProgressVersionPrimary=null;Vf.length=0}var Hu=q.ReactCurrentDispatcher,bf=q.ReactCurrentBatchConfig,Ki=0,nt=null,gt=null,It=null,Wu=!1,ga=!1,ya=0,ME=0;function Ft(){throw Error(t(321))}function Mf(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Un(r[a],i[a]))return!1;return!0}function Lf(r,i,a,c,h,m){if(Ki=m,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Hu.current=r===null||r.memoizedState===null?zE:UE,r=a(c,h),ga){m=0;do{if(ga=!1,ya=0,25<=m)throw Error(t(301));m+=1,It=gt=null,i.updateQueue=null,Hu.current=BE,r=a(c,h)}while(ga)}if(Hu.current=Qu,i=gt!==null&&gt.next!==null,Ki=0,It=gt=nt=null,Wu=!1,i)throw Error(t(300));return r}function Ff(){var r=ya!==0;return ya=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=r:It=It.next=r,It}function Pn(){if(gt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var i=It===null?nt.memoizedState:It.next;if(i!==null)It=i,gt=r;else{if(r===null)throw Error(t(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?nt.memoizedState=It=r:It=It.next=r}return It}function _a(r,i){return typeof i=="function"?i(r):i}function jf(r){var i=Pn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=gt,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var I=v=null,k=null,j=m;do{var G=j.lane;if((Ki&G)===G)k!==null&&(k=k.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:r(c,j.action);else{var J={lane:G,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};k===null?(I=k=J,v=c):k=k.next=J,nt.lanes|=G,Qi|=G}j=j.next}while(j!==null&&j!==m);k===null?v=c:k.next=I,Un(c,i.memoizedState)||(tn=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=k,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do m=h.lane,nt.lanes|=m,Qi|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function zf(r){var i=Pn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do m=r(m,v.action),v=v.next;while(v!==h);Un(m,i.memoizedState)||(tn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function _m(){}function vm(r,i){var a=nt,c=Pn(),h=i(),m=!Un(c.memoizedState,h);if(m&&(c.memoizedState=h,tn=!0),c=c.queue,Uf(Tm.bind(null,a,c,r),[r]),c.getSnapshot!==i||m||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,va(9,Em.bind(null,a,c,h,i),void 0,null),At===null)throw Error(t(349));Ki&30||wm(a,i,h)}return h}function wm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Em(r,i,a,c){i.value=a,i.getSnapshot=c,Sm(i)&&Im(r)}function Tm(r,i,a){return a(function(){Sm(i)&&Im(r)})}function Sm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Un(r,a)}catch{return!0}}function Im(r){var i=Cr(r,1);i!==null&&qn(i,r,1,-1)}function Am(r){var i=sr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:r},i.queue=r,r=r.dispatch=jE.bind(null,nt,r),[i.memoizedState,r]}function va(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Cm(){return Pn().memoizedState}function qu(r,i,a,c){var h=sr();nt.flags|=r,h.memoizedState=va(1|i,a,void 0,c===void 0?null:c)}function Ku(r,i,a,c){var h=Pn();c=c===void 0?null:c;var m=void 0;if(gt!==null){var v=gt.memoizedState;if(m=v.destroy,c!==null&&Mf(c,v.deps)){h.memoizedState=va(i,a,m,c);return}}nt.flags|=r,h.memoizedState=va(1|i,a,m,c)}function Pm(r,i){return qu(8390656,8,r,i)}function Uf(r,i){return Ku(2048,8,r,i)}function Rm(r,i){return Ku(4,2,r,i)}function km(r,i){return Ku(4,4,r,i)}function xm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Dm(r,i,a){return a=a!=null?a.concat([r]):null,Ku(4,4,xm.bind(null,i,r),a)}function Bf(){}function Nm(r,i){var a=Pn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Mf(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function Vm(r,i){var a=Pn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Mf(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Om(r,i,a){return Ki&21?(Un(a,i)||(a=Mi(),nt.lanes|=a,Qi|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a)}function LE(r,i){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var c=bf.transition;bf.transition={};try{r(!1),i()}finally{Ne=a,bf.transition=c}}function bm(){return Pn().memoizedState}function FE(r,i,a){var c=ii(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Mm(r))Lm(i,a);else if(a=dm(r,i,a,c),a!==null){var h=Gt();qn(a,r,c,h),Fm(a,i,c)}}function jE(r,i,a){var c=ii(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mm(r))Lm(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,I=m(v,a);if(h.hasEagerState=!0,h.eagerState=I,Un(I,v)){var k=i.interleaved;k===null?(h.next=h,kf(i)):(h.next=k.next,k.next=h),i.interleaved=h;return}}catch{}finally{}a=dm(r,i,h,c),a!==null&&(h=Gt(),qn(a,r,c,h),Fm(a,i,c))}}function Mm(r){var i=r.alternate;return r===nt||i!==null&&i===nt}function Lm(r,i){ga=Wu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Fm(r,i,a){if(a&4194240){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,$r(r,a)}}var Qu={readContext:Cn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},zE={readContext:Cn,useCallback:function(r,i){return sr().memoizedState=[r,i===void 0?null:i],r},useContext:Cn,useEffect:Pm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,qu(4194308,4,xm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return qu(4194308,4,r,i)},useInsertionEffect:function(r,i){return qu(4,2,r,i)},useMemo:function(r,i){var a=sr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=sr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=FE.bind(null,nt,r),[c.memoizedState,r]},useRef:function(r){var i=sr();return r={current:r},i.memoizedState=r},useState:Am,useDebugValue:Bf,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=Am(!1),i=r[0];return r=LE.bind(null,r[1]),sr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=nt,h=sr();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),At===null)throw Error(t(349));Ki&30||wm(c,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Pm(Tm.bind(null,c,m,r),[r]),c.flags|=2048,va(9,Em.bind(null,c,m,a,i),void 0,null),a},useId:function(){var r=sr(),i=At.identifierPrefix;if(Je){var a=Ar,c=Ir;a=(c&~(1<<32-qt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ya++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=ME++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},UE={readContext:Cn,useCallback:Nm,useContext:Cn,useEffect:Uf,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:km,useMemo:Vm,useReducer:jf,useRef:Cm,useState:function(){return jf(_a)},useDebugValue:Bf,useDeferredValue:function(r){var i=Pn();return Om(i,gt.memoizedState,r)},useTransition:function(){var r=jf(_a)[0],i=Pn().memoizedState;return[r,i]},useMutableSource:_m,useSyncExternalStore:vm,useId:bm,unstable_isNewReconciler:!1},BE={readContext:Cn,useCallback:Nm,useContext:Cn,useEffect:Uf,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:km,useMemo:Vm,useReducer:zf,useRef:Cm,useState:function(){return zf(_a)},useDebugValue:Bf,useDeferredValue:function(r){var i=Pn();return gt===null?i.memoizedState=r:Om(i,gt.memoizedState,r)},useTransition:function(){var r=zf(_a)[0],i=Pn().memoizedState;return[r,i]},useMutableSource:_m,useSyncExternalStore:vm,useId:bm,unstable_isNewReconciler:!1};function $n(r,i){if(r&&r.defaultProps){i=se({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function $f(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Gu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Gt(),h=ii(r),m=Pr(c,h);m.payload=i,a!=null&&(m.callback=a),i=ei(r,m,h),i!==null&&(qn(i,r,h,c),Uu(i,r,h))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Gt(),h=ii(r),m=Pr(c,h);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ei(r,m,h),i!==null&&(qn(i,r,h,c),Uu(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Gt(),c=ii(r),h=Pr(a,c);h.tag=2,i!=null&&(h.callback=i),i=ei(r,h,c),i!==null&&(qn(i,r,c,a),Uu(i,r,c))}};function jm(r,i,a,c,h,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!sa(a,c)||!sa(h,m):!0}function zm(r,i,a){var c=!1,h=Yr,m=i.contextType;return typeof m=="object"&&m!==null?m=Cn(m):(h=en(i)?Bi:Lt.current,c=i.contextTypes,m=(c=c!=null)?qs(r,h):Yr),i=new i(a,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Gu,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),i}function Um(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Gu.enqueueReplaceState(i,i.state,null)}function Hf(r,i,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},xf(r);var m=i.contextType;typeof m=="object"&&m!==null?h.context=Cn(m):(m=en(i)?Bi:Lt.current,h.context=qs(r,m)),h.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&($f(r,i,m,a),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&Gu.enqueueReplaceState(h,h.state,null),Bu(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function eo(r,i){try{var a="",c=i;do a+=Ie(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:h,digest:null}}function Wf(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function qf(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var $E=typeof WeakMap=="function"?WeakMap:Map;function Bm(r,i,a){a=Pr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){nl||(nl=!0,ah=c),qf(r,i)},a}function $m(r,i,a){a=Pr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){qf(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){qf(r,i),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Hm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new $E;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),r=r0.bind(null,r,i,a),i.then(r,r))}function Wm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function qm(r,i,a,c,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Pr(-1,1),i.tag=2,ei(a,i,1))),a.lanes|=1),r)}var HE=q.ReactCurrentOwner,tn=!1;function Qt(r,i,a,c){i.child=r===null?hm(i,null,a,c):Xs(i,r.child,a,c)}function Km(r,i,a,c,h){a=a.render;var m=i.ref;return Js(i,h),c=Lf(r,i,a,c,m,h),a=Ff(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,Rr(r,i,h)):(Je&&a&&wf(i),i.flags|=1,Qt(r,i,c,h),i.child)}function Qm(r,i,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!ph(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Gm(r,i,m,c,h)):(r=ul(a.type,null,c,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!(r.lanes&h)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:sa,a(v,c)&&r.ref===i.ref)return Rr(r,i,h)}return i.flags|=1,r=oi(m,c),r.ref=i.ref,r.return=i,i.child=r}function Gm(r,i,a,c,h){if(r!==null){var m=r.memoizedProps;if(sa(m,c)&&r.ref===i.ref)if(tn=!1,i.pendingProps=c=m,(r.lanes&h)!==0)r.flags&131072&&(tn=!0);else return i.lanes=r.lanes,Rr(r,i,h)}return Kf(r,i,a,c,h)}function Xm(r,i,a){var c=i.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(no,mn),mn|=a;else{if(!(a&1073741824))return r=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,qe(no,mn),mn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(no,mn),mn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe(no,mn),mn|=c;return Qt(r,i,h,a),i.child}function Ym(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Kf(r,i,a,c,h){var m=en(a)?Bi:Lt.current;return m=qs(i,m),Js(i,h),a=Lf(r,i,a,c,m,h),c=Ff(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,Rr(r,i,h)):(Je&&c&&wf(i),i.flags|=1,Qt(r,i,a,h),i.child)}function Jm(r,i,a,c,h){if(en(a)){var m=!0;Vu(i)}else m=!1;if(Js(i,h),i.stateNode===null)Yu(r,i),zm(i,a,c),Hf(i,a,c,h),c=!0;else if(r===null){var v=i.stateNode,I=i.memoizedProps;v.props=I;var k=v.context,j=a.contextType;typeof j=="object"&&j!==null?j=Cn(j):(j=en(a)?Bi:Lt.current,j=qs(i,j));var G=a.getDerivedStateFromProps,J=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||k!==j)&&Um(i,v,c,j),Zr=!1;var K=i.memoizedState;v.state=K,Bu(i,c,v,h),k=i.memoizedState,I!==c||K!==k||Zt.current||Zr?(typeof G=="function"&&($f(i,a,G,c),k=i.memoizedState),(I=Zr||jm(i,a,I,c,K,k,j))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),v.props=c,v.state=k,v.context=j,c=I):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,pm(r,i),I=i.memoizedProps,j=i.type===i.elementType?I:$n(i.type,I),v.props=j,J=i.pendingProps,K=v.context,k=a.contextType,typeof k=="object"&&k!==null?k=Cn(k):(k=en(a)?Bi:Lt.current,k=qs(i,k));var oe=a.getDerivedStateFromProps;(G=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==J||K!==k)&&Um(i,v,c,k),Zr=!1,K=i.memoizedState,v.state=K,Bu(i,c,v,h);var le=i.memoizedState;I!==J||K!==le||Zt.current||Zr?(typeof oe=="function"&&($f(i,a,oe,c),le=i.memoizedState),(j=Zr||jm(i,a,j,c,K,le,k)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,le,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,le,k)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=le),v.props=c,v.state=le,v.context=k,c=j):(typeof v.componentDidUpdate!="function"||I===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),c=!1)}return Qf(r,i,a,c,m,h)}function Qf(r,i,a,c,h,m){Ym(r,i);var v=(i.flags&128)!==0;if(!c&&!v)return h&&rm(i,a,!1),Rr(r,i,m);c=i.stateNode,HE.current=i;var I=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&v?(i.child=Xs(i,r.child,null,m),i.child=Xs(i,null,I,m)):Qt(r,i,I,m),i.memoizedState=c.state,h&&rm(i,a,!0),i.child}function Zm(r){var i=r.stateNode;i.pendingContext?tm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&tm(r,i.context,!1),Df(r,i.containerInfo)}function eg(r,i,a,c,h){return Gs(),If(h),i.flags|=256,Qt(r,i,a,c),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Xf(r){return{baseLanes:r,cachePool:null,transitions:null}}function tg(r,i,a){var c=i.pendingProps,h=tt.current,m=!1,v=(i.flags&128)!==0,I;if((I=v)||(I=r!==null&&r.memoizedState===null?!1:(h&2)!==0),I?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),qe(tt,h&1),r===null)return Sf(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,r=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=ll(v,c,0,null),r=Ji(r,c,a,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Xf(a),i.memoizedState=Gf,r):Yf(i,v));if(h=r.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return WE(r,i,v,c,I,h,a);if(m){m=c.fallback,v=i.mode,h=r.child,I=h.sibling;var k={mode:"hidden",children:c.children};return!(v&1)&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=oi(h,k),c.subtreeFlags=h.subtreeFlags&14680064),I!==null?m=oi(I,m):(m=Ji(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=r.child.memoizedState,v=v===null?Xf(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=r.childLanes&~a,i.memoizedState=Gf,c}return m=r.child,r=m.sibling,c=oi(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function Yf(r,i){return i=ll({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Xu(r,i,a,c){return c!==null&&If(c),Xs(i,r.child,null,a),r=Yf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function WE(r,i,a,c,h,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Wf(Error(t(422))),Xu(r,i,v,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=c.fallback,h=i.mode,c=ll({mode:"visible",children:c.children},h,0,null),m=Ji(m,h,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Xs(i,r.child,null,v),i.child.memoizedState=Xf(v),i.memoizedState=Gf,m);if(!(i.mode&1))return Xu(r,i,v,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=Wf(m,c,void 0),Xu(r,i,v,c)}if(I=(v&r.childLanes)!==0,tn||I){if(c=At,c!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|v)?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Cr(r,h),qn(c,r,h,-1))}return dh(),c=Wf(Error(t(421))),Xu(r,i,v,c)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=i0.bind(null,r),h._reactRetry=i,null):(r=m.treeContext,pn=Gr(h.nextSibling),dn=i,Je=!0,Bn=null,r!==null&&(In[An++]=Ir,In[An++]=Ar,In[An++]=$i,Ir=r.id,Ar=r.overflow,$i=i),i=Yf(i,c.children),i.flags|=4096,i)}function ng(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Rf(r.return,i,a)}function Jf(r,i,a,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function rg(r,i,a){var c=i.pendingProps,h=c.revealOrder,m=c.tail;if(Qt(r,i,c.children,a),c=tt.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ng(r,a,i);else if(r.tag===19)ng(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(qe(tt,c),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)r=a.alternate,r!==null&&$u(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jf(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&$u(r)===null){i.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Jf(i,!0,a,null,m);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Rr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Qi|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=oi(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=oi(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function qE(r,i,a){switch(i.tag){case 3:Zm(i),Gs();break;case 5:ym(i);break;case 1:en(i.type)&&Vu(i);break;case 4:Df(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;qe(ju,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(tt,tt.current&1),i.flags|=128,null):a&i.child.childLanes?tg(r,i,a):(qe(tt,tt.current&1),r=Rr(r,i,a),r!==null?r.sibling:null);qe(tt,tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,r.flags&128){if(c)return rg(r,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(tt,tt.current),c)break;return null;case 22:case 23:return i.lanes=0,Xm(r,i,a)}return Rr(r,i,a)}var ig,Zf,sg,og;ig=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Zf=function(){},sg=function(r,i,a,c){var h=r.memoizedProps;if(h!==c){r=i.stateNode,qi(ir.current);var m=null;switch(a){case"input":h=Ai(r,h),c=Ai(r,c),m=[];break;case"select":h=se({},h,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":h=Oo(r,h),c=Oo(r,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=xu)}zo(a,c);var v;a=null;for(j in h)if(!c.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var I=h[j];for(v in I)I.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?m||(m=[]):(m=m||[]).push(j,null));for(j in c){var k=c[j];if(I=h!=null?h[j]:void 0,c.hasOwnProperty(j)&&k!==I&&(k!=null||I!=null))if(j==="style")if(I){for(v in I)!I.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in k)k.hasOwnProperty(v)&&I[v]!==k[v]&&(a||(a={}),a[v]=k[v])}else a||(m||(m=[]),m.push(j,a)),a=k;else j==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(m=m||[]).push(j,k)):j==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(j,""+k):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(k!=null&&j==="onScroll"&&Ke("scroll",r),m||I===k||(m=[])):(m=m||[]).push(j,k))}a&&(m=m||[]).push("style",a);var j=m;(i.updateQueue=j)&&(i.flags|=4)}},og=function(r,i,a,c){a!==c&&(i.flags|=4)};function wa(r,i){if(!Je)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function jt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function KE(r,i,a){var c=i.pendingProps;switch(Ef(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return en(i.type)&&Nu(),jt(i),null;case 3:return c=i.stateNode,Zs(),Qe(Zt),Qe(Lt),Of(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Lu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Bn!==null&&(ch(Bn),Bn=null))),Zf(r,i),jt(i),null;case 5:Nf(i);var h=qi(ma.current);if(a=i.type,r!==null&&i.stateNode!=null)sg(r,i,a,c,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return jt(i),null}if(r=qi(ir.current),Lu(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[rr]=i,c[ca]=m,r=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(h=0;h<aa.length;h++)Ke(aa[h],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":ps(c,m),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ke("invalid",c);break;case"textarea":gs(c,m),Ke("invalid",c)}zo(a,m),h=null;for(var v in m)if(m.hasOwnProperty(v)){var I=m[v];v==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&ku(c.textContent,I,r),h=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&ku(c.textContent,I,r),h=["children",""+I]):o.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&Ke("scroll",c)}switch(a){case"input":Xt(c),tu(c,m,!0);break;case"textarea":Xt(c),bo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=xu)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[rr]=i,r[ca]=c,ig(r,i,!1,!1),i.stateNode=r;e:{switch(v=Uo(a,c),a){case"dialog":Ke("cancel",r),Ke("close",r),h=c;break;case"iframe":case"object":case"embed":Ke("load",r),h=c;break;case"video":case"audio":for(h=0;h<aa.length;h++)Ke(aa[h],r);h=c;break;case"source":Ke("error",r),h=c;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),h=c;break;case"details":Ke("toggle",r),h=c;break;case"input":ps(r,c),h=Ai(r,c),Ke("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=se({},c,{value:void 0}),Ke("invalid",r);break;case"textarea":gs(r,c),h=Oo(r,c),Ke("invalid",r);break;default:h=c}zo(a,h),I=h;for(m in I)if(I.hasOwnProperty(m)){var k=I[m];m==="style"?Fo(r,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Mo(r,k)):m==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Fr(r,k):typeof k=="number"&&Fr(r,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?k!=null&&m==="onScroll"&&Ke("scroll",r):k!=null&&Q(r,m,k,v))}switch(a){case"input":Xt(r),tu(r,c,!1);break;case"textarea":Xt(r),bo(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ke(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?pr(r,!!c.multiple,m,!1):c.defaultValue!=null&&pr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=xu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return jt(i),null;case 6:if(r&&i.stateNode!=null)og(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=qi(ma.current),qi(ir.current),Lu(i)){if(c=i.stateNode,a=i.memoizedProps,c[rr]=i,(m=c.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:ku(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ku(c.nodeValue,a,(r.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[rr]=i,i.stateNode=c}return jt(i),null;case 13:if(Qe(tt),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&pn!==null&&i.mode&1&&!(i.flags&128))lm(),Gs(),i.flags|=98560,m=!1;else if(m=Lu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[rr]=i}else Gs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;jt(i),m=!1}else Bn!==null&&(ch(Bn),Bn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||tt.current&1?yt===0&&(yt=3):dh())),i.updateQueue!==null&&(i.flags|=4),jt(i),null);case 4:return Zs(),Zf(r,i),r===null&&ua(i.stateNode.containerInfo),jt(i),null;case 10:return Pf(i.type._context),jt(i),null;case 17:return en(i.type)&&Nu(),jt(i),null;case 19:if(Qe(tt),m=i.memoizedState,m===null)return jt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)wa(m,!1);else{if(yt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(v=$u(r),v!==null){for(i.flags|=128,wa(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,r=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,r=v.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(tt,tt.current&1|2),i.child}r=r.sibling}m.tail!==null&&We()>ro&&(i.flags|=128,c=!0,wa(m,!1),i.lanes=4194304)}else{if(!c)if(r=$u(v),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),wa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Je)return jt(i),null}else 2*We()-m.renderingStartTime>ro&&a!==1073741824&&(i.flags|=128,c=!0,wa(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=We(),i.sibling=null,a=tt.current,qe(tt,c?a&1|2:a&1),i):(jt(i),null);case 22:case 23:return hh(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?mn&1073741824&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function QE(r,i){switch(Ef(i),i.tag){case 1:return en(i.type)&&Nu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Zs(),Qe(Zt),Qe(Lt),Of(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Nf(i),null;case 13:if(Qe(tt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Gs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Qe(tt),null;case 4:return Zs(),null;case 10:return Pf(i.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Ju=!1,zt=!1,GE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function to(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,i,c)}else a.current=null}function eh(r,i,a){try{a()}catch(c){st(r,i,c)}}var ag=!1;function XE(r,i){if(hf=qr,r=jp(),rf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,I=-1,k=-1,j=0,G=0,J=r,K=null;t:for(;;){for(var oe;J!==a||h!==0&&J.nodeType!==3||(I=v+h),J!==m||c!==0&&J.nodeType!==3||(k=v+c),J.nodeType===3&&(v+=J.nodeValue.length),(oe=J.firstChild)!==null;)K=J,J=oe;for(;;){if(J===r)break t;if(K===a&&++j===h&&(I=v),K===m&&++G===c&&(k=v),(oe=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=oe}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:r,selectionRange:a},qr=!1,ue=i;ue!==null;)if(i=ue,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ue=r;else for(;ue!==null;){i=ue;try{var le=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var fe=le.memoizedProps,at=le.memoizedState,L=i.stateNode,D=L.getSnapshotBeforeUpdate(i.elementType===i.type?fe:$n(i.type,fe),at);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){st(i,i.return,Z)}if(r=i.sibling,r!==null){r.return=i.return,ue=r;break}ue=i.return}return le=ag,ag=!1,le}function Ea(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&eh(i,a,m)}h=h.next}while(h!==c)}}function Zu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function th(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function ug(r){var i=r.alternate;i!==null&&(r.alternate=null,ug(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[rr],delete i[ca],delete i[yf],delete i[NE],delete i[VE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function lg(r){return r.tag===5||r.tag===3||r.tag===4}function cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xu));else if(c!==4&&(r=r.child,r!==null))for(nh(r,i,a),r=r.sibling;r!==null;)nh(r,i,a),r=r.sibling}function rh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(rh(r,i,a),r=r.sibling;r!==null;)rh(r,i,a),r=r.sibling}var Dt=null,Hn=!1;function ti(r,i,a){for(a=a.child;a!==null;)fg(r,i,a),a=a.sibling}function fg(r,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 5:zt||to(a,i);case 6:var c=Dt,h=Hn;Dt=null,ti(r,i,a),Dt=c,Hn=h,Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Hn?(r=Dt,a=a.stateNode,r.nodeType===8?gf(r.parentNode,a):r.nodeType===1&&gf(r,a),jn(r)):gf(Dt,a.stateNode));break;case 4:c=Dt,h=Hn,Dt=a.stateNode.containerInfo,Hn=!0,ti(r,i,a),Dt=c,Hn=h;break;case 0:case 11:case 14:case 15:if(!zt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&eh(a,i,v),h=h.next}while(h!==c)}ti(r,i,a);break;case 1:if(!zt&&(to(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){st(a,i,I)}ti(r,i,a);break;case 21:ti(r,i,a);break;case 22:a.mode&1?(zt=(c=zt)||a.memoizedState!==null,ti(r,i,a),zt=c):ti(r,i,a);break;default:ti(r,i,a)}}function hg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new GE),i.forEach(function(c){var h=s0.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Wn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=r,v=i,I=v;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Hn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Hn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Hn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));fg(m,v,h),Dt=null,Hn=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(j){st(h,i,j)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dg(i,r),i=i.sibling}function dg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(i,r),or(r),c&4){try{Ea(3,r,r.return),Zu(3,r)}catch(fe){st(r,r.return,fe)}try{Ea(5,r,r.return)}catch(fe){st(r,r.return,fe)}}break;case 1:Wn(i,r),or(r),c&512&&a!==null&&to(a,a.return);break;case 5:if(Wn(i,r),or(r),c&512&&a!==null&&to(a,a.return),r.flags&32){var h=r.stateNode;try{Fr(h,"")}catch(fe){st(r,r.return,fe)}}if(c&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,v=a!==null?a.memoizedProps:m,I=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&No(h,m),Uo(I,v);var j=Uo(I,m);for(v=0;v<k.length;v+=2){var G=k[v],J=k[v+1];G==="style"?Fo(h,J):G==="dangerouslySetInnerHTML"?Mo(h,J):G==="children"?Fr(h,J):Q(h,G,J,j)}switch(I){case"input":Vo(h,m);break;case"textarea":ys(h,m);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?pr(h,!!m.multiple,oe,!1):K!==!!m.multiple&&(m.defaultValue!=null?pr(h,!!m.multiple,m.defaultValue,!0):pr(h,!!m.multiple,m.multiple?[]:"",!1))}h[ca]=m}catch(fe){st(r,r.return,fe)}}break;case 6:if(Wn(i,r),or(r),c&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(fe){st(r,r.return,fe)}}break;case 3:if(Wn(i,r),or(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(i.containerInfo)}catch(fe){st(r,r.return,fe)}break;case 4:Wn(i,r),or(r);break;case 13:Wn(i,r),or(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(oh=We())),c&4&&hg(r);break;case 22:if(G=a!==null&&a.memoizedState!==null,r.mode&1?(zt=(j=zt)||G,Wn(i,r),zt=j):Wn(i,r),or(r),c&8192){if(j=r.memoizedState!==null,(r.stateNode.isHidden=j)&&!G&&r.mode&1)for(ue=r,G=r.child;G!==null;){for(J=ue=G;ue!==null;){switch(K=ue,oe=K.child,K.tag){case 0:case 11:case 14:case 15:Ea(4,K,K.return);break;case 1:to(K,K.return);var le=K.stateNode;if(typeof le.componentWillUnmount=="function"){c=K,a=K.return;try{i=c,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(fe){st(c,a,fe)}}break;case 5:to(K,K.return);break;case 22:if(K.memoizedState!==null){gg(J);continue}}oe!==null?(oe.return=K,ue=oe):gg(J)}G=G.sibling}e:for(G=null,J=r;;){if(J.tag===5){if(G===null){G=J;try{h=J.stateNode,j?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=J.stateNode,k=J.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Lo("display",v))}catch(fe){st(r,r.return,fe)}}}else if(J.tag===6){if(G===null)try{J.stateNode.nodeValue=j?"":J.memoizedProps}catch(fe){st(r,r.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;G===J&&(G=null),J=J.return}G===J&&(G=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Wn(i,r),or(r),c&4&&hg(r);break;case 21:break;default:Wn(i,r),or(r)}}function or(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(lg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Fr(h,""),c.flags&=-33);var m=cg(r);rh(r,m,h);break;case 3:case 4:var v=c.stateNode.containerInfo,I=cg(r);nh(r,I,v);break;default:throw Error(t(161))}}catch(k){st(r,r.return,k)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function YE(r,i,a){ue=r,pg(r)}function pg(r,i,a){for(var c=(r.mode&1)!==0;ue!==null;){var h=ue,m=h.child;if(h.tag===22&&c){var v=h.memoizedState!==null||Ju;if(!v){var I=h.alternate,k=I!==null&&I.memoizedState!==null||zt;I=Ju;var j=zt;if(Ju=v,(zt=k)&&!j)for(ue=h;ue!==null;)v=ue,k=v.child,v.tag===22&&v.memoizedState!==null?yg(h):k!==null?(k.return=v,ue=k):yg(h);for(;m!==null;)ue=m,pg(m),m=m.sibling;ue=h,Ju=I,zt=j}mg(r)}else h.subtreeFlags&8772&&m!==null?(m.return=h,ue=m):mg(r)}}function mg(r){for(;ue!==null;){var i=ue;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:zt||Zu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!zt)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:$n(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&gm(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}gm(i,v,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var j=i.alternate;if(j!==null){var G=j.memoizedState;if(G!==null){var J=G.dehydrated;J!==null&&jn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||i.flags&512&&th(i)}catch(K){st(i,i.return,K)}}if(i===r){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function gg(r){for(;ue!==null;){var i=ue;if(i===r){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function yg(r){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Zu(4,i)}catch(k){st(i,a,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(k){st(i,h,k)}}var m=i.return;try{th(i)}catch(k){st(i,m,k)}break;case 5:var v=i.return;try{th(i)}catch(k){st(i,v,k)}}}catch(k){st(i,i.return,k)}if(i===r){ue=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ue=I;break}ue=i.return}}var JE=Math.ceil,el=q.ReactCurrentDispatcher,ih=q.ReactCurrentOwner,Rn=q.ReactCurrentBatchConfig,Le=0,At=null,ct=null,Nt=0,mn=0,no=Xr(0),yt=0,Ta=null,Qi=0,tl=0,sh=0,Sa=null,nn=null,oh=0,ro=1/0,kr=null,nl=!1,ah=null,ni=null,rl=!1,ri=null,il=0,Ia=0,uh=null,sl=-1,ol=0;function Gt(){return Le&6?We():sl!==-1?sl:sl=We()}function ii(r){return r.mode&1?Le&2&&Nt!==0?Nt&-Nt:bE.transition!==null?(ol===0&&(ol=Mi()),ol):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Jo(r.type)),r):1}function qn(r,i,a,c){if(50<Ia)throw Ia=0,uh=null,Error(t(185));Br(r,a,c),(!(Le&2)||r!==At)&&(r===At&&(!(Le&2)&&(tl|=a),yt===4&&si(r,Nt)),rn(r,c),a===1&&Le===0&&!(i.mode&1)&&(ro=We()+500,Ou&&Jr()))}function rn(r,i){var a=r.callbackNode;yr(r,i);var c=bi(r,r===At?Nt:0);if(c===0)a!==null&&Ko(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&Ko(a),i===1)r.tag===0?OE(vg.bind(null,r)):im(vg.bind(null,r)),xE(function(){!(Le&6)&&Jr()}),a=null;else{switch(Hr(c)){case 1:a=Vi;break;case 4:a=jr;break;case 16:a=En;break;case 536870912:a=ou;break;default:a=En}a=Pg(a,_g.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function _g(r,i){if(sl=-1,ol=0,Le&6)throw Error(t(327));var a=r.callbackNode;if(io()&&r.callbackNode!==a)return null;var c=bi(r,r===At?Nt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=al(r,c);else{i=c;var h=Le;Le|=2;var m=Eg();(At!==r||Nt!==i)&&(kr=null,ro=We()+500,Xi(r,i));do try{t0();break}catch(I){wg(r,I)}while(!0);Cf(),el.current=m,Le=h,ct!==null?i=0:(At=null,Nt=0,i=yt)}if(i!==0){if(i===2&&(h=cn(r),h!==0&&(c=h,i=lh(r,h))),i===1)throw a=Ta,Xi(r,0),si(r,c),rn(r,We()),a;if(i===6)si(r,c);else{if(h=r.current.alternate,!(c&30)&&!ZE(h)&&(i=al(r,c),i===2&&(m=cn(r),m!==0&&(c=m,i=lh(r,m))),i===1))throw a=Ta,Xi(r,0),si(r,c),rn(r,We()),a;switch(r.finishedWork=h,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Yi(r,nn,kr);break;case 3:if(si(r,c),(c&130023424)===c&&(i=oh+500-We(),10<i)){if(bi(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){Gt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=mf(Yi.bind(null,r,nn,kr),i);break}Yi(r,nn,kr);break;case 4:if(si(r,c),(c&4194240)===c)break;for(i=r.eventTimes,h=-1;0<c;){var v=31-qt(c);m=1<<v,v=i[v],v>h&&(h=v),c&=~m}if(c=h,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*JE(c/1960))-c,10<c){r.timeoutHandle=mf(Yi.bind(null,r,nn,kr),c);break}Yi(r,nn,kr);break;case 5:Yi(r,nn,kr);break;default:throw Error(t(329))}}}return rn(r,We()),r.callbackNode===a?_g.bind(null,r):null}function lh(r,i){var a=Sa;return r.current.memoizedState.isDehydrated&&(Xi(r,i).flags|=256),r=al(r,i),r!==2&&(i=nn,nn=a,i!==null&&ch(i)),r}function ch(r){nn===null?nn=r:nn.push.apply(nn,r)}function ZE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Un(m(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(r,i){for(i&=~sh,i&=~tl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-qt(i),c=1<<a;r[a]=-1,i&=~c}}function vg(r){if(Le&6)throw Error(t(327));io();var i=bi(r,0);if(!(i&1))return rn(r,We()),null;var a=al(r,i);if(r.tag!==0&&a===2){var c=cn(r);c!==0&&(i=c,a=lh(r,c))}if(a===1)throw a=Ta,Xi(r,0),si(r,i),rn(r,We()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Yi(r,nn,kr),rn(r,We()),null}function fh(r,i){var a=Le;Le|=1;try{return r(i)}finally{Le=a,Le===0&&(ro=We()+500,Ou&&Jr())}}function Gi(r){ri!==null&&ri.tag===0&&!(Le&6)&&io();var i=Le;Le|=1;var a=Rn.transition,c=Ne;try{if(Rn.transition=null,Ne=1,r)return r()}finally{Ne=c,Rn.transition=a,Le=i,!(Le&6)&&Jr()}}function hh(){mn=no.current,Qe(no)}function Xi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,kE(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Ef(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Nu();break;case 3:Zs(),Qe(Zt),Qe(Lt),Of();break;case 5:Nf(c);break;case 4:Zs();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Pf(c.type._context);break;case 22:case 23:hh()}a=a.return}if(At=r,ct=r=oi(r.current,null),Nt=mn=i,yt=0,Ta=null,sh=tl=Qi=0,nn=Sa=null,Wi!==null){for(i=0;i<Wi.length;i++)if(a=Wi[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=h,c.next=v}a.pending=c}Wi=null}return r}function wg(r,i){do{var a=ct;try{if(Cf(),Hu.current=Qu,Wu){for(var c=nt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Wu=!1}if(Ki=0,It=gt=nt=null,ga=!1,ya=0,ih.current=null,a===null||a.return===null){yt=1,Ta=i,ct=null;break}e:{var m=r,v=a.return,I=a,k=i;if(i=Nt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var j=k,G=I,J=G.tag;if(!(G.mode&1)&&(J===0||J===11||J===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var oe=Wm(v);if(oe!==null){oe.flags&=-257,qm(oe,v,I,m,i),oe.mode&1&&Hm(m,j,i),i=oe,k=j;var le=i.updateQueue;if(le===null){var fe=new Set;fe.add(k),i.updateQueue=fe}else le.add(k);break e}else{if(!(i&1)){Hm(m,j,i),dh();break e}k=Error(t(426))}}else if(Je&&I.mode&1){var at=Wm(v);if(at!==null){!(at.flags&65536)&&(at.flags|=256),qm(at,v,I,m,i),If(eo(k,I));break e}}m=k=eo(k,I),yt!==4&&(yt=2),Sa===null?Sa=[m]:Sa.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var L=Bm(m,k,i);mm(m,L);break e;case 1:I=k;var D=m.type,F=m.stateNode;if(!(m.flags&128)&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ni===null||!ni.has(F)))){m.flags|=65536,i&=-i,m.lanes|=i;var Z=$m(m,I,i);mm(m,Z);break e}}m=m.return}while(m!==null)}Sg(a)}catch(he){i=he,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function Eg(){var r=el.current;return el.current=Qu,r===null?Qu:r}function dh(){(yt===0||yt===3||yt===2)&&(yt=4),At===null||!(Qi&268435455)&&!(tl&268435455)||si(At,Nt)}function al(r,i){var a=Le;Le|=2;var c=Eg();(At!==r||Nt!==i)&&(kr=null,Xi(r,i));do try{e0();break}catch(h){wg(r,h)}while(!0);if(Cf(),Le=a,el.current=c,ct!==null)throw Error(t(261));return At=null,Nt=0,yt}function e0(){for(;ct!==null;)Tg(ct)}function t0(){for(;ct!==null&&!iu();)Tg(ct)}function Tg(r){var i=Cg(r.alternate,r,mn);r.memoizedProps=r.pendingProps,i===null?Sg(r):ct=i,ih.current=null}function Sg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=QE(a,i),a!==null){a.flags&=32767,ct=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,ct=null;return}}else if(a=KE(a,i,mn),a!==null){ct=a;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=r}while(i!==null);yt===0&&(yt=5)}function Yi(r,i,a){var c=Ne,h=Rn.transition;try{Rn.transition=null,Ne=1,n0(r,i,a,c)}finally{Rn.transition=h,Ne=c}return null}function n0(r,i,a,c){do io();while(ri!==null);if(Le&6)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(He(r,m),r===At&&(ct=At=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||rl||(rl=!0,Pg(En,function(){return io(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=Rn.transition,Rn.transition=null;var v=Ne;Ne=1;var I=Le;Le|=4,ih.current=null,XE(r,a),dg(a,r),TE(df),qr=!!hf,df=hf=null,r.current=a,YE(a),Gc(),Le=I,Ne=v,Rn.transition=m}else r.current=a;if(rl&&(rl=!1,ri=r,il=h),m=r.pendingLanes,m===0&&(ni=null),au(a.stateNode),rn(r,We()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(nl)throw nl=!1,r=ah,ah=null,r;return il&1&&r.tag!==0&&io(),m=r.pendingLanes,m&1?r===uh?Ia++:(Ia=0,uh=r):Ia=0,Jr(),null}function io(){if(ri!==null){var r=Hr(il),i=Rn.transition,a=Ne;try{if(Rn.transition=null,Ne=16>r?16:r,ri===null)var c=!1;else{if(r=ri,ri=null,il=0,Le&6)throw Error(t(331));var h=Le;for(Le|=4,ue=r.current;ue!==null;){var m=ue,v=m.child;if(ue.flags&16){var I=m.deletions;if(I!==null){for(var k=0;k<I.length;k++){var j=I[k];for(ue=j;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:Ea(8,G,m)}var J=G.child;if(J!==null)J.return=G,ue=J;else for(;ue!==null;){G=ue;var K=G.sibling,oe=G.return;if(ug(G),G===j){ue=null;break}if(K!==null){K.return=oe,ue=K;break}ue=oe}}}var le=m.alternate;if(le!==null){var fe=le.child;if(fe!==null){le.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}ue=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,ue=v;else e:for(;ue!==null;){if(m=ue,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ea(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ue=L;break e}ue=m.return}}var D=r.current;for(ue=D;ue!==null;){v=ue;var F=v.child;if(v.subtreeFlags&2064&&F!==null)F.return=v,ue=F;else e:for(v=D;ue!==null;){if(I=ue,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Zu(9,I)}}catch(he){st(I,I.return,he)}if(I===v){ue=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ue=Z;break e}ue=I.return}}if(Le=h,Jr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Oi,r)}catch{}c=!0}return c}finally{Ne=a,Rn.transition=i}}return!1}function Ig(r,i,a){i=eo(a,i),i=Bm(r,i,1),r=ei(r,i,1),i=Gt(),r!==null&&(Br(r,1,i),rn(r,i))}function st(r,i,a){if(r.tag===3)Ig(r,r,a);else for(;i!==null;){if(i.tag===3){Ig(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){r=eo(a,r),r=$m(i,r,1),i=ei(i,r,1),r=Gt(),i!==null&&(Br(i,1,r),rn(i,r));break}}i=i.return}}function r0(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Gt(),r.pingedLanes|=r.suspendedLanes&a,At===r&&(Nt&a)===a&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>We()-oh?Xi(r,0):sh|=a),rn(r,i)}function Ag(r,i){i===0&&(r.mode&1?(i=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):i=1);var a=Gt();r=Cr(r,i),r!==null&&(Br(r,i,a),rn(r,a))}function i0(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Ag(r,a)}function s0(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Ag(r,a)}var Cg;Cg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Zt.current)tn=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return tn=!1,qE(r,i,a);tn=!!(r.flags&131072)}else tn=!1,Je&&i.flags&1048576&&sm(i,Mu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Yu(r,i),r=i.pendingProps;var h=qs(i,Lt.current);Js(i,a),h=Lf(null,i,c,r,h,a);var m=Ff();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,en(c)?(m=!0,Vu(i)):m=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,xf(i),h.updater=Gu,i.stateNode=h,h._reactInternals=i,Hf(i,c,r,a),i=Qf(null,i,c,!0,m,a)):(i.tag=0,Je&&m&&wf(i),Qt(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Yu(r,i),r=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=a0(c),r=$n(c,r),h){case 0:i=Kf(null,i,c,r,a);break e;case 1:i=Jm(null,i,c,r,a);break e;case 11:i=Km(null,i,c,r,a);break e;case 14:i=Qm(null,i,c,$n(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:$n(c,h),Kf(r,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:$n(c,h),Jm(r,i,c,h,a);case 3:e:{if(Zm(i),r===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,h=m.element,pm(r,i),Bu(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){h=eo(Error(t(423)),i),i=eg(r,i,c,a,h);break e}else if(c!==h){h=eo(Error(t(424)),i),i=eg(r,i,c,a,h);break e}else for(pn=Gr(i.stateNode.containerInfo.firstChild),dn=i,Je=!0,Bn=null,a=hm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),c===h){i=Rr(r,i,a);break e}Qt(r,i,c,a)}i=i.child}return i;case 5:return ym(i),r===null&&Sf(i),c=i.type,h=i.pendingProps,m=r!==null?r.memoizedProps:null,v=h.children,pf(c,h)?v=null:m!==null&&pf(c,m)&&(i.flags|=32),Ym(r,i),Qt(r,i,v,a),i.child;case 6:return r===null&&Sf(i),null;case 13:return tg(r,i,a);case 4:return Df(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Xs(i,null,c,a):Qt(r,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:$n(c,h),Km(r,i,c,h,a);case 7:return Qt(r,i,i.pendingProps,a),i.child;case 8:return Qt(r,i,i.pendingProps.children,a),i.child;case 12:return Qt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,m=i.memoizedProps,v=h.value,qe(ju,c._currentValue),c._currentValue=v,m!==null)if(Un(m.value,v)){if(m.children===h.children&&!Zt.current){i=Rr(r,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var I=m.dependencies;if(I!==null){v=m.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(m.tag===1){k=Pr(-1,a&-a),k.tag=2;var j=m.updateQueue;if(j!==null){j=j.shared;var G=j.pending;G===null?k.next=k:(k.next=G.next,G.next=k),j.pending=k}}m.lanes|=a,k=m.alternate,k!==null&&(k.lanes|=a),Rf(m.return,a,i),I.lanes|=a;break}k=k.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),Rf(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Qt(r,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,Js(i,a),h=Cn(h),c=c(h),i.flags|=1,Qt(r,i,c,a),i.child;case 14:return c=i.type,h=$n(c,i.pendingProps),h=$n(c.type,h),Qm(r,i,c,h,a);case 15:return Gm(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:$n(c,h),Yu(r,i),i.tag=1,en(c)?(r=!0,Vu(i)):r=!1,Js(i,a),zm(i,c,h),Hf(i,c,h,a),Qf(null,i,c,!0,r,a);case 19:return rg(r,i,a);case 22:return Xm(r,i,a)}throw Error(t(156,i.tag))};function Pg(r,i){return As(r,i)}function o0(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,i,a,c){return new o0(r,i,a,c)}function ph(r){return r=r.prototype,!(!r||!r.isReactComponent)}function a0(r){if(typeof r=="function")return ph(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Et)return 14}return 2}function oi(r,i){var a=r.alternate;return a===null?(a=kn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ul(r,i,a,c,h,m){var v=2;if(c=r,typeof r=="function")ph(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case A:return Ji(a.children,h,m,i);case S:v=8,h|=8;break;case C:return r=kn(12,a,i,h|2),r.elementType=C,r.lanes=m,r;case P:return r=kn(13,a,i,h),r.elementType=P,r.lanes=m,r;case et:return r=kn(19,a,i,h),r.elementType=et,r.lanes=m,r;case Fe:return ll(a,h,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:v=10;break e;case N:v=9;break e;case b:v=11;break e;case Et:v=14;break e;case Tt:v=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=kn(v,a,i,h),i.elementType=r,i.type=c,i.lanes=m,i}function Ji(r,i,a,c){return r=kn(7,r,c,i),r.lanes=a,r}function ll(r,i,a,c){return r=kn(22,r,c,i),r.elementType=Fe,r.lanes=a,r.stateNode={isHidden:!1},r}function mh(r,i,a){return r=kn(6,r,null,i),r.lanes=a,r}function gh(r,i,a){return i=kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function u0(r,i,a,c,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ur(0),this.expirationTimes=Ur(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function yh(r,i,a,c,h,m,v,I,k){return r=new u0(r,i,a,I,k),i===1?(i=1,m===!0&&(i|=8)):i=0,m=kn(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(m),r}function l0(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Rg(r){if(!r)return Yr;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(en(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return nm(r,a,i)}return i}function kg(r,i,a,c,h,m,v,I,k){return r=yh(a,c,!0,r,h,m,v,I,k),r.context=Rg(null),a=r.current,c=Gt(),h=ii(a),m=Pr(c,h),m.callback=i??null,ei(a,m,h),r.current.lanes=h,Br(r,h,c),rn(r,c),r}function cl(r,i,a,c){var h=i.current,m=Gt(),v=ii(h);return a=Rg(a),i.context===null?i.context=a:i.pendingContext=a,i=Pr(m,v),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=ei(h,i,v),r!==null&&(qn(r,h,v,m),Uu(r,h,v)),v}function fl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function xg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function _h(r,i){xg(r,i),(r=r.alternate)&&xg(r,i)}var Dg=typeof reportError=="function"?reportError:function(r){console.error(r)};function vh(r){this._internalRoot=r}hl.prototype.render=vh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));cl(r,i,null,null)},hl.prototype.unmount=vh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Gi(function(){cl(null,r,null,null)}),i[Tr]=null}};function hl(r){this._internalRoot=r}hl.prototype.unstable_scheduleHydration=function(r){if(r){var i=hu();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Zn.length&&i!==0&&i<Zn[a].priority;a++);Zn.splice(a,0,r),a===0&&mu(r)}};function wh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function c0(r,i,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var j=fl(v);m.call(j)}}var v=kg(i,c,r,0,null,!1,!1,"",Ng);return r._reactRootContainer=v,r[Tr]=v.current,ua(r.nodeType===8?r.parentNode:r),Gi(),v}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var I=c;c=function(){var j=fl(k);I.call(j)}}var k=yh(r,0,!1,null,null,!1,!1,"",Ng);return r._reactRootContainer=k,r[Tr]=k.current,ua(r.nodeType===8?r.parentNode:r),Gi(function(){cl(i,k,a,c)}),k}function pl(r,i,a,c,h){var m=a._reactRootContainer;if(m){var v=m;if(typeof h=="function"){var I=h;h=function(){var k=fl(v);I.call(k)}}cl(i,v,r,h)}else v=c0(a,i,r,h,c);return fl(v)}cu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=zr(i.pendingLanes);a!==0&&($r(i,a|1),rn(i,We()),!(Le&6)&&(ro=We()+500,Jr()))}break;case 13:Gi(function(){var c=Cr(r,1);if(c!==null){var h=Gt();qn(c,r,1,h)}}),_h(r,1)}},Rs=function(r){if(r.tag===13){var i=Cr(r,134217728);if(i!==null){var a=Gt();qn(i,r,134217728,a)}_h(r,134217728)}},fu=function(r){if(r.tag===13){var i=ii(r),a=Cr(r,i);if(a!==null){var c=Gt();qn(a,r,i,c)}_h(r,i)}},hu=function(){return Ne},du=function(r,i){var a=Ne;try{return Ne=r,i()}finally{Ne=a}},vs=function(r,i,a){switch(i){case"input":if(Vo(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var h=Du(c);if(!h)throw Error(t(90));Wt(c),Vo(c,h)}}}break;case"textarea":ys(r,a);break;case"select":i=a.value,i!=null&&pr(r,!!a.multiple,i,!1)}},ki=fh,$o=Gi;var f0={usingClientEntryPoint:!1,Events:[fa,Hs,Du,Yn,Bo,fh]},Aa={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h0={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=qo(r),r===null?null:r.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Oi=ml.inject(h0),ln=ml}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0,sn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(i))throw Error(t(200));return l0(r,i,null,a)},sn.createRoot=function(r,i){if(!wh(r))throw Error(t(299));var a=!1,c="",h=Dg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=yh(r,1,!1,null,null,a,!1,c,h),r[Tr]=i.current,ua(r.nodeType===8?r.parentNode:r),new vh(i)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=qo(i),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return Gi(r)},sn.hydrate=function(r,i,a){if(!dl(i))throw Error(t(200));return pl(null,r,i,!0,a)},sn.hydrateRoot=function(r,i,a){if(!wh(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",v=Dg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=kg(i,null,r,1,a??null,h,!1,m,v),r[Tr]=i.current,ua(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new hl(i)},sn.render=function(r,i,a){if(!dl(i))throw Error(t(200));return pl(null,r,i,!1,a)},sn.unmountComponentAtNode=function(r){if(!dl(r))throw Error(t(40));return r._reactRootContainer?(Gi(function(){pl(null,null,r,!1,function(){r._reactRootContainer=null,r[Tr]=null})}),!0):!1},sn.unstable_batchedUpdates=fh,sn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!dl(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return pl(r,i,a,!1,c)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var zg;function w0(){if(zg)return Sh.exports;zg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sh.exports=v0(),Sh.exports}var Ug;function E0(){if(Ug)return gl;Ug=1;var n=w0();return gl.createRoot=n.createRoot,gl.hydrateRoot=n.hydrateRoot,gl}var T0=E0(),Ch={exports:{}},Ph={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function S0(){if(Bg)return Ph;Bg=1;var n=yc();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,f=n.useMemo,d=n.useDebugValue;return Ph.useSyncExternalStoreWithSelector=function(g,_,w,T,R){var O=o(null);if(O.current===null){var B={hasValue:!1,value:null};O.current=B}else B=O.current;O=f(function(){function z(ie){if(!ee){if(ee=!0,te=ie,ie=T(ie),R!==void 0&&B.hasValue){var Y=B.value;if(R(Y,ie))return Q=Y}return Q=ie}if(Y=Q,t(te,ie))return Y;var A=T(ie);return R!==void 0&&R(Y,A)?(te=ie,Y):(te=ie,Q=A)}var ee=!1,te,Q,q=w===void 0?null:w;return[function(){return z(_())},q===null?void 0:function(){return z(q())}]},[_,w,T,R]);var $=s(g,O[0],O[1]);return l(function(){B.hasValue=!0,B.value=$},[$]),d($),$},Ph}var $g;function I0(){return $g||($g=1,Ch.exports=S0()),Ch.exports}var A0=I0();function C0(n){n()}function P0(){let n=null,e=null;return{clear(){n=null,e=null},notify(){C0(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var Hg={notify(){},get:()=>[]};function R0(n,e){let t,s=Hg,o=0,l=!1;function f($){w();const z=s.subscribe($);let ee=!1;return()=>{ee||(ee=!0,z(),T())}}function d(){s.notify()}function g(){B.onStateChange&&B.onStateChange()}function _(){return l}function w(){o++,t||(t=n.subscribe(g),s=P0())}function T(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=Hg)}function R(){l||(l=!0,w())}function O(){l&&(l=!1,T())}const B={addNestedSub:f,notifyNestedSubs:d,handleChangeWrapper:g,isSubscribed:_,trySubscribe:R,tryUnsubscribe:O,getListeners:()=>s};return B}var k0=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x0=k0(),D0=()=>typeof navigator<"u"&&navigator.product==="ReactNative",N0=D0(),V0=()=>x0||N0?Ue.useLayoutEffect:Ue.useEffect,O0=V0(),Rh=Symbol.for("react-redux-context"),kh=typeof globalThis<"u"?globalThis:{};function b0(){if(!Ue.createContext)return{};const n=kh[Rh]??(kh[Rh]=new Map);let e=n.get(Ue.createContext);return e||(e=Ue.createContext(null),n.set(Ue.createContext,e)),e}var mi=b0();function M0(n){const{children:e,context:t,serverState:s,store:o}=n,l=Ue.useMemo(()=>{const g=R0(o);return{store:o,subscription:g,getServerState:s?()=>s:void 0}},[o,s]),f=Ue.useMemo(()=>o.getState(),[o]);O0(()=>{const{subscription:g}=l;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),f!==o.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[l,f]);const d=t||mi;return Ue.createElement(d.Provider,{value:l},e)}var L0=M0;function kd(n=mi){return function(){return Ue.useContext(n)}}var V_=kd();function O_(n=mi){const e=n===mi?V_:kd(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var F0=O_();function j0(n=mi){const e=n===mi?F0:O_(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var z0=j0(),U0=(n,e)=>n===e;function B0(n=mi){const e=n===mi?V_:kd(n),t=(s,o={})=>{const{equalityFn:l=U0}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:d,subscription:g,getServerState:_}=f;Ue.useRef(!0);const w=Ue.useCallback({[s.name](R){return s(R)}}[s.name],[s]),T=A0.useSyncExternalStoreWithSelector(g.addNestedSub,d.getState,_||d.getState,w,l);return Ue.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var $0=B0();function Vt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var H0=typeof Symbol=="function"&&Symbol.observable||"@@observable",Wg=H0,xh=()=>Math.random().toString(36).substring(7).split("").join("."),W0={INIT:`@@redux/INIT${xh()}`,REPLACE:`@@redux/REPLACE${xh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xh()}`},$l=W0;function xd(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Dd(n,e,t){if(typeof n!="function")throw new Error(Vt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Vt(1));return t(Dd)(n,e)}let s=n,o=e,l=new Map,f=l,d=0,g=!1;function _(){f===l&&(f=new Map,l.forEach((z,ee)=>{f.set(ee,z)}))}function w(){if(g)throw new Error(Vt(3));return o}function T(z){if(typeof z!="function")throw new Error(Vt(4));if(g)throw new Error(Vt(5));let ee=!0;_();const te=d++;return f.set(te,z),function(){if(ee){if(g)throw new Error(Vt(6));ee=!1,_(),f.delete(te),l=null}}}function R(z){if(!xd(z))throw new Error(Vt(7));if(typeof z.type>"u")throw new Error(Vt(8));if(typeof z.type!="string")throw new Error(Vt(17));if(g)throw new Error(Vt(9));try{g=!0,o=s(o,z)}finally{g=!1}return(l=f).forEach(te=>{te()}),z}function O(z){if(typeof z!="function")throw new Error(Vt(10));s=z,R({type:$l.REPLACE})}function B(){const z=T;return{subscribe(ee){if(typeof ee!="object"||ee===null)throw new Error(Vt(11));function te(){const q=ee;q.next&&q.next(w())}return te(),{unsubscribe:z(te)}},[Wg](){return this}}}return R({type:$l.INIT}),{dispatch:R,subscribe:T,getState:w,replaceReducer:O,[Wg]:B}}function q0(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:$l.INIT})>"u")throw new Error(Vt(12));if(typeof t(void 0,{type:$l.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function b_(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const f=e[l];typeof n[f]=="function"&&(t[f]=n[f])}const s=Object.keys(t);let o;try{q0(t)}catch(l){o=l}return function(f={},d){if(o)throw o;let g=!1;const _={};for(let w=0;w<s.length;w++){const T=s[w],R=t[T],O=f[T],B=R(O,d);if(typeof B>"u")throw d&&d.type,new Error(Vt(14));_[T]=B,g=g||B!==O}return g=g||s.length!==Object.keys(f).length,g?_:f}}function Hl(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function K0(...n){return e=>(t,s)=>{const o=e(t,s);let l=()=>{throw new Error(Vt(15))};const f={getState:o.getState,dispatch:(g,..._)=>l(g,..._)},d=n.map(g=>g(f));return l=Hl(...d)(o.dispatch),{...o,dispatch:l}}}function Q0(n){return xd(n)&&"type"in n&&typeof n.type=="string"}var M_=Symbol.for("immer-nothing"),qg=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Kn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var po=Object.getPrototypeOf;function ss(n){return!!n&&!!n[_n]}function Vr(n){var e;return n?L_(n)||Array.isArray(n)||!!n[qg]||!!((e=n.constructor)!=null&&e[qg])||vc(n)||wc(n):!1}var G0=Object.prototype.constructor.toString();function L_(n){if(!n||typeof n!="object")return!1;const e=po(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===G0}function Wl(n,e){_c(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function _c(n){const e=n[_n];return e?e.type_:Array.isArray(n)?1:vc(n)?2:wc(n)?3:0}function Wh(n,e){return _c(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function F_(n,e,t){const s=_c(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function X0(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function vc(n){return n instanceof Map}function wc(n){return n instanceof Set}function Zi(n){return n.copy_||n.base_}function qh(n,e){if(vc(n))return new Map(n);if(wc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=L_(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[_n];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const f=o[l],d=s[f];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[f]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[f]})}return Object.create(po(n),s)}else{const s=po(n);if(s!==null&&t)return{...n};const o=Object.create(s);return Object.assign(o,n)}}function Nd(n,e=!1){return Ec(n)||ss(n)||!Vr(n)||(_c(n)>1&&(n.set=n.add=n.clear=n.delete=Y0),Object.freeze(n),e&&Object.entries(n).forEach(([t,s])=>Nd(s,!0))),n}function Y0(){Kn(2)}function Ec(n){return Object.isFrozen(n)}var J0={};function os(n){const e=J0[n];return e||Kn(0,n),e}var Fa;function j_(){return Fa}function Z0(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kg(n,e){e&&(os("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Kh(n){Qh(n),n.drafts_.forEach(eT),n.drafts_=null}function Qh(n){n===Fa&&(Fa=n.parent_)}function Qg(n){return Fa=Z0(Fa,n)}function eT(n){const e=n[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Gg(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[_n].modified_&&(Kh(e),Kn(4)),Vr(n)&&(n=ql(e,n),e.parent_||Kl(e,n)),e.patches_&&os("Patches").generateReplacementPatches_(t[_n].base_,n,e.patches_,e.inversePatches_)):n=ql(e,t,[]),Kh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==M_?n:void 0}function ql(n,e,t){if(Ec(e))return e;const s=e[_n];if(!s)return Wl(e,(o,l)=>Xg(n,s,e,o,l,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return Kl(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,f=!1;s.type_===3&&(l=new Set(o),o.clear(),f=!0),Wl(l,(d,g)=>Xg(n,s,o,d,g,t,f)),Kl(n,o,!1),t&&n.patches_&&os("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function Xg(n,e,t,s,o,l,f){if(ss(o)){const d=l&&e&&e.type_!==3&&!Wh(e.assigned_,s)?l.concat(s):void 0,g=ql(n,o,d);if(F_(t,s,g),ss(g))n.canAutoFreeze_=!1;else return}else f&&t.add(o);if(Vr(o)&&!Ec(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;ql(n,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Kl(n,o)}}function Kl(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Nd(e,t)}function tT(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:j_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=Vd;t&&(o=[s],l=ja);const{revoke:f,proxy:d}=Proxy.revocable(o,l);return s.draft_=d,s.revoke_=f,d}var Vd={get(n,e){if(e===_n)return n;const t=Zi(n);if(!Wh(t,e))return nT(n,t,e);const s=t[e];return n.finalized_||!Vr(s)?s:s===Dh(n.base_,e)?(Nh(n),n.copy_[e]=Xh(s,n)):s},has(n,e){return e in Zi(n)},ownKeys(n){return Reflect.ownKeys(Zi(n))},set(n,e,t){const s=z_(Zi(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const o=Dh(Zi(n),e),l=o==null?void 0:o[_n];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(X0(t,o)&&(t!==void 0||Wh(n.base_,e)))return!0;Nh(n),Gh(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Dh(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Nh(n),Gh(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Zi(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Kn(11)},getPrototypeOf(n){return po(n.base_)},setPrototypeOf(){Kn(12)}},ja={};Wl(Vd,(n,e)=>{ja[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ja.deleteProperty=function(n,e){return ja.set.call(this,n,e,void 0)};ja.set=function(n,e,t){return Vd.set.call(this,n[0],e,t,n[0])};function Dh(n,e){const t=n[_n];return(t?Zi(t):n)[e]}function nT(n,e,t){var o;const s=z_(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(n.draft_):void 0}function z_(n,e){if(!(e in n))return;let t=po(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=po(t)}}function Gh(n){n.modified_||(n.modified_=!0,n.parent_&&Gh(n.parent_))}function Nh(n){n.copy_||(n.copy_=qh(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var rT=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const f=this;return function(g=l,..._){return f.produce(g,w=>t.call(this,w,..._))}}typeof t!="function"&&Kn(6),s!==void 0&&typeof s!="function"&&Kn(7);let o;if(Vr(e)){const l=Qg(this),f=Xh(e,void 0);let d=!0;try{o=t(f),d=!1}finally{d?Kh(l):Qh(l)}return Kg(l,s),Gg(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===M_&&(o=void 0),this.autoFreeze_&&Nd(o,!0),s){const l=[],f=[];os("Patches").generateReplacementPatches_(e,o,l,f),s(l,f)}return o}else Kn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(f,...d)=>this.produceWithPatches(f,g=>e(g,...d));let s,o;return[this.produce(e,t,(f,d)=>{s=f,o=d}),s,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Vr(n)||Kn(8),ss(n)&&(n=iT(n));const e=Qg(this),t=Xh(n,void 0);return t[_n].isManual_=!0,Qh(e),t}finishDraft(n,e){const t=n&&n[_n];(!t||!t.isManual_)&&Kn(9);const{scope_:s}=t;return Kg(s,e),Gg(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const s=os("Patches").applyPatches_;return ss(n)?s(n,e):this.produce(n,o=>s(o,e))}};function Xh(n,e){const t=vc(n)?os("MapSet").proxyMap_(n,e):wc(n)?os("MapSet").proxySet_(n,e):tT(n,e);return(e?e.scope_:j_()).drafts_.push(t),t}function iT(n){return ss(n)||Kn(10,n),U_(n)}function U_(n){if(!Vr(n)||Ec(n))return n;const e=n[_n];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=qh(n,e.scope_.immer_.useStrictShallowCopy_)}else t=qh(n,!0);return Wl(t,(s,o)=>{F_(t,s,U_(o))}),e&&(e.finalized_=!1),t}var vn=new rT,B_=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function $_(n){return({dispatch:t,getState:s})=>o=>l=>typeof l=="function"?l(t,s,n):o(l)}var sT=$_(),oT=$_,aT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hl:Hl.apply(null,arguments)};function Yg(n,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(Nr(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>Q0(s)&&s.type===n,t}var H_=class Ra extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ra.prototype)}static get[Symbol.species](){return Ra}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ra(...e[0].concat(this)):new Ra(...e.concat(this))}};function Jg(n){return Vr(n)?B_(n,()=>{}):n}function Zg(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function uT(n){return typeof n=="boolean"}var lT=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let f=new H_;return t&&(uT(t)?f.push(sT):f.push(oT(t.extraArgument))),f},cT="RTK_autoBatch",ey=n=>e=>{setTimeout(e,n)},fT=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,l=!1,f=!1;const d=new Set,g=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ey(10):n.type==="callback"?n.queueNotification:ey(n.timeout),_=()=>{f=!1,l&&(l=!1,d.forEach(w=>w()))};return Object.assign({},s,{subscribe(w){const T=()=>o&&w(),R=s.subscribe(T);return d.add(w),()=>{R(),d.delete(w)}},dispatch(w){var T;try{return o=!((T=w==null?void 0:w.meta)!=null&&T[cT]),l=!o,l&&(f||(f=!0,g(_))),s.dispatch(w)}finally{o=!0}}})},hT=n=>function(t){const{autoBatch:s=!0}=t??{};let o=new H_(n);return s&&o.push(fT(typeof s=="object"?s:void 0)),o};function dT(n){const e=lT(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:l=void 0,enhancers:f=void 0}=n;let d;if(typeof t=="function")d=t;else if(xd(t))d=b_(t);else throw new Error(Nr(1));let g;typeof s=="function"?g=s(e):g=e();let _=Hl;o&&(_=aT({trace:!1,...typeof o=="object"&&o}));const w=K0(...g),T=hT(w);let R=typeof f=="function"?f(T):T();const O=_(...R);return Dd(d,l,O)}function W_(n){const e={},t=[];let s;const o={addCase(l,f){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Nr(28));if(d in e)throw new Error(Nr(29));return e[d]=f,o},addMatcher(l,f){return t.push({matcher:l,reducer:f}),o},addDefaultCase(l){return s=l,o}};return n(o),[e,t,s]}function pT(n){return typeof n=="function"}function mT(n,e){let[t,s,o]=W_(e),l;if(pT(n))l=()=>Jg(n());else{const d=Jg(n);l=()=>d}function f(d=l(),g){let _=[t[g.type],...s.filter(({matcher:w})=>w(g)).map(({reducer:w})=>w)];return _.filter(w=>!!w).length===0&&(_=[o]),_.reduce((w,T)=>{if(T)if(ss(w)){const O=T(w,g);return O===void 0?w:O}else{if(Vr(w))return B_(w,R=>T(R,g));{const R=T(w,g);if(R===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return w},d)}return f.getInitialState=l,f}var gT=Symbol.for("rtk-slice-createasyncthunk");function yT(n,e){return`${n}/${e}`}function _T({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[gT];return function(o){const{name:l,reducerPath:f=l}=o;if(!l)throw new Error(Nr(11));const d=(typeof o.reducers=="function"?o.reducers(wT()):o.reducers)||{},g=Object.keys(d),_={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(Q,q){const ie=typeof Q=="string"?Q:Q.type;if(!ie)throw new Error(Nr(12));if(ie in _.sliceCaseReducersByType)throw new Error(Nr(13));return _.sliceCaseReducersByType[ie]=q,w},addMatcher(Q,q){return _.sliceMatchers.push({matcher:Q,reducer:q}),w},exposeAction(Q,q){return _.actionCreators[Q]=q,w},exposeCaseReducer(Q,q){return _.sliceCaseReducersByName[Q]=q,w}};g.forEach(Q=>{const q=d[Q],ie={reducerName:Q,type:yT(l,Q),createNotation:typeof o.reducers=="function"};TT(q)?IT(ie,q,w,e):ET(ie,q,w)});function T(){const[Q={},q=[],ie=void 0]=typeof o.extraReducers=="function"?W_(o.extraReducers):[o.extraReducers],Y={...Q,..._.sliceCaseReducersByType};return mT(o.initialState,A=>{for(let S in Y)A.addCase(S,Y[S]);for(let S of _.sliceMatchers)A.addMatcher(S.matcher,S.reducer);for(let S of q)A.addMatcher(S.matcher,S.reducer);ie&&A.addDefaultCase(ie)})}const R=Q=>Q,O=new Map;let B;function $(Q,q){return B||(B=T()),B(Q,q)}function z(){return B||(B=T()),B.getInitialState()}function ee(Q,q=!1){function ie(A){let S=A[Q];return typeof S>"u"&&q&&(S=z()),S}function Y(A=R){const S=Zg(O,q,()=>new WeakMap);return Zg(S,A,()=>{const C={};for(const[x,N]of Object.entries(o.selectors??{}))C[x]=vT(N,A,z,q);return C})}return{reducerPath:Q,getSelectors:Y,get selectors(){return Y(ie)},selectSlice:ie}}const te={name:l,reducer:$,actions:_.actionCreators,caseReducers:_.sliceCaseReducersByName,getInitialState:z,...ee(f),injectInto(Q,{reducerPath:q,...ie}={}){const Y=q??f;return Q.inject({reducerPath:Y,reducer:$},ie),{...te,...ee(Y,!0)}}};return te}}function vT(n,e,t,s){function o(l,...f){let d=e(l);return typeof d>"u"&&s&&(d=t()),n(d,...f)}return o.unwrapped=n,o}var q_=_T();function wT(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function ET({type:n,reducerName:e,createNotation:t},s,o){let l,f;if("reducer"in s){if(t&&!ST(s))throw new Error(Nr(17));l=s.reducer,f=s.prepare}else l=s;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,f?Yg(n,f):Yg(n))}function TT(n){return n._reducerDefinitionType==="asyncThunk"}function ST(n){return n._reducerDefinitionType==="reducerWithPrepare"}function IT({type:n,reducerName:e},t,s,o){if(!o)throw new Error(Nr(18));const{payloadCreator:l,fulfilled:f,pending:d,rejected:g,settled:_,options:w}=t,T=o(n,l,w);s.exposeAction(e,T),f&&s.addCase(T.fulfilled,f),d&&s.addCase(T.pending,d),g&&s.addCase(T.rejected,g),_&&s.addMatcher(T.settled,_),s.exposeCaseReducer(e,{fulfilled:f||yl,pending:d||yl,rejected:g||yl,settled:_||yl})}function yl(){}function Nr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Od="persist:",bd="persist/FLUSH",Tc="persist/REHYDRATE",Md="persist/PAUSE",Ld="persist/PERSIST",Fd="persist/PURGE",jd="persist/REGISTER",AT=-1;function Rl(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(t){return typeof t}:Rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(n)}function ty(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function CT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ty(t,!0).forEach(function(s){PT(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ty(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function PT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RT(n,e,t,s){s.debug;var o=CT({},t);return n&&Rl(n)==="object"&&Object.keys(n).forEach(function(l){l!=="_persist"&&e[l]===t[l]&&(o[l]=n[l])}),o}function kT(n){var e=n.blacklist||null,t=n.whitelist||null,s=n.transforms||[],o=n.throttle||0,l="".concat(n.keyPrefix!==void 0?n.keyPrefix:Od).concat(n.key),f=n.storage,d;n.serialize===!1?d=function(ie){return ie}:typeof n.serialize=="function"?d=n.serialize:d=xT;var g=n.writeFailHandler||null,_={},w={},T=[],R=null,O=null,B=function(ie){Object.keys(ie).forEach(function(Y){ee(Y)&&_[Y]!==ie[Y]&&T.indexOf(Y)===-1&&T.push(Y)}),Object.keys(_).forEach(function(Y){ie[Y]===void 0&&ee(Y)&&T.indexOf(Y)===-1&&_[Y]!==void 0&&T.push(Y)}),R===null&&(R=setInterval($,o)),_=ie};function $(){if(T.length===0){R&&clearInterval(R),R=null;return}var q=T.shift(),ie=s.reduce(function(Y,A){return A.in(Y,q,_)},_[q]);if(ie!==void 0)try{w[q]=d(ie)}catch(Y){console.error("redux-persist/createPersistoid: error serializing state",Y)}else delete w[q];T.length===0&&z()}function z(){Object.keys(w).forEach(function(q){_[q]===void 0&&delete w[q]}),O=f.setItem(l,d(w)).catch(te)}function ee(q){return!(t&&t.indexOf(q)===-1&&q!=="_persist"||e&&e.indexOf(q)!==-1)}function te(q){g&&g(q)}var Q=function(){for(;T.length!==0;)$();return O||Promise.resolve()};return{update:B,flush:Q}}function xT(n){return JSON.stringify(n)}function DT(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Od).concat(n.key),s=n.storage;n.debug;var o;return n.deserialize===!1?o=function(f){return f}:typeof n.deserialize=="function"?o=n.deserialize:o=NT,s.getItem(t).then(function(l){if(l)try{var f={},d=o(l);return Object.keys(d).forEach(function(g){f[g]=e.reduceRight(function(_,w){return w.out(_,g,d)},o(d[g]))}),f}catch(g){throw g}else return})}function NT(n){return JSON.parse(n)}function VT(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Od).concat(n.key);return e.removeItem(t,OT)}function OT(n){}function ny(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function xr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ny(t,!0).forEach(function(s){bT(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ny(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function bT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MT(n,e){if(n==null)return{};var t=LT(n,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function LT(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var FT=5e3;function jT(n,e){var t=n.version!==void 0?n.version:AT;n.debug;var s=n.stateReconciler===void 0?RT:n.stateReconciler,o=n.getStoredState||DT,l=n.timeout!==void 0?n.timeout:FT,f=null,d=!1,g=!0,_=function(T){return T._persist.rehydrated&&f&&!g&&f.update(T),T};return function(w,T){var R=w||{},O=R._persist,B=MT(R,["_persist"]),$=B;if(T.type===Ld){var z=!1,ee=function(S,C){z||(T.rehydrate(n.key,S,C),z=!0)};if(l&&setTimeout(function(){!z&&ee(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},l),g=!1,f||(f=kT(n)),O)return xr({},e($,T),{_persist:O});if(typeof T.rehydrate!="function"||typeof T.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return T.register(n.key),o(n).then(function(A){var S=n.migrate||function(C,x){return Promise.resolve(C)};S(A,t).then(function(C){ee(C)},function(C){ee(void 0,C)})},function(A){ee(void 0,A)}),xr({},e($,T),{_persist:{version:t,rehydrated:!1}})}else{if(T.type===Fd)return d=!0,T.result(VT(n)),xr({},e($,T),{_persist:O});if(T.type===bd)return T.result(f&&f.flush()),xr({},e($,T),{_persist:O});if(T.type===Md)g=!0;else if(T.type===Tc){if(d)return xr({},$,{_persist:xr({},O,{rehydrated:!0})});if(T.key===n.key){var te=e($,T),Q=T.payload,q=s!==!1&&Q!==void 0?s(Q,w,te,n):te,ie=xr({},q,{_persist:xr({},O,{rehydrated:!0})});return _(ie)}}}if(!O)return e(w,T);var Y=e($,T);return Y===$?w:_(xr({},Y,{_persist:O}))}}function ry(n){return BT(n)||UT(n)||zT()}function zT(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function UT(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function BT(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function iy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function Yh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iy(t,!0).forEach(function(s){$T(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iy(t).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function $T(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var K_={registry:[],bootstrapped:!1},HT=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jd:return Yh({},e,{registry:[].concat(ry(e.registry),[t.key])});case Tc:var s=e.registry.indexOf(t.key),o=ry(e.registry);return o.splice(s,1),Yh({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function WT(n,e,t){var s=Dd(HT,K_,void 0),o=function(g){s.dispatch({type:jd,key:g})},l=function(g,_,w){var T={type:Tc,payload:_,err:w,key:g};n.dispatch(T),s.dispatch(T)},f=Yh({},s,{purge:function(){var g=[];return n.dispatch({type:Fd,result:function(w){g.push(w)}}),Promise.all(g)},flush:function(){var g=[];return n.dispatch({type:bd,result:function(w){g.push(w)}}),Promise.all(g)},pause:function(){n.dispatch({type:Md})},persist:function(){n.dispatch({type:Ld,register:o,rehydrate:l})}});return f.persist(),f}var Pa={},_l={},vl={},sy;function qT(){if(sy)return vl;sy=1,vl.__esModule=!0,vl.default=o;function n(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(d){return typeof d}:n=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(l)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function s(l){if((typeof self>"u"?"undefined":n(self))!=="object"||!(l in self))return!1;try{var f=self[l],d="redux-persist ".concat(l," test");f.setItem(d,"test"),f.getItem(d),f.removeItem(d)}catch{return!1}return!0}function o(l){var f="".concat(l,"Storage");return s(f)?self[f]:t}return vl}var oy;function KT(){if(oy)return _l;oy=1,_l.__esModule=!0,_l.default=t;var n=e(qT());function e(s){return s&&s.__esModule?s:{default:s}}function t(s){var o=(0,n.default)(s);return{getItem:function(f){return new Promise(function(d,g){d(o.getItem(f))})},setItem:function(f,d){return new Promise(function(g,_){g(o.setItem(f,d))})},removeItem:function(f){return new Promise(function(d,g){d(o.removeItem(f))})}}}return _l}var ay;function QT(){if(ay)return Pa;ay=1,Pa.__esModule=!0,Pa.default=void 0;var n=e(KT());function e(s){return s&&s.__esModule?s:{default:s}}var t=(0,n.default)("local");return Pa.default=t,Pa}var GT=QT();const XT=N_(GT),YT=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JT=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],f=n[t++],d=n[t++],g=((o&7)<<18|(l&63)<<12|(f&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],f=o+1<n.length,d=f?n[o+1]:0,g=o+2<n.length,_=g?n[o+2]:0,w=l>>2,T=(l&3)<<4|d>>4;let R=(d&15)<<2|_>>6,O=_&63;g||(O=64,f||(R=64)),s.push(t[w],t[T],t[R],t[O])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||_==null||T==null)throw new ZT;const R=l<<2|d>>4;if(s.push(R),_!==64){const O=d<<4&240|_>>2;if(s.push(O),T!==64){const B=_<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(n){const e=Q_(n);return G_.encodeByteArray(e,!0)},Ql=function(n){return e1(n).replace(/\./g,"")},t1=function(n){try{return G_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=()=>n1().__FIREBASE_DEFAULTS__,i1=()=>{if(typeof process>"u"||typeof uy>"u")return;const n=uy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},s1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t1(n[1]);return e&&JSON.parse(e)},zd=()=>{try{return YT()||r1()||i1()||s1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o1=n=>{var e,t;return(t=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},a1=n=>{const e=o1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},X_=()=>{var n;return(n=zd())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ql(JSON.stringify(t)),Ql(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f1(){var n;const e=(n=zd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return!f1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class Co extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=m1,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],f=l?g1(l,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Co(o,d,s)}}function g1(n,e){return n.replace(y1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const y1=/\{\$([^}]+)}/g;function Gl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],f=e[o];if(ly(l)&&ly(f)){if(!Gl(l,f))return!1}else if(l!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ly(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n){return n&&n._delegate?n._delegate:n}class za{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new u1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w1(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&e(f,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v1(n){return n===es?void 0:n}function w1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const T1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},S1=Me.INFO,I1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},A1=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=I1[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J_{constructor(e){this.name=e,this._logLevel=S1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const C1=(n,e)=>e.some(t=>n instanceof t);let cy,fy;function P1(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Jh=new WeakMap,ev=new WeakMap,Vh=new WeakMap,Ud=new WeakMap;function k1(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{t(ci(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&Z_.set(t,n)}).catch(()=>{}),Ud.set(e,n),e}function x1(n){if(Jh.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});Jh.set(n,e)}let Zh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ev.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function D1(n){Zh=n(Zh)}function N1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Oh(this),e,...t);return ev.set(s,e.sort?e.sort():[e]),ci(s)}:R1().includes(n)?function(...e){return n.apply(Oh(this),e),ci(Z_.get(this))}:function(...e){return ci(n.apply(Oh(this),e))}}function V1(n){return typeof n=="function"?N1(n):(n instanceof IDBTransaction&&x1(n),C1(n,P1())?new Proxy(n,Zh):n)}function ci(n){if(n instanceof IDBRequest)return k1(n);if(Vh.has(n))return Vh.get(n);const e=V1(n);return e!==n&&(Vh.set(n,e),Ud.set(e,n)),e}const Oh=n=>Ud.get(n);function O1(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const f=indexedDB.open(n,e),d=ci(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ci(f.result),g.oldVersion,g.newVersion,ci(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const b1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],bh=new Map;function hy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bh.get(e))return bh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=M1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||b1.includes(t)))return;const l=async function(f,...d){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&g.done]))[0]};return bh.set(e,l),l}D1(n=>({...n,get:(e,t,s)=>hy(e,t)||n.get(e,t,s),has:(e,t)=>!!hy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function F1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",dy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new J_("@firebase/app"),j1="@firebase/app-compat",z1="@firebase/analytics-compat",U1="@firebase/analytics",B1="@firebase/app-check-compat",$1="@firebase/app-check",H1="@firebase/auth",W1="@firebase/auth-compat",q1="@firebase/database",K1="@firebase/data-connect",Q1="@firebase/database-compat",G1="@firebase/functions",X1="@firebase/functions-compat",Y1="@firebase/installations",J1="@firebase/installations-compat",Z1="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",rS="@firebase/remote-config",iS="@firebase/remote-config-compat",sS="@firebase/storage",oS="@firebase/storage-compat",aS="@firebase/firestore",uS="@firebase/vertexai",lS="@firebase/firestore-compat",cS="firebase",fS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",hS={[ed]:"fire-core",[j1]:"fire-core-compat",[U1]:"fire-analytics",[z1]:"fire-analytics-compat",[$1]:"fire-app-check",[B1]:"fire-app-check-compat",[H1]:"fire-auth",[W1]:"fire-auth-compat",[q1]:"fire-rtdb",[K1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[G1]:"fire-fn",[X1]:"fire-fn-compat",[Y1]:"fire-iid",[J1]:"fire-iid-compat",[Z1]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[rS]:"fire-rc",[iS]:"fire-rc-compat",[sS]:"fire-gcs",[oS]:"fire-gcs-compat",[aS]:"fire-fst",[lS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Map,dS=new Map,nd=new Map;function py(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yl(n){const e=n.name;if(nd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,n);for(const t of Xl.values())py(t,n);for(const t of dS.values())py(t,n);return!0}function pS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mS(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Y_("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=fS;function tv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw fi.create("bad-app-name",{appName:String(o)});if(t||(t=X_()),!t)throw fi.create("no-options");const l=Xl.get(o);if(l){if(Gl(t,l.options)&&Gl(s,l.config))return l;throw fi.create("duplicate-app",{appName:o})}const f=new E1(o);for(const g of nd.values())f.addComponent(g);const d=new yS(t,s,f);return Xl.set(o,d),d}function vS(n=td){const e=Xl.get(n);if(!e&&n===td&&X_())return tv();if(!e)throw fi.create("no-app",{appName:n});return e}function fo(n,e,t){var s;let o=(s=hS[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(d.join(" "));return}Yl(new za(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebase-heartbeat-database",ES=1,Ua="firebase-heartbeat-store";let Mh=null;function nv(){return Mh||(Mh=O1(wS,ES,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ua)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),Mh}async function TS(n){try{const t=(await nv()).transaction(Ua),s=await t.objectStore(Ua).get(rv(n));return await t.done,s}catch(e){if(e instanceof Co)Or.warn(e.message);else{const t=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function my(n,e){try{const s=(await nv()).transaction(Ua,"readwrite");await s.objectStore(Ua).put(e,rv(n)),await s.done}catch(t){if(t instanceof Co)Or.warn(t.message);else{const s=fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(s.message)}}}function rv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1024,IS=30;class AS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>IS){const f=RS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gy(),{heartbeatsToSend:s,unsentEntries:o}=CS(this._heartbeatsCache.heartbeats),l=Ql(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Or.warn(t),""}}}function gy(){return new Date().toISOString().substring(0,10)}function CS(n,e=SS){const t=[];let s=n.slice();for(const o of n){const l=t.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),yy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),yy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return my(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return my(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function yy(n){return Ql(JSON.stringify({version:2,heartbeats:n})).length}function RS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){Yl(new za("platform-logger",e=>new L1(e),"PRIVATE")),Yl(new za("heartbeat",e=>new AS(e),"PRIVATE")),fo(ed,dy,n),fo(ed,dy,"esm2017"),fo("fire-js","")}kS("");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,iv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(x,N,b){for(var P=Array(arguments.length-2),et=2;et<arguments.length;et++)P[et-2]=arguments[et];return S.prototype[N].apply(x,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,C){C||(C=0);var x=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)x[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;16>N;++N)x[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],N=A.g[2];var b=A.g[3],P=S+(b^C&(N^b))+x[0]+3614090360&4294967295;S=C+(P<<7&4294967295|P>>>25),P=b+(N^S&(C^N))+x[1]+3905402710&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(C^b&(S^C))+x[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(S^N&(b^S))+x[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(b^C&(N^b))+x[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=b+(N^S&(C^N))+x[5]+1200080426&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(C^b&(S^C))+x[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(S^N&(b^S))+x[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(b^C&(N^b))+x[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=b+(N^S&(C^N))+x[9]+2336552879&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(C^b&(S^C))+x[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(S^N&(b^S))+x[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(b^C&(N^b))+x[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=b+(N^S&(C^N))+x[13]+4254626195&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(C^b&(S^C))+x[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(S^N&(b^S))+x[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(N^b&(C^N))+x[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(S^C))+x[6]+3225465664&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(b^S))+x[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^S&(N^b))+x[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(C^N))+x[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(S^C))+x[10]+38016083&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(b^S))+x[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^S&(N^b))+x[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(C^N))+x[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(S^C))+x[14]+3275163606&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(b^S))+x[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^S&(N^b))+x[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(C^N))+x[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(S^C))+x[2]+4243563512&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(b^S))+x[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^S&(N^b))+x[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(C^N^b)+x[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=b+(S^C^N)+x[8]+2272392833&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^C)+x[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^S)+x[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^b)+x[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=b+(S^C^N)+x[4]+1272893353&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^C)+x[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^S)+x[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^b)+x[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=b+(S^C^N)+x[0]+3936430074&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^C)+x[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^S)+x[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^b)+x[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=b+(S^C^N)+x[12]+3873151461&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^C)+x[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^S)+x[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(N^(C|~b))+x[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=b+(C^(S|~N))+x[7]+1126891415&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~C))+x[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~S))+x[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~b))+x[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=b+(C^(S|~N))+x[3]+2399980690&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~C))+x[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~S))+x[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~b))+x[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=b+(C^(S|~N))+x[15]+4264355552&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~C))+x[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~S))+x[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~b))+x[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=b+(C^(S|~N))+x[11]+3174756917&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~C))+x[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~S))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+b&4294967295}s.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,x=this.B,N=this.h,b=0;b<S;){if(N==0)for(;b<=C;)o(this,A,b),b+=this.blockSize;if(typeof A=="string"){for(;b<S;)if(x[N++]=A.charCodeAt(b++),N==this.blockSize){o(this,x),N=0;break}}else for(;b<S;)if(x[N++]=A[b++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var x=0;32>x;x+=8)A[C++]=this.g[S]>>>x&255;return A};function l(A,S){var C=d;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function f(A,S){this.h=S;for(var C=[],x=!0,N=A.length-1;0<=N;N--){var b=A[N]|0;x&&b==S||(C[N]=b,x=!1)}this.g=C}var d={};function g(A){return-128<=A&&128>A?l(A,function(S){return new f([S|0],0>S?-1:0)}):new f([A|0],0>A?-1:0)}function _(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return z(_(-A));for(var S=[],C=1,x=0;A>=C;x++)S[x]=A/C|0,C*=4294967296;return new f(S,0)}function w(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return z(w(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(S,8)),x=T,N=0;N<A.length;N+=8){var b=Math.min(8,A.length-N),P=parseInt(A.substring(N,N+b),S);8>b?(b=_(Math.pow(S,b)),x=x.j(b).add(_(P))):(x=x.j(C),x=x.add(_(P)))}return x}var T=g(0),R=g(1),O=g(16777216);n=f.prototype,n.m=function(){if($(this))return-z(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var x=this.i(C);A+=(0<=x?x:4294967296+x)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(B(this))return"0";if($(this))return"-"+z(this).toString(A);for(var S=_(Math.pow(A,6)),C=this,x="";;){var N=q(C,S).g;C=ee(C,N.j(S));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=N,B(C))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function B(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function $(A){return A.h==-1}n.l=function(A){return A=ee(this,A),$(A)?-1:B(A)?0:1};function z(A){for(var S=A.g.length,C=[],x=0;x<S;x++)C[x]=~A.g[x];return new f(C,~A.h).add(R)}n.abs=function(){return $(this)?z(this):this},n.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],x=0,N=0;N<=S;N++){var b=x+(this.i(N)&65535)+(A.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);x=P>>>16,b&=65535,P&=65535,C[N]=P<<16|b}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ee(A,S){return A.add(z(S))}n.j=function(A){if(B(this)||B(A))return T;if($(this))return $(A)?z(this).j(z(A)):z(z(this).j(A));if($(A))return z(this.j(z(A)));if(0>this.l(O)&&0>A.l(O))return _(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<A.g.length;N++){var b=this.i(x)>>>16,P=this.i(x)&65535,et=A.i(N)>>>16,Et=A.i(N)&65535;C[2*x+2*N]+=P*Et,te(C,2*x+2*N),C[2*x+2*N+1]+=b*Et,te(C,2*x+2*N+1),C[2*x+2*N+1]+=P*et,te(C,2*x+2*N+1),C[2*x+2*N+2]+=b*et,te(C,2*x+2*N+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new f(C,0)};function te(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function Q(A,S){this.g=A,this.h=S}function q(A,S){if(B(S))throw Error("division by zero");if(B(A))return new Q(T,T);if($(A))return S=q(z(A),S),new Q(z(S.g),z(S.h));if($(S))return S=q(A,z(S)),new Q(z(S.g),S.h);if(30<A.g.length){if($(A)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var C=R,x=S;0>=x.l(A);)C=ie(C),x=ie(x);var N=Y(C,1),b=Y(x,1);for(x=Y(x,2),C=Y(C,2);!B(x);){var P=b.add(x);0>=P.l(A)&&(N=N.add(C),b=P),x=Y(x,1),C=Y(C,1)}return S=ee(A,N.j(S)),new Q(N,S)}for(N=T;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=_(C),P=b.j(S);$(P)||0<P.l(A);)C-=x,b=_(C),P=b.j(S);B(b)&&(b=R),N=N.add(b),A=ee(A,P)}return new Q(N,A)}n.A=function(A){return q(this,A).h},n.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)&A.i(x);return new f(C,this.h&A.h)},n.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)|A.i(x);return new f(C,this.h|A.h)},n.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)^A.i(x);return new f(C,this.h^A.h)};function ie(A){for(var S=A.g.length+1,C=[],x=0;x<S;x++)C[x]=A.i(x)<<1|A.i(x-1)>>>31;return new f(C,A.h)}function Y(A,S){var C=S>>5;S%=32;for(var x=A.g.length-C,N=[],b=0;b<x;b++)N[b]=0<S?A.i(b+C)>>>S|A.i(b+C+1)<<32-S:A.i(b+C);return new f(N,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,hi=f}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sv,ka,ov,kl,rd,av,uv,lv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wl=="object"&&wl];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var M=u[E];if(!(M in y))break e;y=y[M]}u=u[u.length-1],E=y[u],p=p(E),p!=E&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,E=!1,M={next:function(){if(!E&&y<u.length){var U=y++;return{value:p(U,u[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,y){return u.call.apply(u.bind,arguments)}function T(u,p,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function R(u,p,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,R.apply(null,arguments)}function O(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function B(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,M,U){for(var ne=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ne[$e-2]=arguments[$e];return p.prototype[M].apply(E,ne)}}function $(u){const p=u.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=u[E];return y}return[]}function z(u,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=u.length||0,U=E.length||0;u.length=M+U;for(let ne=0;ne<U;ne++)u[M+ne]=E[ne]}else u.push(E)}}class ee{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function q(u){return q[" "](u),u}q[" "]=function(){};var ie=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Y(u,p,y){for(const E in u)p.call(y,u[E],E,u)}function A(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function S(u){const p={};for(const y in u)p[y]=u[y];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)u[y]=E[y];for(let U=0;U<C.length;U++)y=C[U],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function N(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function b(u){d.setTimeout(()=>{throw u},0)}function P(){var u=ce;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,y){const E=Et.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Et=new ee(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,re=!1,ce=new et,se=()=>{const u=d.Promise.resolve(void 0);Fe=()=>{u.then(V)}};var V=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(y){b(y)}var p=Et;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}re=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return u}();function Ie(u,p){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ie){e:{try{q(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}B(Ie,de);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ve(u,p,y,E,M){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=M,this.key=++ke,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xt(u){this.src=u,this.g={},this.h=0}Xt.prototype.add=function(u,p,y,E,M){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var ne=Lr(u,p,E,M);return-1<ne?(p=u[ne],y||(p.fa=!1)):(p=new Ve(p,this.src,U,!!E,M),p.fa=y,u.push(p)),p};function Wt(u,p){var y=p.type;if(y in u.g){var E=u.g[y],M=Array.prototype.indexOf.call(E,p,void 0),U;(U=0<=M)&&Array.prototype.splice.call(E,M,1),U&&(it(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Lr(u,p,y,E){for(var M=0;M<u.length;++M){var U=u[M];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==E)return M}return-1}var Ai="closure_lm_"+(1e6*Math.random()|0),ps={};function No(u,p,y,E,M){if(Array.isArray(p)){for(var U=0;U<p.length;U++)No(u,p[U],y,E,M);return null}return y=bo(y),u&&u[xe]?u.K(p,y,_(E)?!!E.capture:!1,M):Vo(u,p,y,!1,E,M)}function Vo(u,p,y,E,M,U){if(!p)throw Error("Invalid event type");var ne=_(M)?!!M.capture:!!M,$e=gs(u);if($e||(u[Ai]=$e=new Xt(u)),y=$e.add(p,y,E,ne,U),y.proxy)return y;if(E=tu(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)Se||(M=ne),M===void 0&&(M=!1),u.addEventListener(p.toString(),E,M);else if(u.attachEvent)u.attachEvent(pr(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function tu(){function u(y){return p.call(u.src,u.listener,y)}const p=Oo;return u}function ms(u,p,y,E,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)ms(u,p[U],y,E,M);else E=_(E)?!!E.capture:!!E,y=bo(y),u&&u[xe]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],y=Lr(U,y,E,M),-1<y&&(it(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=gs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Lr(p,y,E,M)),(y=-1<u?p[u]:null)&&dr(y))}function dr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[xe])Wt(p.i,u);else{var y=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(y,E,u.capture):p.detachEvent?p.detachEvent(pr(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=gs(p))?(Wt(y,u),y.h==0&&(y.src=null,p[Ai]=null)):it(u)}}}function pr(u){return u in ps?ps[u]:ps[u]="on"+u}function Oo(u,p){if(u.da)u=!0;else{p=new Ie(p,this);var y=u.listener,E=u.ha||u.src;u.fa&&dr(u),u=y.call(E,p)}return u}function gs(u){return u=u[Ai],u instanceof Xt?u:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(u){return typeof u=="function"?u:(u[ys]||(u[ys]=function(p){return u.handleEvent(p)}),u[ys])}function dt(){H.call(this),this.i=new Xt(this),this.M=this,this.F=null}B(dt,H),dt.prototype[xe]=!0,dt.prototype.removeEventListener=function(u,p,y,E){ms(this,u,p,y,E)};function pt(u,p){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new de(p,u);else if(p instanceof de)p.target=p.target||u;else{var M=p;p=new de(E,u),x(p,M)}if(M=!0,y)for(var U=y.length-1;0<=U;U--){var ne=p.g=y[U];M=mr(ne,E,!0,p)&&M}if(ne=p.g=u,M=mr(ne,E,!0,p)&&M,M=mr(ne,E,!1,p)&&M,y)for(U=0;U<y.length;U++)ne=p.g=y[U],M=mr(ne,E,!1,p)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],E=0;E<y.length;E++)it(y[E]);delete u.g[p],u.h--}}this.F=null},dt.prototype.K=function(u,p,y,E){return this.i.add(String(u),p,!1,y,E)},dt.prototype.L=function(u,p,y,E){return this.i.add(String(u),p,!0,y,E)};function mr(u,p,y,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,U=0;U<p.length;++U){var ne=p[U];if(ne&&!ne.da&&ne.capture==y){var $e=ne.listener,mt=ne.ha||ne.src;ne.fa&&Wt(u.i,ne),M=$e.call(mt,E)!==!1&&M}}return M&&!E.defaultPrevented}function Mo(u,p,y){if(typeof u=="function")y&&(u=R(u,y));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function Fr(u){u.g=Mo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ci extends H{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){H.call(this),this.h=u,this.g={}}B(Pi,H);var Lo=[];function Fo(u){Y(u.g,function(p,y){this.g.hasOwnProperty(y)&&dr(p)},u),u.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Fo(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jo=d.JSON.stringify,zo=d.JSON.parse,Uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ri(){}Ri.prototype.h=null;function _s(u){return u.h||(u.h=u.i())}function vs(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){de.call(this,"d")}B(Xn,de);function ws(){de.call(this,"c")}B(ws,de);var Yn={},Bo=null;function ki(){return Bo=Bo||new dt}Yn.La="serverreachability";function $o(u){de.call(this,Yn.La,u)}B($o,de);function gr(u){const p=ki();pt(p,new $o(p))}Yn.STAT_EVENT="statevent";function Ho(u,p){de.call(this,Yn.STAT_EVENT,u),this.stat=p}B(Ho,de);function ot(u){const p=ki();pt(p,new Ho(p,u))}Yn.Ma="timingevent";function Es(u,p){de.call(this,Yn.Ma,u),this.size=p}B(Es,de);function Nn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function Di(u,p,y,E,M,U){u.info(function(){if(u.g)if(U)for(var ne="",$e=U.split("&"),mt=0;mt<$e.length;mt++){var Oe=$e[mt].split("=");if(1<Oe.length){var St=Oe[0];Oe=Oe[1];var lt=St.split("_");ne=2<=lt.length&&lt[1]=="type"?ne+(St+"="+Oe+"&"):ne+(St+"=redacted&")}}else ne=null;else ne=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+y+`
`+ne})}function Ts(u,p,y,E,M,U,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+y+`
`+U+" "+ne})}function Vn(u,p,y,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qc(u,y)+(E?" "+E:"")})}function Wo(u,p){u.info(function(){return"TIMEOUT: "+p})}xi.prototype.info=function(){};function Qc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return jo(y)}catch{return p}}var Ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Ni(){}B(Ni,Ri),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},On=new Ni;function bn(u,p,y,E){this.j=u,this.i=p,this.l=y,this.R=E||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var qo={},Is={};function As(u,p,y){u.L=1,u.v=$r(cn(p)),u.m=y,u.P=!0,Ko(u,null)}function Ko(u,p){u.F=Date.now(),We(u),u.A=cn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Wr(y.i,"t",E),u.C=0,y=u.j.J,u.h=new ru,u.g=Eu(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Ci(R(u.Y,u,u.g),u.O)),p=u.U,y=u.g,E=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Lo[0]=M.toString()),M=Lo);for(var U=0;U<M.length;U++){var ne=No(y,M[U],E||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),gr(),Di(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Jt(u)==3?p.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Jt(this.g);var p=this.g.Ba();const Sn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Zo(this.g)))){this.J||lt!=4||p==7||(p==8||0>=Sn?gr(3):gr(2)),Vi(this);var y=this.g.Z();this.X=y;t:if(iu(this)){var E=Zo(this.g);u="";var M=E.length,U=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),jr(this);var ne="";break t}this.h.i=new d.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(U&&p==M-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,Ts(this.i,this.u,this.A,this.l,this.R,lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,mt=this.g;if(($e=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te($e)){var Oe=$e;break t}}Oe=null}if(y=Oe)Vn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qo(this,y);else{this.o=!1,this.s=3,ot(12),En(this),jr(this);break e}}if(this.P){y=!0;let hn;for(;!this.J&&this.C<ne.length;)if(hn=Gc(this,ne),hn==Is){lt==4&&(this.s=4,ot(14),y=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==qo){this.s=4,ot(15),Vn(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else Vn(this.i,this.l,hn,null),Qo(this,hn);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ne.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)Vn(this.i,this.l,ne,"[Invalid Chunked Response]"),En(this),jr(this);else if(0<ne.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ta(St),St.M=!0,ot(11))}}else Vn(this.i,this.l,ne,null),Qo(this,ne);lt==4&&En(this),this.o&&!this.J&&(lt==4?Ms(this.j,this):(this.o=!1,We(this)))}else Ds(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),En(this),jr(this)}}}catch{}finally{}};function iu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gc(u,p){var y=u.C,E=p.indexOf(`
`,y);return E==-1?Is:(y=Number(p.substring(y,E)),isNaN(y)?qo:(E+=1,E+y>p.length?Is:(p=p.slice(E,E+y),u.C=E+y,p)))}bn.prototype.cancel=function(){this.J=!0,En(this)};function We(u){u.S=Date.now()+u.I,su(u,u.I)}function su(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(R(u.ba,u),p)}function Vi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wo(this.i,this.A),this.L!=2&&(gr(),ot(17)),En(this),this.s=2,jr(this)):su(this,this.S-u)};function jr(u){u.j.G==0||u.J||Ms(u.j,u)}function En(u){Vi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Fo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Qo(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||qt(y.h,u))){if(!u.K&&qt(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)bs(y),zn(y);else break e;Os(y),ot(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Nn(R(y.Za,y),6e3));if(1>=au(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Er(y,11)}else if((u.K||y.g==u)&&bs(y),!te(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let Oe=M[p];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const St=Oe[3];St!=null&&(y.la=St,y.j.info("VER="+y.la));const lt=Oe[4];lt!=null&&(y.Aa=lt,y.j.info("SVER="+y.Aa));const Sn=Oe[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(E=1.5*Sn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const hn=u.g;if(hn){const zi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var U=E.h;U.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Go(U,U.h),U.h=null))}if(E.D){const Fs=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(E.ya=Fs,He(E.I,E.D,Fs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ne=u;if(E.qa=wu(E,E.J?E.ia:null,E.W),ne.K){uu(E.h,ne);var $e=ne,mt=E.L;mt&&($e.I=mt),$e.B&&(Vi($e),We($e)),E.g=ne}else ji(E);0<y.i.length&&tr(y)}else Oe[0]!="stop"&&Oe[0]!="close"||Er(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Er(y,7):xt(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}gr(4)}catch{}}var ou=class{constructor(u,p){this.g=u,this.map=p}};function Oi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function au(u){return u.h?1:u.g?u.g.size:0}function qt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Go(u,p){u.g?u.g.add(p):u.h=p}function uu(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Oi.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return $(u.i)}function Cs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,E=0;E<y;E++)p.push(u[E]);return p}p=[],y=0;for(E in u)p[y++]=u[E];return p}function Ps(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const E in u)p[y++]=E;return p}}}function zr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Ps(u),E=Cs(u),M=E.length,U=0;U<M;U++)p.call(void 0,E[U],y&&y[U],u)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),M=null;if(0<=E){var U=u[y].substring(0,E);M=u[y].substring(E+1)}else U=u[y];p(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,Mi(this,u.j),this.o=u.o,this.g=u.g,Ur(this,u.s),this.l=u.l;var p=u.i,y=new Jn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Br(this,y),this.m=u.m}else u&&(p=String(u).match(bi))?(this.h=!1,Mi(this,p[1]||"",!0),this.o=Ne(p[2]||""),this.g=Ne(p[3]||"",!0),Ur(this,p[4]),this.l=Ne(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=Ne(p[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}yr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Hr(p,Rs,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Hr(p,Rs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Hr(y,y.charAt(0)=="/"?hu:fu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Hr(y,Xo)),u.join("")};function cn(u){return new yr(u)}function Mi(u,p,y){u.j=y?Ne(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ur(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Br(u,p,y){p instanceof Jn?(u.i=p,Zn(u.i,u.h)):(y||(p=Hr(p,du)),u.i=new Jn(p,u.h))}function He(u,p,y){u.i.set(p,y)}function $r(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,cu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rs=/[#\/\?@]/g,fu=/[#\?:]/g,hu=/[#\?]/g,du=/[#\?@]/g,Xo=/#/g;function Jn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=Jn.prototype,n.add=function(u,p){kt(this),this.i=null,u=Tn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Mn(u,p){kt(u),p=Tn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ln(u,p){return kt(u),p=Tn(u,p),u.g.has(p)}n.forEach=function(u,p){kt(this),this.g.forEach(function(y,E){y.forEach(function(M){u.call(p,M,E,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const M=u[E];for(let U=0;U<M.length;U++)y.push(p[E])}return y},n.V=function(u){kt(this);let p=[];if(typeof u=="string")Ln(this,u)&&(p=p.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return kt(this),this.i=null,u=Tn(this,u),Ln(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Wr(u,p,y){Mn(u,p),0<y.length&&(u.i=null,u.g.set(Tn(u,p),$(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const U=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var M=U;ne[E]!==""&&(M+="="+encodeURIComponent(String(ne[E]))),u.push(M)}}return this.i=u.join("&")};function Tn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Zn(u,p){p&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(Mn(this,E),Wr(this,M,y))},u)),u.j=p}function Yc(u,p){const y=new xi;if(d.Image){const E=new Image;E.onload=O(Yt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=O(Yt,y,"TestLoadImage: error",!1,p,E),E.onabort=O(Yt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=O(Yt,y,"TestLoadImage: timeout",!1,p,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function pu(u,p){const y=new xi,E=new AbortController,M=setTimeout(()=>{E.abort(),Yt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?Yt(y,"TestPingServer: ok",!0,p):Yt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Yt(y,"TestPingServer: error",!1,p)})}function Yt(u,p,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function Jc(){this.g=new Uo}function mu(u,p,y){const E=y||"";try{zr(u,function(M,U){let ne=M;_(M)&&(ne=jo(M)),p.push(E+U+"="+encodeURIComponent(ne))})}catch(M){throw p.push(E+"type="+encodeURIComponent("_badmap")),M}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}B(_r,Ri),_r.prototype.g=function(){return new Li(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Li(u,p){dt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Li,dt),n=Li.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Fn(this):jn(this),this.readyState==3&&gu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vr(u){let p="";return Y(u,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function qr(u,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=vr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):He(u,p,y))}function Ye(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ye,dt);var Zc=/^https?$/i,Yo=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?_s(this.o):_s(On),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){Fi(this,U);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())y.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),M=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Yo,p,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ne]of y)this.g.setRequestHeader(U,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){Fi(this,U)}};function Fi(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,ks(u),fn(u)}function ks(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},n.bb=function(){Jo(this)};function Jo(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)Mo(u.Ea,0,u);else if(pt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ne===0){var M=String(u.D).match(bi)[1]||null;!M&&d.self&&d.self.location&&(M=d.self.location.protocol.slice(0,-1)),E=!Zc.test(M?M.toLowerCase():"")}y=E}if(y)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var U=2<Jt(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",ks(u)}}finally{fn(u)}}}}function fn(u,p){if(u.g){xs(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pt(u,"ready");try{y.onreadystatechange=E}catch{}}}function xs(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),zo(p)}};function Zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(u){const p={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(te(u[E]))continue;var y=N(u[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[M]||[];p[M]=U,U.push(y)}A(p,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function ea(u){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(u&&u.concurrentRequestLimit),this.Da=new Jc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ea.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,E){ot(0),this.W=u,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=wu(this,null,this.W),tr(this)};function xt(u){if(Ns(u),u.G==3){var p=u.U++,y=cn(u.I);if(He(y,"SID",u.K),He(y,"RID",p),He(y,"TYPE","terminate"),wr(u,y),p=new bn(u,u.j,p),p.L=2,p.v=$r(cn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=Eu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),We(p)}vu(u)}function zn(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function Ns(u){zn(u),u.u&&(d.clearTimeout(u.u),u.u=null),bs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function tr(u){if(!ln(u.h)&&!u.s){u.s=!0;var p=u.Ga;Fe||se(),re||(Fe(),re=!0),ce.add(p,u),u.B=0}}function ef(u,p){return au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(R(u.Ga,u,p),_u(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new bn(this,this.j,u);let U=this.o;if(this.S&&(U?(U=S(U),x(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Kr(this,M,p),y=cn(this.I),He(y,"RID",u),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),wr(this,y),U&&(this.O?p="headers="+encodeURIComponent(String(vr(U)))+"&"+p:this.m&&qr(y,this.m,U)),Go(this.h,M),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",p),He(y,"SID","null"),M.T=!0,As(M,y,null)):As(M,y,p),this.G=2}}else this.G==3&&(u?Vs(this,u):this.i.length==0||ln(this.h)||Vs(this))};function Vs(u,p){var y;p?y=p.l:y=u.U++;const E=cn(u.I);He(E,"SID",u.K),He(E,"RID",y),He(E,"AID",u.T),wr(u,E),u.m&&u.o&&qr(E,u.m,u.o),y=new bn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Kr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Go(u.h,y),As(y,E,p)}function wr(u,p){u.H&&Y(u.H,function(y,E){He(p,E,y)}),u.l&&zr({},function(y,E){He(p,E,y)})}function Kr(u,p,y){y=Math.min(u.i.length,y);var E=u.l?R(u.l.Na,u.l,u):null;e:{var M=u.i;let U=-1;for(;;){const ne=["count="+y];U==-1?0<y?(U=M[0].g,ne.push("ofs="+U)):U=0:ne.push("ofs="+U);let $e=!0;for(let mt=0;mt<y;mt++){let Oe=M[mt].g;const St=M[mt].map;if(Oe-=U,0>Oe)U=Math.max(0,M[mt].g-100),$e=!1;else try{mu(St,ne,"req"+Oe+"_")}catch{E&&E(St)}}if($e){E=ne.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,E}function ji(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Fe||se(),re||(Fe(),re=!0),ce.add(p,u),u.v=0}}function Os(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(R(u.Fa,u),_u(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(R(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),zn(this),yu(this))};function ta(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=cn(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),wr(u,p),u.m&&u.o&&qr(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=$r(cn(p)),y.m=null,y.P=!0,Ko(y,u)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),Os(this),ot(19))};function bs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ms(u,p){var y=null;if(u.g==p){bs(u),ta(u),u.g=null;var E=2}else if(qt(u.h,p))y=p.D,uu(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;E=ki(),pt(E,new Es(E,y)),tr(u)}else ji(u);else if(M=p.s,M==3||M==0&&0<p.X||!(E==1&&ef(u,p)||E==2&&Os(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),M){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function _u(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Er(u,p){if(u.j.info("Error code "+p),p==2){var y=R(u.fb,u),E=u.Xa;const M=!E;E=new yr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mi(E,"https"),$r(E),M?Yc(E.toString(),y):pu(E.toString(),y)}else ot(2);u.G=0,u.l&&u.l.sa(p),vu(u),Ns(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const p=lu(u.h);(p.length!=0||u.i.length!=0)&&(z(u.ka,p),z(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function wu(u,p,y){var E=y instanceof yr?cn(y):new yr(y);if(E.g!="")p&&(E.g=p+"."+E.g),Ur(E,E.s);else{var M=d.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var U=new yr(null);E&&Mi(U,E),p&&(U.g=p),M&&Ur(U,M),y&&(U.l=y),E=U}return y=u.D,p=u.ya,y&&p&&He(E,y,p),He(E,"VER",u.la),wr(u,E),E}function Eu(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ye(new _r({eb:y})):new Ye(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}n=na.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ls(){}Ls.prototype.g=function(u,p){return new Kt(u,p)};function Kt(u,p){dt.call(this),this.g=new ea(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!te(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new nr(this)}B(Kt,dt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){xt(this.g)},Kt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=jo(u),u=y);p.i.push(new ou(p.Ya++,u)),p.G==3&&tr(p)},Kt.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,Kt.aa.N.call(this)};function Tu(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}B(Tu,Xn);function Su(){ws.call(this),this.status=1}B(Su,ws);function nr(u){this.g=u}B(nr,na),nr.prototype.ua=function(){pt(this.g,"a")},nr.prototype.ta=function(u){pt(this.g,new Tu(u))},nr.prototype.sa=function(u){pt(this.g,new Su)},nr.prototype.ra=function(){pt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,lv=function(){return new Ls},uv=function(){return ki()},av=Yn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,kl=Ss,nu.COMPLETE="complete",ov=nu,vs.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ka=vs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,sv=Ye}).apply(typeof wl<"u"?wl:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore",wy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new J_("@firebase/firestore");function oo(){return as.logLevel}function ae(n,...e){if(as.logLevel<=Me.DEBUG){const t=e.map(Bd);as.debug(`Firestore (${Po}): ${n}`,...t)}}function br(n,...e){if(as.logLevel<=Me.ERROR){const t=e.map(Bd);as.error(`Firestore (${Po}): ${n}`,...t)}}function mo(n,...e){if(as.logLevel<=Me.WARN){const t=e.map(Bd);as.warn(`Firestore (${Po}): ${n}`,...t)}}function Bd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function Be(n,e){n||_e()}function Te(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Co{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class DS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NS{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new di,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new di)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new cv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Bt(e)}}class VS{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class OS{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new VS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ey(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new Ey(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Pe(n,e){return n<e?-1:n>e?1:0}function id(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const l=fv(),f=LS(l.encode(Ty(n,t)),l.encode(Ty(e,t)));return f!==0?f:Pe(s,o)}}t+=s>65535?2:1}return Pe(n.length,e.length)}function Ty(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LS(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function go(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,Iy=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Iy);return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sy)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iy}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new vt(0,0))}static max(){return new Ee(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="__name__";class ar{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Pe(e.length,t.length)}static compareSegments(e,t){const s=ar.isNumericId(e),o=ar.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):id(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class Ze extends ar{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const FS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ar{construct(e,t,s){return new bt(e,t,s)}static isValidIdentifier(e){return FS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ay}static keyField(){return new bt([Ay])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(l(),o++)}if(l(),f)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function jS(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new yi(o,ye.empty(),e)}function zS(n){return new yi(n.readTime,n.key,Ba)}class yi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yi(Ee.min(),ye.empty(),Ba)}static max(){return new yi(Ee.max(),ye.empty(),Ba)}}function US(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $S{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==BS)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,s)=>{t(e)})}static reject(e){return new W((t,s)=>{s(e)})}static waitFor(e){return new W((t,s)=>{let o=0,l=0,f=!1;e.forEach(d=>{++o,d.next(()=>{++l,f&&l===o&&t()},g=>s(g))}),f=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next(o=>o?W.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new W((s,o)=>{const l=e.length,f=new Array(l);let d=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next(w=>{f[_]=w,++d,d===l&&s(f)},w=>o(w))}})}static doWhile(e,t){return new W((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function HS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Ic(n){return n==null}function Jl(n){return n===0&&1/n==-1/0}function WS(n){return typeof n=="number"&&Number.isInteger(n)&&!Jl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function qS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Cy(e)),e=KS(n.get(t),e);return Cy(e)}function KS(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case dv:t+="";break;default:t+=l}}return t}function Cy(n){return n+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new El(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new El(this.root,e,this.comparator,!1)}getReverseIterator(){return new El(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new El(this.root,e,this.comparator,!0)}}class El{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ot(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new wt(bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mv("Invalid base64 string: "+l):l}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const QS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(n){if(Be(!!n),typeof n=="string"){let e=0;const t=QS.exec(n);if(Be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vi(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="server_timestamp",yv="__type__",_v="__previous_value__",vv="__local_write_time__";function Hd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yv])===null||t===void 0?void 0:t.stringValue)===gv}function Ac(n){const e=n.mapValue.fields[_v];return Hd(e)?Ac(e):e}function $a(n){const e=_i(n.mapValue.fields[vv].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,s,o,l,f,d,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=_}}const Zl="(default)";class Ha{constructor(e,t){this.projectId=e,this.database=t||Zl}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database===Zl}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__type__",Ev="__max__",Tl={mapValue:{fields:{__type__:{stringValue:Ev}}}},Tv="__vector__",ec="value";function wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hd(n)?4:YS(n)?9007199254740991:XS(n)?10:11:_e()}function fr(n,e){if(n===e)return!0;const t=wi(n);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $a(n).isEqual($a(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=_i(o.timestampValue),d=_i(l.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return vi(o.bytesValue).isEqual(vi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=ut(o.doubleValue),d=ut(l.doubleValue);return f===d?Jl(f)===Jl(d):isNaN(f)&&isNaN(d)}return!1}(n,e);case 9:return go(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Py(f)!==Py(d))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(d[g]===void 0||!fr(f[g],d[g])))return!1;return!0}(n,e);default:return _e()}}function Wa(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function yo(n,e){if(n===e)return 0;const t=wi(n),s=wi(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(l,f){const d=ut(l.integerValue||l.doubleValue),g=ut(f.integerValue||f.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return ky(n.timestampValue,e.timestampValue);case 4:return ky($a(n),$a(e));case 5:return id(n.stringValue,e.stringValue);case 6:return function(l,f){const d=vi(l),g=vi(f);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,f){const d=l.split("/"),g=f.split("/");for(let _=0;_<d.length&&_<g.length;_++){const w=Pe(d[_],g[_]);if(w!==0)return w}return Pe(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,f){const d=Pe(ut(l.latitude),ut(f.latitude));return d!==0?d:Pe(ut(l.longitude),ut(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xy(n.arrayValue,e.arrayValue);case 10:return function(l,f){var d,g,_,w;const T=l.fields||{},R=f.fields||{},O=(d=T[ec])===null||d===void 0?void 0:d.arrayValue,B=(g=R[ec])===null||g===void 0?void 0:g.arrayValue,$=Pe(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((w=B==null?void 0:B.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:xy(O,B)}(n.mapValue,e.mapValue);case 11:return function(l,f){if(l===Tl.mapValue&&f===Tl.mapValue)return 0;if(l===Tl.mapValue)return 1;if(f===Tl.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),_=f.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const R=id(g[T],w[T]);if(R!==0)return R;const O=yo(d[g[T]],_[w[T]]);if(O!==0)return O}return Pe(g.length,w.length)}(n.mapValue,e.mapValue);default:throw _e()}}function ky(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=_i(n),s=_i(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function xy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=yo(t[o],s[o]);if(l)return l}return Pe(t.length,s.length)}function _o(n){return sd(n)}function sd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=_i(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=sd(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const f of s)l?l=!1:o+=",",o+=`${f}:${sd(t.fields[f])}`;return o+"}"}(n.mapValue):_e()}function xl(n){switch(wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ac(n);return e?16+xl(e):16;case 5:return 2*n.stringValue.length;case 6:return vi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+xl(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Si(s.fields,(l,f)=>{o+=l.length+xl(f)}),o}(n.mapValue);default:throw _e()}}function od(n){return!!n&&"integerValue"in n}function Wd(n){return!!n&&"arrayValue"in n}function Dy(n){return!!n&&"nullValue"in n}function Ny(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dl(n){return!!n&&"mapValue"in n}function XS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wv])===null||t===void 0?void 0:t.stringValue)===Tv}function Va(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Va(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Va(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ev}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Dl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(t)}setAll(e){let t=bt.emptyPath(),s={},o=[];e.forEach((f,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}f?s[d.lastSegment()]=Va(f):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Dl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Si(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new an(Va(this.value))}}function Sv(n){const e=[];return Si(n.fields,(t,s)=>{const o=new bt([t]);if(Dl(s)){const l=Sv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,l,f,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=f,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ee.min(),Ee.min(),Ee.min(),an.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ee.min(),Ee.min(),an.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ee.min(),Ee.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t){this.position=e,this.inclusive=t}}function Vy(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],f=n.position[o];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),t.key):s=yo(f,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Oy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function JS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{}class _t extends Iv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new eI(e,t,s):t==="array-contains"?new rI(e,s):t==="in"?new iI(e,s):t==="not-in"?new sI(e,s):t==="array-contains-any"?new oI(e,s):new _t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new tI(e,s):new nI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(yo(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends Iv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new hr(e,t)}matches(e){return Av(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Av(n){return n.op==="and"}function Cv(n){return ZS(n)&&Av(n)}function ZS(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function ad(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+_o(n.value);if(Cv(n))return n.filters.map(e=>ad(e)).join(",");{const e=n.filters.map(t=>ad(t)).join(",");return`${n.op}(${e})`}}function Pv(n,e){return n instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&fr(s.value,o.value)}(n,e):n instanceof hr?function(s,o){return o instanceof hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,f,d)=>l&&Pv(f,o.filters[d]),!0):!1}(n,e):void _e()}function Rv(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(n):n instanceof hr?function(t){return t.op.toString()+" {"+t.getFilters().map(Rv).join(" ,")+"}"}(n):"Filter"}class eI extends _t{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class tI extends _t{constructor(e,t){super(e,"in",t),this.keys=kv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nI extends _t{constructor(e,t){super(e,"not-in",t),this.keys=kv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class rI extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wd(t)&&Wa(t.arrayValue,this.value)}}class iI extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wa(this.value.arrayValue,t)}}class sI extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wa(this.value.arrayValue,t)}}class oI extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t=null,s=[],o=[],l=null,f=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=f,this.endAt=d,this.le=null}}function by(n,e=null,t=[],s=[],o=null,l=null,f=null){return new aI(n,e,t,s,o,l,f)}function qd(n){const e=Te(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ad(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ic(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=t}return e.le}function Kd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Oy(n.startAt,e.startAt)&&Oy(n.endAt,e.endAt)}function ud(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t=null,s=[],o=[],l=null,f="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=f,this.startAt=d,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uI(n,e,t,s,o,l,f,d){return new Cc(n,e,t,s,o,l,f,d)}function xv(n){return new Cc(n)}function My(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lI(n){return n.collectionGroup!==null}function Oa(n){const e=Te(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new wt(bt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new nc(l,s))}),t.has(bt.keyField().canonicalString())||e.he.push(new nc(bt.keyField(),s))}return e.he}function lr(n){const e=Te(n);return e.Pe||(e.Pe=cI(e,Oa(n))),e.Pe}function cI(n,e){if(n.limitType==="F")return by(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new nc(o.field,l)});const t=n.endAt?new tc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new tc(n.startAt.position,n.startAt.inclusive):null;return by(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function ld(n,e,t){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pc(n,e){return Kd(lr(n),lr(e))&&n.limitType===e.limitType}function Dv(n){return`${qd(lr(n))}|lt:${n.limitType}`}function ao(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Rv(o)).join(", ")}]`),Ic(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(lr(n))}; limitType=${n.limitType})`}function Rc(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of Oa(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(f,d,g){const _=Vy(f,d,g);return f.inclusive?_<=0:_<0}(s.startAt,Oa(s),o)||s.endAt&&!function(f,d,g){const _=Vy(f,d,g);return f.inclusive?_>=0:_>0}(s.endAt,Oa(s),o))}(n,e)}function fI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nv(n){return(e,t)=>{let s=!1;for(const o of Oa(n)){const l=hI(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function hI(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,f,d){const g=f.data.field(l),_=d.data.field(l);return g!==null&&_!==null?yo(g,_):_e()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new rt(ye.comparator);function Mr(){return dI}const Vv=new rt(ye.comparator);function xa(...n){let e=Vv;for(const t of n)e=e.insert(t.key,t);return e}function Ov(n){let e=Vv;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ts(){return ba()}function bv(){return ba()}function ba(){return new hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const pI=new rt(ye.comparator),mI=new wt(ye.comparator);function De(...n){let e=mI;for(const t of n)e=e.add(t);return e}const gI=new wt(Pe);function yI(){return gI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function Mv(n){return{integerValue:""+n}}function _I(n,e){return WS(e)?Mv(e):Qd(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function vI(n,e,t){return n instanceof rc?function(o,l){const f={fields:{[yv]:{stringValue:gv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Hd(l)&&(l=Ac(l)),l&&(f.fields[_v]=l),{mapValue:f}}(t,e):n instanceof qa?Fv(n,e):n instanceof Ka?jv(n,e):function(o,l){const f=Lv(o,l),d=Ly(f)+Ly(o.Ie);return od(f)&&od(o.Ie)?Mv(d):Qd(o.serializer,d)}(n,e)}function wI(n,e,t){return n instanceof qa?Fv(n,e):n instanceof Ka?jv(n,e):t}function Lv(n,e){return n instanceof ic?function(s){return od(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class rc extends kc{}class qa extends kc{constructor(e){super(),this.elements=e}}function Fv(n,e){const t=zv(e);for(const s of n.elements)t.some(o=>fr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Ka extends kc{constructor(e){super(),this.elements=e}}function jv(n,e){let t=zv(e);for(const s of n.elements)t=t.filter(o=>!fr(o,s));return{arrayValue:{values:t}}}class ic extends kc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ly(n){return ut(n.integerValue||n.doubleValue)}function zv(n){return Wd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EI(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof qa&&o instanceof qa||s instanceof Ka&&o instanceof Ka?go(s.elements,o.elements,fr):s instanceof ic&&o instanceof ic?fr(s.Ie,o.Ie):s instanceof rc&&o instanceof rc}(n.transform,e.transform)}class TI{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xc{}function Uv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gd(n.key,Qn.none()):new Ga(n.key,n.data,Qn.none());{const t=n.data,s=an.empty();let o=new wt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?s.delete(l):s.set(l,f),o=o.add(l)}return new Ii(n.key,s,new yn(o.toArray()),Qn.none())}}function SI(n,e,t){n instanceof Ga?function(o,l,f){const d=o.value.clone(),g=jy(o.fieldTransforms,l,f.transformResults);d.setAll(g),l.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ii?function(o,l,f){if(!Nl(o.precondition,l))return void l.convertToUnknownDocument(f.version);const d=jy(o.fieldTransforms,l,f.transformResults),g=l.data;g.setAll(Bv(o)),g.setAll(d),l.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(n,e,t):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Ma(n,e,t,s){return n instanceof Ga?function(l,f,d,g){if(!Nl(l.precondition,f))return d;const _=l.value.clone(),w=zy(l.fieldTransforms,g,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ii?function(l,f,d,g){if(!Nl(l.precondition,f))return d;const _=zy(l.fieldTransforms,g,f),w=f.data;return w.setAll(Bv(l)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,s):function(l,f,d){return Nl(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(n,e,t)}function II(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Lv(s.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(s.field,l))}return t||null}function Fy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(l,f)=>EI(l,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ga extends xc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ii extends xc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Bv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function jy(n,e,t){const s=new Map;Be(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],f=l.transform,d=e.data.field(l.field);s.set(l.field,wI(f,d,t[o]))}return s}function zy(n,e,t){const s=new Map;for(const o of n){const l=o.transform,f=t.data.field(o.field);s.set(o.field,vI(l,f,e))}return s}class Gd extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&SI(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ma(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ma(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bv();return this.mutations.forEach(o=>{const l=e.get(o.key),f=l.overlayedDocument;let d=this.applyToLocalView(f,l.mutatedFields);d=t.has(o.key)?null:d;const g=Uv(f,d);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>Fy(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>Fy(t,s))}}class Xd{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length);let o=function(){return pI}();const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,s[f].version);return new Xd(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,be;function kI(n){switch(n){case X.OK:return _e();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e()}}function $v(n){if(n===void 0)return br("GRPC error has no .code"),X.UNKNOWN;switch(n){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return _e()}}(be=ft||(ft={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new hi([4294967295,4294967295],0);function Uy(n){const e=fv().encode(n),t=new iv;return t.update(e),new Uint8Array(t.digest())}function By(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hi([t,s],0),new hi([o,l],0)]}class Yd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Da(`Invalid padding: ${t}`);if(s<0)throw new Da(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Da(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=hi.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(hi.fromNumber(s)));return o.compare(xI)===1&&(o=new hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Uy(e),[s,o]=By(t);for(let l=0;l<this.hashCount;l++){const f=this.Ae(s,o,l);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Yd(l,o,t);return s.forEach(d=>f.insert(d)),f}insert(e){if(this.Ee===0)return;const t=Uy(e),[s,o]=By(t);for(let l=0;l<this.hashCount;l++){const f=this.Ae(s,o,l);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Dc(Ee.min(),o,new rt(Pe),Mr(),De())}}class Xa{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xa(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Hv{constructor(e,t){this.targetId=e,this.ge=t}}class Wv{constructor(e,t,s=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class $y{constructor(){this.pe=0,this.ye=Hy(),this.we=Mt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),t=De(),s=De();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e()}}),new Xa(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Hy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Be(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class DI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mr(),this.$e=Sl(),this.Ue=Sl(),this.Ke=new rt(Pe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(ud(l))if(s===0){const f=new ye(l.path);this.ze(t,f,$t.newNoDocument(f,Ee.min()))}else Be(s===1);else{const f=this.et(t);if(f!==s){const d=this.tt(e),g=d?this.nt(d,e,f):1;if(g!==0){this.Ye(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let f,d;try{f=vi(s).toUint8Array()}catch(g){if(g instanceof mv)return mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Yd(f,o,l)}catch(g){return mo(g instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const f=this.ke.it(),d=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,f)=>{const d=this.Xe(f);if(d){if(l.current&&ud(d.target)){const g=new ye(d.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,$t.newNoDocument(g,e))}l.ve&&(t.set(f,l.Fe()),l.Me())}});let s=De();this.Ue.forEach((l,f)=>{let d=!0;f.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,f)=>f.setReadTime(e));const o=new Dc(e,t,this.Ke,this.Qe,s);return this.Qe=Mr(),this.$e=Sl(),this.Ue=Sl(),this.Ke=new rt(Pe),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new $y,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new wt(Pe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Pe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $y),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Sl(){return new rt(ye.comparator)}function Hy(){return new rt(ye.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OI={and:"AND",or:"OR"};class bI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cd(n,e){return n.useProto3Json||Ic(e)?e:{value:e}}function sc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MI(n,e){return sc(n,e.toTimestamp())}function cr(n){return Be(!!n),Ee.fromTimestamp(function(t){const s=_i(t);return new vt(s.seconds,s.nanos)}(n))}function Jd(n,e){return fd(n,e).canonicalString()}function fd(n,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Kv(n){const e=Ze.fromString(n);return Be(Jv(e)),e}function hd(n,e){return Jd(n.databaseId,e.path)}function Lh(n,e){const t=Kv(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Gv(t))}function Qv(n,e){return Jd(n.databaseId,e)}function LI(n){const e=Kv(n);return e.length===4?Ze.emptyPath():Gv(e)}function dd(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gv(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Wy(n,e,t){return{name:hd(n,e),fields:t.value.mapValue.fields}}function FI(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,w){return _.useProto3Json?(Be(w===void 0||typeof w=="string"),Mt.fromBase64String(w||"")):(Be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Mt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,d=f&&function(_){const w=_.code===void 0?X.UNKNOWN:$v(_.code);return new pe(w,_.message||"")}(f);t=new Wv(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lh(n,s.document.name),l=cr(s.document.updateTime),f=s.document.createTime?cr(s.document.createTime):Ee.min(),d=new an({mapValue:{fields:s.document.fields}}),g=$t.newFoundDocument(o,l,f,d),_=s.targetIds||[],w=s.removedTargetIds||[];t=new Vl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lh(n,s.document),l=s.readTime?cr(s.readTime):Ee.min(),f=$t.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Vl([],d,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lh(n,s.document),l=s.removedTargetIds||[];t=new Vl([],l,o,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,f=new RI(o,l),d=s.targetId;t=new Hv(d,f)}}return t}function jI(n,e){let t;if(e instanceof Ga)t={update:Wy(n,e.key,e.value)};else if(e instanceof Gd)t={delete:hd(n,e.key)};else if(e instanceof Ii)t={update:Wy(n,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof AI))return _e();t={verify:hd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,f){const d=f.transform;if(d instanceof rc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ka)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ic)return{fieldPath:f.field.canonicalString(),increment:d.Ie};throw _e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:MI(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(n,e.precondition)),t}function zI(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(o,l){let f=o.updateTime?cr(o.updateTime):cr(l);return f.isEqual(Ee.min())&&(f=cr(l)),new TI(f,o.transformResults||[])}(t,e))):[]}function UI(n,e){return{documents:[Qv(n,e.path)]}}function BI(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Qv(n,o);const l=function(_){if(_.length!==0)return Yv(hr.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(_){if(_.length!==0)return _.map(w=>function(R){return{field:uo(R.field),direction:WI(R.dir)}}(w))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const d=cd(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:o}}function $I(n){let e=LI(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const R=Xv(T);return R instanceof hr&&Cv(R)?R.getFilters():[R]}(t.where));let f=[];t.orderBy&&(f=function(T){return T.map(R=>function(B){return new nc(lo(B.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(T){let R;return R=typeof T=="object"?T.value:T,Ic(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(T){const R=!!T.before,O=T.values||[];return new tc(O,R)}(t.startAt));let _=null;return t.endAt&&(_=function(T){const R=!T.before,O=T.values||[];return new tc(O,R)}(t.endAt)),uI(e,o,f,l,d,"F",g,_)}function HI(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xv(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lo(t.unaryFilter.field);return _t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(t.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hr.create(t.compositeFilter.filters.map(s=>Xv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function WI(n){return NI[n]}function qI(n){return VI[n]}function KI(n){return OI[n]}function uo(n){return{fieldPath:n.canonicalString()}}function lo(n){return bt.fromServerFormat(n.fieldPath)}function Yv(n){return n instanceof _t?function(t){if(t.op==="=="){if(Ny(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(Dy(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ny(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(Dy(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:qI(t.op),value:t.value}}}(n):n instanceof hr?function(t){const s=t.getFilters().map(o=>Yv(o));return s.length===1?s[0]:{compositeFilter:{op:KI(t.op),filters:s}}}(n):_e()}function QI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t,s,o,l=Ee.min(),f=Ee.min(),d=Mt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.Tt=e}}function XI(n){const e=$I({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.Tn=new JI}addToCollectionParentIndex(e,t){return this.Tn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(yi.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class JI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new wt(Ze.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Zv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LruGarbageCollector",ZI=1048576;function Qy([n,e],[t,s]){const o=Pe(n,t);return o===0?Pe(e,s):o}class eA{constructor(e){this.Hn=e,this.buffer=new wt(Qy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Qy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tA{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(Ky,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ko(t)?ae(Ky,"Ignoring IndexedDB error during garbage collection: ",t):await Ro(t)}await this.er(3e5)})}}class nA{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Sc.ae);const s=new eA(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(qy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,f,d,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(_=Date.now(),oo()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function rA(n,e){return new nA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.changes=new hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ma(s.mutation,o,yn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,t,s=De()){const o=ts();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let f=xa();return l.forEach((d,g)=>{f=f.insert(d,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ts();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,De()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((f,d)=>{t.set(f,d)})})}computeViews(e,t,s,o){let l=Mr();const f=ba(),d=function(){return ba()}();return t.forEach((g,_)=>{const w=s.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof Ii)?l=l.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),Ma(w.mutation,_,w.mutation.getFieldMask(),vt.now())):f.set(_.key,yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((_,w)=>f.set(_,w)),t.forEach((_,w)=>{var T;return d.set(_,new sA(w,(T=f.get(_))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ba();let o=new rt((f,d)=>f-d),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const d of f)d.keys().forEach(g=>{const _=t.get(g);if(_===null)return;let w=s.get(g)||yn.empty();w=d.applyToLocalView(_,w),s.set(g,w);const T=(o.get(d.batchId)||De()).add(g);o=o.insert(d.batchId,T)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),_=g.key,w=g.value,T=bv();w.forEach(R=>{if(!l.has(R)){const O=Uv(t.get(R),s.get(R));O!==null&&T.set(R,O),l=l.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,T))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):W.resolve(ts());let d=Ba,g=l;return f.next(_=>W.forEach(_,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,g,_,De())).next(w=>({batchId:d,changes:Ov(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=xa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let f=xa();return this.indexManager.getCollectionParents(e,l).next(d=>W.forEach(d,g=>{const _=function(T,R){return new Cc(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(w=>{w.forEach((T,R)=>{f=f.insert(T,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(f=>{l.forEach((g,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,$t.newInvalidDocument(w)))});let d=xa();return f.forEach((g,_)=>{const w=l.get(g);w!==void 0&&Ma(w.mutation,_,yn.empty(),vt.now()),Rc(t,_)&&(d=d.insert(g,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return W.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:XI(o.bundledQuery),readTime:cr(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ts();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=ts(),l=t.length+1,f=new ye(t.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const g=d.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new rt((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let w=l.get(_.largestBatchId);w===null&&(w=ts(),l=l.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=ts(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=o)););return W.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new PI(t,s));let l=this.Rr.get(t);l===void 0&&(l=De(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.Vr=new wt(Pt.mr),this.gr=new wt(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Pt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ye(new Ze([])),s=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),l.push(f.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Ze([])),s=new Pt(t,e),o=new Pt(t,e+1);let l=De();return this.gr.forEachInRange([s,o],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Pt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Pe(e.Cr,t.Cr)}static pr(e,t){return Pe(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Pt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CI(l,t,s,o);this.mutationQueue.push(f);for(const d of o)this.Mr=this.Mr.add(new Pt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,t){return W.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?$d:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],f=>{const d=this.Or(f.Cr);l.push(d)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new wt(Pe);return t.forEach(o=>{const l=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,f],d=>{s=s.add(d.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const f=new Pt(new ye(l),0);let d=new wt(Pe);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(d=d.add(g.Cr)),!0)},f),W.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Mr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Mr();const f=t.path,d=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||US(zS(w),s)<=0||(o.has(w.key)||Rc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,s,o){_e()}qr(e,t){return W.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new hA(this)}getSize(e){return W.resolve(this.size)}}class hA extends iA{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.persistence=e,this.Qr=new hs(t=>qd(t),Kd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Zd,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),W.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.zn(t),W.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((f,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Sc(0),this.zr=!1,this.zr=!0,this.jr=new lA,this.referenceDelegate=e(this),this.Hr=new dA(this),this.indexManager=new YI,this.remoteDocumentCache=function(o){return new fA(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new GI(t),this.Yr=new aA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new cA(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new pA(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class pA extends $S{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.ti=new Zd,this.ni=null}static ri(e){return new ep(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),W.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ee.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return W.or([()=>W.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class oc{constructor(e,t){this.persistence=e,this.oi=new hs(s=>qS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=rA(this,t)}static ri(e,t){return new oc(e,t)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(d=>{d||(s++,l.removeEntry(f,Ee.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),W.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xl(e.data.value)),t}ar(e,t,s){return W.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=De(),o=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new tp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return h1()?8:HS(c1())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new mA;return this._s(e,t,f).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,f,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(oo()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(oo()<=Me.DEBUG&&ae("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(oo()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):W.resolve())}rs(e,t){if(My(t))return W.resolve(null);let s=lr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ld(t,null,"F"),s=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=De(...l);return this.ns.getDocuments(e,f).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(t,d);return this.ls(t,_,f,g.readTime)?this.rs(e,ld(t,null,"F")):this.hs(e,_,t,g)}))})))}ss(e,t,s,o){return My(t)||o.isEqual(Ee.min())?W.resolve(null):this.ns.getDocuments(e,s).next(l=>{const f=this.cs(t,l);return this.ls(t,f,s,o)?W.resolve(null):(oo()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.hs(e,f,t,jS(o,Ba)).next(d=>d))})}cs(e,t){let s=new wt(Nv(e));return t.forEach((o,l)=>{Rc(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return oo()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ao(t)),this.ns.getDocumentsMatchingQuery(e,t,yi.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="LocalStore",yA=3e8;class _A{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Pe),this.Is=new hs(l=>qd(l),Kd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vA(n,e,t,s){return new _A(n,e,t,s)}async function tw(n,e){const t=Te(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],d=[];let g=De();for(const _ of o){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of l){d.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:d}))})})}function wA(n,e){const t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,g,_,w){const T=_.batch,R=T.keys();let O=W.resolve();return R.forEach(B=>{O=O.next(()=>w.getEntry(g,B)).next($=>{const z=_.docVersions.get(B);Be(z!==null),$.version.compareTo(z)<0&&(T.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),w.addEntry($)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=De();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function nw(n){const e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function EA(n,e){const t=Te(n),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((w,T)=>{const R=o.get(T);if(!R)return;d.push(t.Hr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,w.addedDocuments,T)));let O=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Mt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),o=o.insert(T,O),function($,z,ee){return $.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=yA?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(R,O,w)&&d.push(t.Hr.updateTargetData(l,O))});let g=Mr(),_=De();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),d.push(TA(l,f,e.documentUpdates).next(w=>{g=w.Vs,_=w.fs})),!s.isEqual(Ee.min())){const w=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(w)}return W.waitFor(d).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,_)).next(()=>g)}).then(l=>(t.Ts=o,l))}function TA(n,e,t){let s=De(),o=De();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let f=Mr();return t.forEach((d,g)=>{const _=l.get(d);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(d,g.readTime),f=f.insert(d,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(d,g)):ae(np,"Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function SA(n,e){const t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$d),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function IA(n,e){const t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,W.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new li(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function pd(n,e,t){const s=Te(n),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ko(f))throw f;ae(np,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Gy(n,e,t){const s=Te(n);let o=Ee.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,w){const T=Te(g),R=T.Is.get(w);return R!==void 0?W.resolve(T.Ts.get(R)):T.Hr.getTargetData(_,w)}(s,f,lr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,d.targetId).next(g=>{l=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Ee.min(),t?l:De())).next(d=>(AA(s,fI(e),d),{documents:d,gs:l})))}function AA(n,e,t){let s=n.Es.get(e)||Ee.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Es.set(e,s)}class Xy{constructor(){this.activeTargetIds=yI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CA{constructor(){this.ho=new Xy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Xy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="ConnectivityMonitor";class Jy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(Yy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(Yy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il=null;function md(){return Il===null?Il=function(){return 268435456+Math.round(2147483648*Math.random())}():Il++,"0x"+Il.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="RestConnection",RA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Zl?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const f=md(),d=this.bo(e,t.toUriEncodedString());ae(Fh,`Sending RPC '${e}' ${f}:`,d,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,l),this.vo(e,d,g,s).then(_=>(ae(Fh,`Received RPC '${e}' ${f}: `,_),_),_=>{throw mo(Fh,`RPC '${e}' ${f} failed with error: `,_,"url: ",d,"request:",s),_})}Co(e,t,s,o,l,f){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=RA[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class DA extends kA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=md();return new Promise((f,d)=>{const g=new sv;g.setWithCredentials(!0),g.listenOnce(ov.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kl.NO_ERROR:const w=g.getResponseJson();ae(Ut,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),f(w);break;case kl.TIMEOUT:ae(Ut,`RPC '${e}' ${l} timed out`),d(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const T=g.getStatus();if(ae(Ut,`RPC '${e}' ${l} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const B=function(z){const ee=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ee)>=0?ee:X.UNKNOWN}(O.status);d(new pe(B,O.message))}else d(new pe(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new pe(X.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ae(Ut,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);ae(Ut,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",_,s,15)})}Wo(e,t,s){const o=md(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=lv(),d=uv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");ae(Ut,`Creating RPC '${e}' stream ${o}: ${w}`,g);const T=f.createWebChannel(w,g);let R=!1,O=!1;const B=new xA({Fo:z=>{O?ae(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(ae(Ut,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),ae(Ut,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Mo:()=>T.close()}),$=(z,ee,te)=>{z.listen(ee,Q=>{try{te(Q)}catch(q){setTimeout(()=>{throw q},0)}})};return $(T,ka.EventType.OPEN,()=>{O||(ae(Ut,`RPC '${e}' stream ${o} transport opened.`),B.Qo())}),$(T,ka.EventType.CLOSE,()=>{O||(O=!0,ae(Ut,`RPC '${e}' stream ${o} transport closed`),B.Uo())}),$(T,ka.EventType.ERROR,z=>{O||(O=!0,mo(Ut,`RPC '${e}' stream ${o} transport errored:`,z),B.Uo(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),$(T,ka.EventType.MESSAGE,z=>{var ee;if(!O){const te=z.data[0];Be(!!te);const Q=te,q=(Q==null?void 0:Q.error)||((ee=Q[0])===null||ee===void 0?void 0:ee.error);if(q){ae(Ut,`RPC '${e}' stream ${o} received error:`,q);const ie=q.status;let Y=function(C){const x=ft[C];if(x!==void 0)return $v(x)}(ie),A=q.message;Y===void 0&&(Y=X.INTERNAL,A="Unknown error status: "+ie+" with message "+q.message),O=!0,B.Uo(new pe(Y,A)),T.close()}else ae(Ut,`RPC '${e}' stream ${o} received:`,te),B.Ko(te)}}),$(d,av.STAT_EVENT,z=>{z.stat===rd.PROXY?ae(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===rd.NOPROXY&&ae(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){return new bI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="PersistentStream";class iw{constructor(e,t,s,o,l,f,d,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new pe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(Zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ae(Zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NA extends iw{constructor(e,t,s,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=FI(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ee.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?cr(f.readTime):Ee.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=dd(this.serializer),t.addTarget=function(l,f){let d;const g=f.target;if(d=ud(g)?{documents:UI(l,g)}:{query:BI(l,g).ht},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=qv(l,f.resumeToken);const _=cd(l,f.expectedCount);_!==null&&(d.expectedCount=_)}else if(f.snapshotVersion.compareTo(Ee.min())>0){d.readTime=sc(l,f.snapshotVersion.toTimestamp());const _=cd(l,f.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const s=HI(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=dd(this.serializer),t.removeTarget=e,this.I_(t)}}class VA extends iw{constructor(e,t,s,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zI(e.writeResults,e.commitTime),s=cr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=dd(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>jI(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{}class bA extends OA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.So(e,fd(t,s),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(X.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Co(e,fd(t,s),o,f,d,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(X.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(br(t),this.N_=!1):ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="RemoteStore";class LA{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(f=>{s.enqueueAndForget(async()=>{ds(this)&&(ae(us,"Restarting streams for network reachability change."),await async function(g){const _=Te(g);_.W_.add(4),await Ya(_),_.j_.set("Unknown"),_.W_.delete(4),await Vc(_)}(this))})}),this.j_=new MA(s,o)}}async function Vc(n){if(ds(n))for(const e of n.G_)await e(!0)}async function Ya(n){for(const e of n.G_)await e(!1)}function sw(n,e){const t=Te(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),op(t)?sp(t):xo(t).c_()&&ip(t,e))}function rp(n,e){const t=Te(n),s=xo(t);t.K_.delete(e),s.c_()&&ow(t,e),t.K_.size===0&&(s.c_()?s.P_():ds(t)&&t.j_.set("Unknown"))}function ip(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(n).y_(e)}function ow(n,e){n.H_.Ne(e),xo(n).w_(e)}function sp(n){n.H_=new DI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),xo(n).start(),n.j_.B_()}function op(n){return ds(n)&&!xo(n).u_()&&n.K_.size>0}function ds(n){return Te(n).W_.size===0}function aw(n){n.H_=void 0}async function FA(n){n.j_.set("Online")}async function jA(n){n.K_.forEach((e,t)=>{ip(n,e)})}async function zA(n,e){aw(n),op(n)?(n.j_.q_(e),sp(n)):n.j_.set("Unknown")}async function UA(n,e,t){if(n.j_.set("Online"),e instanceof Wv&&e.state===2&&e.cause)try{await async function(o,l){const f=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.K_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(s){ae(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ac(n,s)}else if(e instanceof Vl?n.H_.We(e):e instanceof Hv?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ee.min()))try{const s=await nw(n.localStore);t.compareTo(s)>=0&&await function(l,f){const d=l.H_.ot(f);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.K_.get(_);w&&l.K_.set(_,w.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach((g,_)=>{const w=l.K_.get(g);if(!w)return;l.K_.set(g,w.withResumeToken(Mt.EMPTY_BYTE_STRING,w.snapshotVersion)),ow(l,g);const T=new li(w.target,g,_,w.sequenceNumber);ip(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ae(us,"Failed to raise snapshot:",s),await ac(n,s)}}async function ac(n,e,t){if(!ko(e))throw e;n.W_.add(1),await Ya(n),n.j_.set("Offline"),t||(t=()=>nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae(us,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Vc(n)})}function uw(n,e){return e().catch(t=>ac(n,t,e))}async function Oc(n){const e=Te(n),t=Ei(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:$d;for(;BA(e);)try{const o=await SA(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,$A(e,o)}catch(o){await ac(e,o)}lw(e)&&cw(e)}function BA(n){return ds(n)&&n.U_.length<10}function $A(n,e){n.U_.push(e);const t=Ei(n);t.c_()&&t.S_&&t.b_(e.mutations)}function lw(n){return ds(n)&&!Ei(n).u_()&&n.U_.length>0}function cw(n){Ei(n).start()}async function HA(n){Ei(n).C_()}async function WA(n){const e=Ei(n);for(const t of n.U_)e.b_(t.mutations)}async function qA(n,e,t){const s=n.U_.shift(),o=Xd.from(s,e,t);await uw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Oc(n)}async function KA(n,e){e&&Ei(n).S_&&await async function(s,o){if(function(f){return kI(f)&&f!==X.ABORTED}(o.code)){const l=s.U_.shift();Ei(s).h_(),await uw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Oc(s)}}(n,e),lw(n)&&cw(n)}async function e_(n,e){const t=Te(n);t.asyncQueue.verifyOperationInProgress(),ae(us,"RemoteStore received new credentials");const s=ds(t);t.W_.add(3),await Ya(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Vc(t)}async function QA(n,e){const t=Te(n);e?(t.W_.delete(2),await Vc(t)):e||(t.W_.add(2),await Ya(t),t.j_.set("Unknown"))}function xo(n){return n.J_||(n.J_=function(t,s,o){const l=Te(t);return l.M_(),new NA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:FA.bind(null,n),No:jA.bind(null,n),Lo:zA.bind(null,n),p_:UA.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),op(n)?sp(n):n.j_.set("Unknown")):(await n.J_.stop(),aw(n))})),n.J_}function Ei(n){return n.Y_||(n.Y_=function(t,s,o){const l=Te(t);return l.M_(),new VA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:HA.bind(null,n),Lo:KA.bind(null,n),D_:WA.bind(null,n),v_:qA.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Oc(n)):(await n.Y_.stop(),n.U_.length>0&&(ae(us,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const f=Date.now()+s,d=new ap(e,t,f,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(n,e){if(br("AsyncQueue",`${e}: ${n}`),ko(n))return new pe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=xa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.Z_=new rt(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class wo{constructor(e,t,s,o,l,f,d,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const f=[];return t.forEach(d=>{f.push({type:0,doc:d})}),new wo(e,t,ho.emptySet(t),f,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XA{constructor(){this.queries=n_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Te(t),l=o.queries;o.queries=n_(),l.forEach((f,d)=>{for(const g of d.ta)g.onError(s)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function n_(){return new hs(n=>Dv(n),Pc)}async function YA(n,e){const t=Te(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new GA,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const d=up(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&lp(t)}async function JA(n,e){const t=Te(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const f=l.ta.indexOf(e);f>=0&&(l.ta.splice(f,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ZA(n,e){const t=Te(n);let s=!1;for(const o of e){const l=o.query,f=t.queries.get(l);if(f){for(const d of f.ta)d.oa(o)&&(s=!0);f.ea=o}}s&&lp(t)}function eC(n,e,t){const s=Te(n),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function lp(n){n.ia.forEach(e=>{e.next()})}var gd,r_;(r_=gd||(gd={}))._a="default",r_.Cache="cache";class tC{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class nC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=Nv(e),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new t_,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,f=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const R=o.get(w),O=Rc(this.query,T)?T:null,B=!!R&&this.mutatedKeys.has(R.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;R&&O?R.data.isEqual(O.data)?B!==$&&(s.track({type:3,doc:O}),z=!0):this.va(R,O)||(s.track({type:2,doc:O}),z=!0,(g&&this.ya(O,g)>0||_&&this.ya(O,_)<0)&&(d=!0)):!R&&O?(s.track({type:0,doc:O}),z=!0):R&&!O&&(s.track({type:1,doc:R}),z=!0,(g||_)&&(d=!0)),z&&(O?(f=f.add(O),l=$?l.add(w):l.delete(w)):(f=f.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{wa:f,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((w,T)=>function(O,B){const $=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return $(O)-$(B)}(w.type,T.type)||this.ya(w.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,f.length!==0||_?{snapshot:new wo(this.query,e.wa,l,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new t_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new hw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new fw(s))}),t}Oa(e){this.fa=e.gs,this.pa=De();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cp="SyncEngine";class rC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class iC{constructor(e){this.key=e,this.Ba=!1}}class sC{constructor(e,t,s,o,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new hs(d=>Dv(d),Pc),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ua=new Map,this.Ka=new Zd,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oC(n,e,t=!0){const s=_w(n);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await dw(s,e,t,!0),o}async function aC(n,e){const t=_w(n);await dw(t,e,!0,!1)}async function dw(n,e,t,s){const o=await IA(n.localStore,lr(e)),l=o.targetId,f=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await uC(n,e,l,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&sw(n.remoteStore,o),d}async function uC(n,e,t,s,o){n.Ha=(T,R,O)=>async function($,z,ee,te){let Q=z.view.ba(ee);Q.ls&&(Q=await Gy($.localStore,z.query,!1).then(({documents:A})=>z.view.ba(A,Q)));const q=te&&te.targetChanges.get(z.targetId),ie=te&&te.targetMismatches.get(z.targetId)!=null,Y=z.view.applyChanges(Q,$.isPrimaryClient,q,ie);return s_($,z.targetId,Y.Ma),Y.snapshot}(n,T,R,O);const l=await Gy(n.localStore,e,!0),f=new nC(e,l.gs),d=f.ba(l.documents),g=Xa.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),_=f.applyChanges(d,n.isPrimaryClient,g);s_(n,t,_.Ma);const w=new rC(e,t,f);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),_.snapshot}async function lC(n,e,t){const s=Te(n),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(f=>!Pc(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&rp(s.remoteStore,o.targetId),yd(s,o.targetId)}).catch(Ro)):(yd(s,o.targetId),await pd(s.localStore,o.targetId,!0))}async function cC(n,e){const t=Te(n),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),rp(t.remoteStore,s.targetId))}async function fC(n,e,t){const s=_C(n);try{const o=await function(f,d){const g=Te(f),_=vt.now(),w=d.reduce((O,B)=>O.add(B.key),De());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let B=Mr(),$=De();return g.ds.getEntries(O,w).next(z=>{B=z,B.forEach((ee,te)=>{te.isValidDocument()||($=$.add(ee))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,B)).next(z=>{T=z;const ee=[];for(const te of d){const Q=II(te,T.get(te.key).overlayedDocument);Q!=null&&ee.push(new Ii(te.key,Q,Sv(Q.value.mapValue),Qn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,_,ee,d)}).next(z=>{R=z;const ee=z.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(O,z.batchId,ee)})}).then(()=>({batchId:R.batchId,changes:Ov(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){let _=f.Wa[f.currentUser.toKey()];_||(_=new rt(Pe)),_=_.insert(d,g),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,t),await Ja(s,o.changes),await Oc(s.remoteStore)}catch(o){const l=up(o,"Failed to persist write");t.reject(l)}}async function pw(n,e){const t=Te(n);try{const s=await EA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const f=t.Ua.get(l);f&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Be(f.Ba):o.removedDocuments.size>0&&(Be(f.Ba),f.Ba=!1))}),await Ja(t,s,e)}catch(s){await Ro(s)}}function i_(n,e,t){const s=Te(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,f)=>{const d=f.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(f,d){const g=Te(f);g.onlineState=d;let _=!1;g.queries.forEach((w,T)=>{for(const R of T.ta)R.sa(d)&&(_=!0)}),_&&lp(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hC(n,e,t){const s=Te(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),l=o&&o.key;if(l){let f=new rt(ye.comparator);f=f.insert(l,$t.newNoDocument(l,Ee.min()));const d=De().add(l),g=new Dc(Ee.min(),new Map,new rt(Pe),f,d);await pw(s,g),s.$a=s.$a.remove(l),s.Ua.delete(e),fp(s)}else await pd(s.localStore,e,!1).then(()=>yd(s,e,t)).catch(Ro)}async function dC(n,e){const t=Te(n),s=e.batch.batchId;try{const o=await wA(t.localStore,e);gw(t,s,null),mw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ja(t,o)}catch(o){await Ro(o)}}async function pC(n,e,t){const s=Te(n);try{const o=await function(f,d){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,d).next(T=>(Be(T!==null),w=T.keys(),g.mutationQueue.removeMutationBatch(_,T))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);gw(s,e,t),mw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ja(s,o)}catch(o){await Ro(o)}}function mw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function gw(n,e,t){const s=Te(n);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function yd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(s=>{n.Ka.containsKey(s)||yw(n,s)})}function yw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(rp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),fp(n))}function s_(n,e,t){for(const s of t)s instanceof fw?(n.Ka.addReference(s.key,e),mC(n,s)):s instanceof hw?(ae(cp,"Document no longer in limbo: "+s.key),n.Ka.removeReference(s.key,e),n.Ka.containsKey(s.key)||yw(n,s.key)):_e()}function mC(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(ae(cp,"New document in limbo: "+t),n.Qa.add(s),fp(n))}function fp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(Ze.fromString(e)),s=n.za.next();n.Ua.set(s,new iC(t)),n.$a=n.$a.insert(t,s),sw(n.remoteStore,new li(lr(xv(t.path)),s,"TargetPurposeLimboResolution",Sc.ae))}}async function Ja(n,e,t){const s=Te(n),o=[],l=[],f=[];s.ka.isEmpty()||(s.ka.forEach((d,g)=>{f.push(s.Ha(g,e,t).then(_=>{var w;if((_||t)&&s.isPrimaryClient){const T=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){o.push(_);const T=tp.Yi(g.targetId,_);l.push(T)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,_){const w=Te(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(_,R=>W.forEach(R.Hi,O=>w.persistence.referenceDelegate.addReference(T,R.targetId,O)).next(()=>W.forEach(R.Ji,O=>w.persistence.referenceDelegate.removeReference(T,R.targetId,O)))))}catch(T){if(!ko(T))throw T;ae(np,"Failed to update sequence numbers: "+T)}for(const T of _){const R=T.targetId;if(!T.fromCache){const O=w.Ts.get(R),B=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(B);w.Ts=w.Ts.insert(R,$)}}}(s.localStore,l))}async function gC(n,e){const t=Te(n);if(!t.currentUser.isEqual(e)){ae(cp,"User change. New user:",e.toKey());const s=await tw(t.localStore,e);t.currentUser=e,function(l,f){l.Ga.forEach(d=>{d.forEach(g=>{g.reject(new pe(X.CANCELLED,f))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ja(t,s.Rs)}}function yC(n,e){const t=Te(n),s=t.Ua.get(e);if(s&&s.Ba)return De().add(s.key);{let o=De();const l=t.qa.get(e);if(!l)return o;for(const f of l){const d=t.ka.get(f);o=o.unionWith(d.view.Sa)}return o}}function _w(n){const e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.La.p_=ZA.bind(null,e.eventManager),e.La.Ja=eC.bind(null,e.eventManager),e}function _C(n){const e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vA(this.persistence,new gA,e.initialUser,this.serializer)}Xa(e){return new ew(ep.ri,this.serializer)}Za(e){return new CA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class vC extends uc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Be(this.persistence.referenceDelegate instanceof oc);const s=this.persistence.referenceDelegate.garbageCollector;return new tA(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new ew(s=>oc.ri(s,t),this.serializer)}}class _d{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>i_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await QA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XA}()}createDatastore(e){const t=Nc(e.databaseInfo.databaseId),s=function(l){return new DA(l)}(e.databaseInfo);return function(l,f,d,g){return new bA(l,f,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,f,d){return new LA(s,o,l,f,d)}(this.localStore,this.datastore,e.asyncQueue,t=>i_(this.syncEngine,t,0),function(){return Jy.D()?new Jy:new PA}())}createSyncEngine(e,t){return function(o,l,f,d,g,_,w){const T=new sC(o,l,f,d,g,_);return w&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Te(o);ae(us,"RemoteStore shutting down."),l.W_.add(5),await Ya(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_d.provider={build:()=>new _d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class EC{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async f=>{ae(Ti,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(Ti,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=up(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zh(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Ti,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function o_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TC(n);ae(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>e_(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>e_(e.remoteStore,o)),n._onlineComponents=e}async function TC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Ti,"Using user provided OfflineComponentProvider");try{await zh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;mo("Error using user provided cache. Falling back to memory cache: "+t),await zh(n,new uc)}}else ae(Ti,"Using default OfflineComponentProvider"),await zh(n,new vC(void 0));return n._offlineComponents}async function vw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Ti,"Using user provided OnlineComponentProvider"),await o_(n,n._uninitializedComponentsProvider._online)):(ae(Ti,"Using default OnlineComponentProvider"),await o_(n,new _d))),n._onlineComponents}function SC(n){return vw(n).then(e=>e.syncEngine)}async function IC(n){const e=await vw(n),t=e.eventManager;return t.onListen=oC.bind(null,e.syncEngine),t.onUnlisten=lC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cC.bind(null,e.syncEngine),t}function AC(n,e,t={}){const s=new di;return n.asyncQueue.enqueueAndForget(async()=>function(l,f,d,g,_){const w=new wC({next:R=>{w.su(),f.enqueueAndForget(()=>JA(l,T)),R.fromCache&&g.source==="server"?_.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new tC(d,w,{includeMetadataChanges:!0,Ta:!0});return YA(l,T)}(await IC(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CC(n,e,t,s){if(e===!0&&s===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u_(n){if(!ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function l_(n){if(ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",c_=!0;class f_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=c_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:c_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZI)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ww((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xS;switch(s.type){case"firstParty":return new OS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=a_.get(t);s&&(ae("ComponentProvider","Removing Datastore"),a_.delete(t),s.terminate())}(this),Promise.resolve()}}function PC(n,e,t,s={}){var o;const l=(n=ls(n,bc))._getSettings(),f=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Tw&&l.host!==d&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!Gl(g,f)&&(n._setSettings(g),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Bt.MOCK_USER;else{_=l1(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Bt(T)}n._authCredentials=new DS(new cv(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class xn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class pi extends Mc{constructor(e,t,s){super(e,t,xv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ye(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function Sw(n,e,...t){if(n=gi(n),Ew("collection","path",e),n instanceof bc){const s=Ze.fromString(e,...t);return l_(s),new pi(n,null,s)}{if(!(n instanceof xn||n instanceof pi))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ze.fromString(e,...t));return l_(s),new pi(n.firestore,null,s)}}function dp(n,e,...t){if(n=gi(n),arguments.length===1&&(e=hv.newId()),Ew("doc","path",e),n instanceof bc){const s=Ze.fromString(e,...t);return u_(s),new xn(n,null,new ye(s))}{if(!(n instanceof xn||n instanceof pi))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ze.fromString(e,...t));return u_(s),new xn(n.firestore,n instanceof pi?n.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class d_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rw(this,"async_queue_retry"),this.Su=()=>{const s=jh();s&&ae(h_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=jh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=jh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new di;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ko(e))throw e;ae(h_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let d=f.message||"";return f.stack&&(d=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),d}(s);throw br("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ap.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Za extends bc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new d_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function RC(n,e){const t=typeof n=="object"?n:vS(),s=typeof n=="string"?n:Zl,o=pS(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=a1("firestore");l&&PC(o,...l)}return o}function Iw(n){if(n._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kC(n),n._firestoreClient}function kC(n){var e,t,s;const o=n._freezeSettings(),l=function(d,g,_,w){return new GS(d,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,ww(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new EC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Mt.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class DC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ga(e,this.data,t,this.fieldTransforms)}}class Aw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class yp{constructor(e,t,s,o,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Cw(this.Lu)&&xC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Nc(e)}ju(e,t,s,o=!1){return new yp({Lu:e,methodName:t,zu:s,path:bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pw(n){const e=n._freezeSettings(),t=Nc(n._databaseId);return new NC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VC(n,e,t,s,o,l={}){const f=n.ju(l.merge||l.mergeFields?2:0,e,t,o);_p("Data must be an object, but it was:",f,s);const d=Rw(s,f);let g,_;if(l.merge)g=new yn(f.fieldMask),_=f.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const R=vd(e,T,t);if(!f.contains(R))throw new pe(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);xw(w,R)||w.push(R)}g=new yn(w),_=f.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,_=f.fieldTransforms;return new DC(new an(d),g,_)}class Fc extends pp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fc}}function OC(n,e,t,s){const o=n.ju(1,e,t);_p("Data must be an object, but it was:",o,s);const l=[],f=an.empty();Si(s,(g,_)=>{const w=vp(e,g,t);_=gi(_);const T=o.Uu(w);if(_ instanceof Fc)l.push(w);else{const R=jc(_,T);R!=null&&(l.push(w),f.set(w,R))}});const d=new yn(l);return new Aw(f,d,o.fieldTransforms)}function bC(n,e,t,s,o,l){const f=n.ju(1,e,t),d=[vd(e,s,t)],g=[o];if(l.length%2!=0)throw new pe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(vd(e,l[R])),g.push(l[R+1]);const _=[],w=an.empty();for(let R=d.length-1;R>=0;--R)if(!xw(_,d[R])){const O=d[R];let B=g[R];B=gi(B);const $=f.Uu(O);if(B instanceof Fc)_.push(O);else{const z=jc(B,$);z!=null&&(_.push(O),w.set(O,z))}}const T=new yn(_);return new Aw(w,T,f.fieldTransforms)}function jc(n,e){if(kw(n=gi(n)))return _p("Unsupported field value:",e,n),Rw(n,e);if(n instanceof pp)return function(s,o){if(!Cw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let f=0;for(const d of s){let g=jc(d,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),f++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=gi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _I(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=vt.fromDate(s);return{timestampValue:sc(o.serializer,l)}}if(s instanceof vt){const l=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(o.serializer,l)}}if(s instanceof mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:qv(o.serializer,s._byteString)};if(s instanceof xn){const l=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(l))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gp)return function(f,d){return{mapValue:{fields:{[wv]:{stringValue:Tv},[ec]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw d.Wu("VectorValues must only contain numeric values.");return Qd(d.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hp(s)}`)}(n,e)}function Rw(n,e){const t={};return pv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(s,o)=>{const l=jc(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function kw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof mp||n instanceof Eo||n instanceof xn||n instanceof pp||n instanceof gp)}function _p(n,e,t){if(!kw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=hp(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function vd(n,e,t){if((e=gi(e))instanceof Lc)return e._internalPath;if(typeof e=="string")return vp(n,e);throw lc("Field path arguments must be of type string or ",n,!1,void 0,t)}const MC=new RegExp("[~\\*/\\[\\]]");function vp(n,e,t){if(e.search(MC)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lc(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lc(n,e,t,s,o){const l=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||f)&&(g+=" (found",l&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new pe(X.INVALID_ARGUMENT,d+n+g)}function xw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LC extends Dw{data(){return super.data()}}function Nw(n,e){return typeof e=="string"?vp(n,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Si(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ut(f.doubleValue));return new gp(l)}convertGeoPoint(e){return new mp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ac(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const t=_i(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Be(Jv(s));const o=new Ha(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return o.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UC extends Dw{constructor(e,t,s,o,l,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Nw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ol extends UC{data(e={}){return super.data(e)}}class BC{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ol(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const g=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return d.type!==0&&(_=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),w=f.indexOf(d.doc.key)),{type:$C(d.type),doc:g,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $C(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class HC extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function WC(n){n=ls(n,Mc);const e=ls(n.firestore,Za),t=Iw(e),s=new HC(e);return FC(n._query),AC(t,n._query).then(o=>new BC(e,s,n,o))}function qC(n,e,t,...s){n=ls(n,xn);const o=ls(n.firestore,Za),l=Pw(o);let f;return f=typeof(e=gi(e))=="string"||e instanceof Lc?bC(l,"updateDoc",n._key,e,t,s):OC(l,"updateDoc",n._key,e),wp(o,[f.toMutation(n._key,Qn.exists(!0))])}function KC(n){return wp(ls(n.firestore,Za),[new Gd(n._key,Qn.none())])}function QC(n,e){const t=ls(n.firestore,Za),s=dp(n),o=zC(n.converter,e);return wp(t,[VC(Pw(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function wp(n,e){return function(s,o){const l=new di;return s.asyncQueue.enqueueAndForget(async()=>fC(await SC(s),o,l)),l.promise}(Iw(n),e)}(function(e,t=!0){(function(o){Po=o})(_S),Yl(new za("firestore",(s,{instanceIdentifier:o,options:l})=>{const f=s.getProvider("app").getImmediate(),d=new Za(new NS(s.getProvider("auth-internal")),new bS(f,s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(_.options.projectId,w)}(f,o),f);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),fo(vy,wy,e),fo(vy,wy,"esm2017")})();var GC="firebase",XC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(GC,XC,"app");const YC={apiKey:"AIzaSyBe83NFb02OiIoBwp5HnG6JdFcVY35hDrE",authDomain:"react-todolist-e8e40.firebaseapp.com",projectId:"react-todolist-e8e40",storageBucket:"react-todolist-e8e40.firebasestorage.app",messagingSenderId:"877406015354",appId:"1:877406015354:web:d1831b31b7254d591f50c3"},JC=tv(YC),zc=RC(JC),ZC="light",Vw=q_({name:"theme",initialState:ZC,reducers:{toggleTheme:n=>n==="light"?"dark":"light"}}),{toggleTheme:eP}=Vw.actions,tP=Vw.reducer,nP=[],Ow=q_({name:"todos",initialState:nP,reducers:{setTodos:(n,e)=>e.payload,addTodo:(n,e)=>{n.push(e.payload)},deleteTodo:(n,e)=>n.filter(t=>t.id!==e.payload),toggleTodo:(n,e)=>n.map(t=>t.id===e.payload?{...t,completed:!t.completed}:t),editTodo:(n,e)=>n.map(t=>t.id===e.payload.id?{...t,title:e.payload.title}:t),clearCompletedTodo:n=>n.filter(e=>!e.completed)}}),rP=Ow.reducer,{setTodos:iP,addTodo:sP,deleteTodo:oP,toggleTodo:aP,editTodo:uP,clearCompletedTodo:lP}=Ow.actions,cP=()=>async n=>{const t=(await WC(Sw(zc,"todos"))).docs.map(s=>({id:s.id,...s.data()}));n(iP(t))},fP=n=>async e=>{const t=await QC(Sw(zc,"todos"),n);e(sP({...n,id:t.id}))},hP=n=>async e=>{await KC(dp(zc,"todos",n)),e(oP(n))},dP=(n,e)=>async t=>{await qC(dp(zc,"todos",n),{completed:!e}),t(aP(n))},pP=b_({todos:rP,theme:tP}),mP={key:"root",storage:XT,whitelist:["theme"]},gP=jT(mP,pP),bw=dT({reducer:gP,middleware:n=>n({serializableCheck:{ignoredActions:[bd,Tc,Md,Ld,Fd,jd]}})}),yP=WT(bw),Uc=z0,Ep=$0;function bl(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bl=function(t){return typeof t}:bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(n)}function _P(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vP(n,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function wP(n,e,t){return vP(n.prototype,e),n}function EP(n,e){return e&&(bl(e)==="object"||typeof e=="function")?e:Ml(n)}function wd(n){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wd(n)}function Ml(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TP(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Ed(n,e)}function Ed(n,e){return Ed=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Ed(n,e)}function Ll(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Mw=function(n){TP(e,n);function e(){var t,s;_P(this,e);for(var o=arguments.length,l=new Array(o),f=0;f<o;f++)l[f]=arguments[f];return s=EP(this,(t=wd(e)).call.apply(t,[this].concat(l))),Ll(Ml(s),"state",{bootstrapped:!1}),Ll(Ml(s),"_unsubscribe",void 0),Ll(Ml(s),"handlePersistorState",function(){var d=s.props.persistor,g=d.getState(),_=g.bootstrapped;_&&(s.props.onBeforeLift?Promise.resolve(s.props.onBeforeLift()).finally(function(){return s.setState({bootstrapped:!0})}):s.setState({bootstrapped:!0}),s._unsubscribe&&s._unsubscribe())}),s}return wP(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(Ue.PureComponent);Ll(Mw,"defaultProps",{children:null,loading:null});var Ht=function(){return Ht=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ht.apply(this,arguments)};function cc(n,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return n.concat(l||Array.prototype.slice.call(e))}var Ge="-ms-",La="-moz-",ze="-webkit-",Lw="comm",Bc="rule",Tp="decl",SP="@import",Fw="@keyframes",IP="@layer",jw=Math.abs,Sp=String.fromCharCode,Td=Object.assign;function AP(n,e){return Rt(n,0)^45?(((e<<2^Rt(n,0))<<2^Rt(n,1))<<2^Rt(n,2))<<2^Rt(n,3):0}function zw(n){return n.trim()}function Dr(n,e){return(n=e.exec(n))?n[0]:n}function Ce(n,e,t){return n.replace(e,t)}function Fl(n,e,t){return n.indexOf(e,t)}function Rt(n,e){return n.charCodeAt(e)|0}function To(n,e,t){return n.slice(e,t)}function ur(n){return n.length}function Uw(n){return n.length}function Na(n,e){return e.push(n),n}function CP(n,e){return n.map(e).join("")}function p_(n,e){return n.filter(function(t){return!Dr(t,e)})}var $c=1,So=1,Bw=0,Dn=0,ht=0,Do="";function Hc(n,e,t,s,o,l,f,d){return{value:n,root:e,parent:t,type:s,props:o,children:l,line:$c,column:So,length:f,return:"",siblings:d}}function ui(n,e){return Td(Hc("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function so(n){for(;n.root;)n=ui(n.root,{children:[n]});Na(n,n.siblings)}function PP(){return ht}function RP(){return ht=Dn>0?Rt(Do,--Dn):0,So--,ht===10&&(So=1,$c--),ht}function Gn(){return ht=Dn<Bw?Rt(Do,Dn++):0,So++,ht===10&&(So=1,$c++),ht}function rs(){return Rt(Do,Dn)}function jl(){return Dn}function Wc(n,e){return To(Do,n,e)}function Sd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kP(n){return $c=So=1,Bw=ur(Do=n),Dn=0,[]}function xP(n){return Do="",n}function Uh(n){return zw(Wc(Dn-1,Id(n===91?n+2:n===40?n+1:n)))}function DP(n){for(;(ht=rs())&&ht<33;)Gn();return Sd(n)>2||Sd(ht)>3?"":" "}function NP(n,e){for(;--e&&Gn()&&!(ht<48||ht>102||ht>57&&ht<65||ht>70&&ht<97););return Wc(n,jl()+(e<6&&rs()==32&&Gn()==32))}function Id(n){for(;Gn();)switch(ht){case n:return Dn;case 34:case 39:n!==34&&n!==39&&Id(ht);break;case 40:n===41&&Id(n);break;case 92:Gn();break}return Dn}function VP(n,e){for(;Gn()&&n+ht!==57;)if(n+ht===84&&rs()===47)break;return"/*"+Wc(e,Dn-1)+"*"+Sp(n===47?n:Gn())}function OP(n){for(;!Sd(rs());)Gn();return Wc(n,Dn)}function bP(n){return xP(zl("",null,null,null,[""],n=kP(n),0,[0],n))}function zl(n,e,t,s,o,l,f,d,g){for(var _=0,w=0,T=f,R=0,O=0,B=0,$=1,z=1,ee=1,te=0,Q="",q=o,ie=l,Y=s,A=Q;z;)switch(B=te,te=Gn()){case 40:if(B!=108&&Rt(A,T-1)==58){Fl(A+=Ce(Uh(te),"&","&\f"),"&\f",jw(_?d[_-1]:0))!=-1&&(ee=-1);break}case 34:case 39:case 91:A+=Uh(te);break;case 9:case 10:case 13:case 32:A+=DP(B);break;case 92:A+=NP(jl()-1,7);continue;case 47:switch(rs()){case 42:case 47:Na(MP(VP(Gn(),jl()),e,t,g),g);break;default:A+="/"}break;case 123*$:d[_++]=ur(A)*ee;case 125*$:case 59:case 0:switch(te){case 0:case 125:z=0;case 59+w:ee==-1&&(A=Ce(A,/\f/g,"")),O>0&&ur(A)-T&&Na(O>32?g_(A+";",s,t,T-1,g):g_(Ce(A," ","")+";",s,t,T-2,g),g);break;case 59:A+=";";default:if(Na(Y=m_(A,e,t,_,w,o,d,Q,q=[],ie=[],T,l),l),te===123)if(w===0)zl(A,e,Y,Y,q,l,T,d,ie);else switch(R===99&&Rt(A,3)===110?100:R){case 100:case 108:case 109:case 115:zl(n,Y,Y,s&&Na(m_(n,Y,Y,0,0,o,d,Q,o,q=[],T,ie),ie),o,ie,T,d,s?q:ie);break;default:zl(A,Y,Y,Y,[""],ie,0,d,ie)}}_=w=O=0,$=ee=1,Q=A="",T=f;break;case 58:T=1+ur(A),O=B;default:if($<1){if(te==123)--$;else if(te==125&&$++==0&&RP()==125)continue}switch(A+=Sp(te),te*$){case 38:ee=w>0?1:(A+="\f",-1);break;case 44:d[_++]=(ur(A)-1)*ee,ee=1;break;case 64:rs()===45&&(A+=Uh(Gn())),R=rs(),w=T=ur(Q=A+=OP(jl())),te++;break;case 45:B===45&&ur(A)==2&&($=0)}}return l}function m_(n,e,t,s,o,l,f,d,g,_,w,T){for(var R=o-1,O=o===0?l:[""],B=Uw(O),$=0,z=0,ee=0;$<s;++$)for(var te=0,Q=To(n,R+1,R=jw(z=f[$])),q=n;te<B;++te)(q=zw(z>0?O[te]+" "+Q:Ce(Q,/&\f/g,O[te])))&&(g[ee++]=q);return Hc(n,e,t,o===0?Bc:d,g,_,w,T)}function MP(n,e,t,s){return Hc(n,e,t,Lw,Sp(PP()),To(n,2,-2),0,s)}function g_(n,e,t,s,o){return Hc(n,e,t,Tp,To(n,0,s),To(n,s+1,-1),s,o)}function $w(n,e,t){switch(AP(n,e)){case 5103:return ze+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ze+n+n;case 4789:return La+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ze+n+La+n+Ge+n+n;case 5936:switch(Rt(n,e+11)){case 114:return ze+n+Ge+Ce(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ze+n+Ge+Ce(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ze+n+Ge+Ce(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return ze+n+Ge+n+n;case 6165:return ze+n+Ge+"flex-"+n+n;case 5187:return ze+n+Ce(n,/(\w+).+(:[^]+)/,ze+"box-$1$2"+Ge+"flex-$1$2")+n;case 5443:return ze+n+Ge+"flex-item-"+Ce(n,/flex-|-self/g,"")+(Dr(n,/flex-|baseline/)?"":Ge+"grid-row-"+Ce(n,/flex-|-self/g,""))+n;case 4675:return ze+n+Ge+"flex-line-pack"+Ce(n,/align-content|flex-|-self/g,"")+n;case 5548:return ze+n+Ge+Ce(n,"shrink","negative")+n;case 5292:return ze+n+Ge+Ce(n,"basis","preferred-size")+n;case 6060:return ze+"box-"+Ce(n,"-grow","")+ze+n+Ge+Ce(n,"grow","positive")+n;case 4554:return ze+Ce(n,/([^-])(transform)/g,"$1"+ze+"$2")+n;case 6187:return Ce(Ce(Ce(n,/(zoom-|grab)/,ze+"$1"),/(image-set)/,ze+"$1"),n,"")+n;case 5495:case 3959:return Ce(n,/(image-set\([^]*)/,ze+"$1$`$1");case 4968:return Ce(Ce(n,/(.+:)(flex-)?(.*)/,ze+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ze+n+n;case 4200:if(!Dr(n,/flex-|baseline/))return Ge+"grid-column-align"+To(n,e)+n;break;case 2592:case 3360:return Ge+Ce(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(s,o){return e=o,Dr(s.props,/grid-\w+-end/)})?~Fl(n+(t=t[e].value),"span",0)?n:Ge+Ce(n,"-start","")+n+Ge+"grid-row-span:"+(~Fl(t,"span",0)?Dr(t,/\d+/):+Dr(t,/\d+/)-+Dr(n,/\d+/))+";":Ge+Ce(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(s){return Dr(s.props,/grid-\w+-start/)})?n:Ge+Ce(Ce(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Ce(n,/(.+)-inline(.+)/,ze+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ur(n)-1-e>6)switch(Rt(n,e+1)){case 109:if(Rt(n,e+4)!==45)break;case 102:return Ce(n,/(.+:)(.+)-([^]+)/,"$1"+ze+"$2-$3$1"+La+(Rt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Fl(n,"stretch",0)?$w(Ce(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Ce(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,l,f,d,g,_){return Ge+o+":"+l+_+(f?Ge+o+"-span:"+(d?g:+g-+l)+_:"")+n});case 4949:if(Rt(n,e+6)===121)return Ce(n,":",":"+ze)+n;break;case 6444:switch(Rt(n,Rt(n,14)===45?18:11)){case 120:return Ce(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ze+(Rt(n,14)===45?"inline-":"")+"box$3$1"+ze+"$2$3$1"+Ge+"$2box$3")+n;case 100:return Ce(n,":",":"+Ge)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ce(n,"scroll-","scroll-snap-")+n}return n}function fc(n,e){for(var t="",s=0;s<n.length;s++)t+=e(n[s],s,n,e)||"";return t}function LP(n,e,t,s){switch(n.type){case IP:if(n.children.length)break;case SP:case Tp:return n.return=n.return||n.value;case Lw:return"";case Fw:return n.return=n.value+"{"+fc(n.children,s)+"}";case Bc:if(!ur(n.value=n.props.join(",")))return""}return ur(t=fc(n.children,s))?n.return=n.value+"{"+t+"}":""}function FP(n){var e=Uw(n);return function(t,s,o,l){for(var f="",d=0;d<e;d++)f+=n[d](t,s,o,l)||"";return f}}function jP(n){return function(e){e.root||(e=e.return)&&n(e)}}function zP(n,e,t,s){if(n.length>-1&&!n.return)switch(n.type){case Tp:n.return=$w(n.value,n.length,t);return;case Fw:return fc([ui(n,{value:Ce(n.value,"@","@"+ze)})],s);case Bc:if(n.length)return CP(t=n.props,function(o){switch(Dr(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":so(ui(n,{props:[Ce(o,/:(read-\w+)/,":"+La+"$1")]})),so(ui(n,{props:[o]})),Td(n,{props:p_(t,s)});break;case"::placeholder":so(ui(n,{props:[Ce(o,/:(plac\w+)/,":"+ze+"input-$1")]})),so(ui(n,{props:[Ce(o,/:(plac\w+)/,":"+La+"$1")]})),so(ui(n,{props:[Ce(o,/:(plac\w+)/,Ge+"input-$1")]})),so(ui(n,{props:[o]})),Td(n,{props:p_(t,s)});break}return""})}}var UP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gn={},Io=typeof process<"u"&&gn!==void 0&&(gn.REACT_APP_SC_ATTR||gn.SC_ATTR)||"data-styled",Hw="active",Ww="data-styled-version",qc="6.1.14",Ip=`/*!sc*/
`,hc=typeof window<"u"&&"HTMLElement"in window,BP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&gn!==void 0&&gn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&gn.REACT_APP_SC_DISABLE_SPEEDY!==""?gn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&gn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&gn!==void 0&&gn.SC_DISABLE_SPEEDY!==void 0&&gn.SC_DISABLE_SPEEDY!==""&&gn.SC_DISABLE_SPEEDY!=="false"&&gn.SC_DISABLE_SPEEDY),Kc=Object.freeze([]),Ao=Object.freeze({});function $P(n,e,t){return t===void 0&&(t=Ao),n.theme!==t.theme&&n.theme||e||t.theme}var qw=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),HP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WP=/(^-|-$)/g;function y_(n){return n.replace(HP,"-").replace(WP,"")}var qP=/(a)(d)/gi,Cl=52,__=function(n){return String.fromCharCode(n+(n>25?39:97))};function Ad(n){var e,t="";for(e=Math.abs(n);e>Cl;e=e/Cl|0)t=__(e%Cl)+t;return(__(e%Cl)+t).replace(qP,"$1-$2")}var Bh,Kw=5381,co=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Qw=function(n){return co(Kw,n)};function KP(n){return Ad(Qw(n)>>>0)}function QP(n){return n.displayName||n.name||"Component"}function $h(n){return typeof n=="string"&&!0}var Gw=typeof Symbol=="function"&&Symbol.for,Xw=Gw?Symbol.for("react.memo"):60115,GP=Gw?Symbol.for("react.forward_ref"):60112,XP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JP=((Bh={})[GP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bh[Xw]=Yw,Bh);function v_(n){return("type"in(e=n)&&e.type.$$typeof)===Xw?Yw:"$$typeof"in n?JP[n.$$typeof]:XP;var e}var ZP=Object.defineProperty,eR=Object.getOwnPropertyNames,w_=Object.getOwnPropertySymbols,tR=Object.getOwnPropertyDescriptor,nR=Object.getPrototypeOf,E_=Object.prototype;function Jw(n,e,t){if(typeof e!="string"){if(E_){var s=nR(e);s&&s!==E_&&Jw(n,s,t)}var o=eR(e);w_&&(o=o.concat(w_(e)));for(var l=v_(n),f=v_(e),d=0;d<o.length;++d){var g=o[d];if(!(g in YP||t&&t[g]||f&&g in f||l&&g in l)){var _=tR(e,g);try{ZP(n,g,_)}catch{}}}}return n}function cs(n){return typeof n=="function"}function Ap(n){return typeof n=="object"&&"styledComponentId"in n}function ns(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function T_(n,e){if(n.length===0)return"";for(var t=n[0],s=1;s<n.length;s++)t+=n[s];return t}function Qa(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Cd(n,e,t){if(t===void 0&&(t=!1),!t&&!Qa(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)n[s]=Cd(n[s],e[s]);else if(Qa(e))for(var s in e)n[s]=Cd(n[s],e[s]);return n}function Cp(n,e){Object.defineProperty(n,"toString",{value:e})}function fs(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var rR=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,l=o;e>=l;)if((l<<=1)<0)throw fs(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var f=o;f<l;f++)this.groupSizes[f]=0}for(var d=this.indexOfGroup(e+1),g=(f=0,t.length);f<g;f++)this.tag.insertRule(d,t[f])&&(this.groupSizes[e]++,d++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),o=s+t;this.groupSizes[e]=0;for(var l=s;l<o;l++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),l=o+s,f=o;f<l;f++)t+="".concat(this.tag.getRule(f)).concat(Ip);return t},n}(),Ul=new Map,dc=new Map,Bl=1,Pl=function(n){if(Ul.has(n))return Ul.get(n);for(;dc.has(Bl);)Bl++;var e=Bl++;return Ul.set(n,e),dc.set(e,n),e},iR=function(n,e){Bl=e+1,Ul.set(n,e),dc.set(e,n)},sR="style[".concat(Io,"][").concat(Ww,'="').concat(qc,'"]'),oR=new RegExp("^".concat(Io,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),aR=function(n,e,t){for(var s,o=t.split(","),l=0,f=o.length;l<f;l++)(s=o[l])&&n.registerName(e,s)},uR=function(n,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(Ip),o=[],l=0,f=s.length;l<f;l++){var d=s[l].trim();if(d){var g=d.match(oR);if(g){var _=0|parseInt(g[1],10),w=g[2];_!==0&&(iR(w,_),aR(n,w,g[3]),n.getTag().insertRules(_,o)),o.length=0}else o.push(d)}}},S_=function(n){for(var e=document.querySelectorAll(sR),t=0,s=e.length;t<s;t++){var o=e[t];o&&o.getAttribute(Io)!==Hw&&(uR(n,o),o.parentNode&&o.parentNode.removeChild(o))}};function lR(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Zw=function(n){var e=document.head,t=n||e,s=document.createElement("style"),o=function(d){var g=Array.from(d.querySelectorAll("style[".concat(Io,"]")));return g[g.length-1]}(t),l=o!==void 0?o.nextSibling:null;s.setAttribute(Io,Hw),s.setAttribute(Ww,qc);var f=lR();return f&&s.setAttribute("nonce",f),t.insertBefore(s,l),s},cR=function(){function n(e){this.element=Zw(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,o=0,l=s.length;o<l;o++){var f=s[o];if(f.ownerNode===t)return f}throw fs(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),fR=function(){function n(e){this.element=Zw(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),hR=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),I_=hc,dR={isServer:!hc,useCSSOMInjection:!BP},eE=function(){function n(e,t,s){e===void 0&&(e=Ao),t===void 0&&(t={});var o=this;this.options=Ht(Ht({},dR),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&hc&&I_&&(I_=!1,S_(this)),Cp(this,function(){return function(l){for(var f=l.getTag(),d=f.length,g="",_=function(T){var R=function(ee){return dc.get(ee)}(T);if(R===void 0)return"continue";var O=l.names.get(R),B=f.getGroup(T);if(O===void 0||!O.size||B.length===0)return"continue";var $="".concat(Io,".g").concat(T,'[id="').concat(R,'"]'),z="";O!==void 0&&O.forEach(function(ee){ee.length>0&&(z+="".concat(ee,","))}),g+="".concat(B).concat($,'{content:"').concat(z,'"}').concat(Ip)},w=0;w<d;w++)_(w);return g}(o)})}return n.registerId=function(e){return Pl(e)},n.prototype.rehydrate=function(){!this.server&&hc&&S_(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Ht(Ht({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,o=t.target;return t.isServer?new hR(o):s?new cR(o):new fR(o)}(this.options),new rR(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Pl(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},n.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(Pl(e),s)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Pl(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),pR=/&/g,mR=/^\s*\/\/.*$/gm;function tE(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=tE(t.children,e)),t})}function gR(n){var e,t,s,o=Ao,l=o.options,f=l===void 0?Ao:l,d=o.plugins,g=d===void 0?Kc:d,_=function(R,O,B){return B.startsWith(t)&&B.endsWith(t)&&B.replaceAll(t,"").length>0?".".concat(e):R},w=g.slice();w.push(function(R){R.type===Bc&&R.value.includes("&")&&(R.props[0]=R.props[0].replace(pR,t).replace(s,_))}),f.prefix&&w.push(zP),w.push(LP);var T=function(R,O,B,$){O===void 0&&(O=""),B===void 0&&(B=""),$===void 0&&($="&"),e=$,t=O,s=new RegExp("\\".concat(t,"\\b"),"g");var z=R.replace(mR,""),ee=bP(B||O?"".concat(B," ").concat(O," { ").concat(z," }"):z);f.namespace&&(ee=tE(ee,f.namespace));var te=[];return fc(ee,FP(w.concat(jP(function(Q){return te.push(Q)})))),te};return T.hash=g.length?g.reduce(function(R,O){return O.name||fs(15),co(R,O.name)},Kw).toString():"",T}var yR=new eE,Pd=gR(),nE=un.createContext({shouldForwardProp:void 0,styleSheet:yR,stylis:Pd});nE.Consumer;un.createContext(void 0);function A_(){return Ue.useContext(nE)}var _R=function(){function n(e,t){var s=this;this.inject=function(o,l){l===void 0&&(l=Pd);var f=s.name+l.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,l(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Cp(this,function(){throw fs(12,String(s.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Pd),this.name+e.hash},n}(),vR=function(n){return n>="A"&&n<="Z"};function C_(n){for(var e="",t=0;t<n.length;t++){var s=n[t];if(t===1&&s==="-"&&n[0]==="-")return n;vR(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var rE=function(n){return n==null||n===!1||n===""},iE=function(n){var e,t,s=[];for(var o in n){var l=n[o];n.hasOwnProperty(o)&&!rE(l)&&(Array.isArray(l)&&l.isCss||cs(l)?s.push("".concat(C_(o),":"),l,";"):Qa(l)?s.push.apply(s,cc(cc(["".concat(o," {")],iE(l),!1),["}"],!1)):s.push("".concat(C_(o),": ").concat((e=o,(t=l)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in UP||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function is(n,e,t,s){if(rE(n))return[];if(Ap(n))return[".".concat(n.styledComponentId)];if(cs(n)){if(!cs(l=n)||l.prototype&&l.prototype.isReactComponent||!e)return[n];var o=n(e);return is(o,e,t,s)}var l;return n instanceof _R?t?(n.inject(t,s),[n.getName(s)]):[n]:Qa(n)?iE(n):Array.isArray(n)?Array.prototype.concat.apply(Kc,n.map(function(f){return is(f,e,t,s)})):[n.toString()]}function wR(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(cs(t)&&!Ap(t))return!1}return!0}var ER=Qw(qc),TR=function(){function n(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&wR(e),this.componentId=t,this.baseHash=co(ER,t),this.baseStyle=s,eE.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=ns(o,this.staticRulesId);else{var l=T_(is(this.rules,e,t,s)),f=Ad(co(this.baseHash,l)>>>0);if(!t.hasNameForId(this.componentId,f)){var d=s(l,".".concat(f),void 0,this.componentId);t.insertRules(this.componentId,f,d)}o=ns(o,f),this.staticRulesId=f}else{for(var g=co(this.baseHash,s.hash),_="",w=0;w<this.rules.length;w++){var T=this.rules[w];if(typeof T=="string")_+=T;else if(T){var R=T_(is(T,e,t,s));g=co(g,R+w),_+=R}}if(_){var O=Ad(g>>>0);t.hasNameForId(this.componentId,O)||t.insertRules(this.componentId,O,s(_,".".concat(O),void 0,this.componentId)),o=ns(o,O)}}return o},n}(),pc=un.createContext(void 0);pc.Consumer;function SR(n){var e=un.useContext(pc),t=Ue.useMemo(function(){return function(s,o){if(!s)throw fs(14);if(cs(s)){var l=s(o);return l}if(Array.isArray(s)||typeof s!="object")throw fs(8);return o?Ht(Ht({},o),s):s}(n.theme,e)},[n.theme,e]);return n.children?un.createElement(pc.Provider,{value:t},n.children):null}var Hh={};function IR(n,e,t){var s=Ap(n),o=n,l=!$h(n),f=e.attrs,d=f===void 0?Kc:f,g=e.componentId,_=g===void 0?function(q,ie){var Y=typeof q!="string"?"sc":y_(q);Hh[Y]=(Hh[Y]||0)+1;var A="".concat(Y,"-").concat(KP(qc+Y+Hh[Y]));return ie?"".concat(ie,"-").concat(A):A}(e.displayName,e.parentComponentId):g,w=e.displayName,T=w===void 0?function(q){return $h(q)?"styled.".concat(q):"Styled(".concat(QP(q),")")}(n):w,R=e.displayName&&e.componentId?"".concat(y_(e.displayName),"-").concat(e.componentId):e.componentId||_,O=s&&o.attrs?o.attrs.concat(d).filter(Boolean):d,B=e.shouldForwardProp;if(s&&o.shouldForwardProp){var $=o.shouldForwardProp;if(e.shouldForwardProp){var z=e.shouldForwardProp;B=function(q,ie){return $(q,ie)&&z(q,ie)}}else B=$}var ee=new TR(t,R,s?o.componentStyle:void 0);function te(q,ie){return function(Y,A,S){var C=Y.attrs,x=Y.componentStyle,N=Y.defaultProps,b=Y.foldedComponentIds,P=Y.styledComponentId,et=Y.target,Et=un.useContext(pc),Tt=A_(),Fe=Y.shouldForwardProp||Tt.shouldForwardProp,re=$P(A,Et,N)||Ao,ce=function(Ie,Ae,xe){for(var ke,Ve=Ht(Ht({},Ae),{className:void 0,theme:xe}),it=0;it<Ie.length;it+=1){var Xt=cs(ke=Ie[it])?ke(Ve):ke;for(var Wt in Xt)Ve[Wt]=Wt==="className"?ns(Ve[Wt],Xt[Wt]):Wt==="style"?Ht(Ht({},Ve[Wt]),Xt[Wt]):Xt[Wt]}return Ae.className&&(Ve.className=ns(Ve.className,Ae.className)),Ve}(C,A,re),se=ce.as||et,V={};for(var H in ce)ce[H]===void 0||H[0]==="$"||H==="as"||H==="theme"&&ce.theme===re||(H==="forwardedAs"?V.as=ce.forwardedAs:Fe&&!Fe(H,se)||(V[H]=ce[H]));var de=function(Ie,Ae){var xe=A_(),ke=Ie.generateAndInjectStyles(Ae,xe.styleSheet,xe.stylis);return ke}(x,ce),Se=ns(b,P);return de&&(Se+=" "+de),ce.className&&(Se+=" "+ce.className),V[$h(se)&&!qw.has(se)?"class":"className"]=Se,S&&(V.ref=S),Ue.createElement(se,V)}(Q,q,ie)}te.displayName=T;var Q=un.forwardRef(te);return Q.attrs=O,Q.componentStyle=ee,Q.displayName=T,Q.shouldForwardProp=B,Q.foldedComponentIds=s?ns(o.foldedComponentIds,o.styledComponentId):"",Q.styledComponentId=R,Q.target=s?o.target:n,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(q){this._foldedDefaultProps=s?function(ie){for(var Y=[],A=1;A<arguments.length;A++)Y[A-1]=arguments[A];for(var S=0,C=Y;S<C.length;S++)Cd(ie,C[S],!0);return ie}({},o.defaultProps,q):q}}),Cp(Q,function(){return".".concat(Q.styledComponentId)}),l&&Jw(Q,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function P_(n,e){for(var t=[n[0]],s=0,o=e.length;s<o;s+=1)t.push(e[s],n[s+1]);return t}var R_=function(n){return Object.assign(n,{isCss:!0})};function AR(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(cs(n)||Qa(n))return R_(is(P_(Kc,cc([n],e,!0))));var s=n;return e.length===0&&s.length===1&&typeof s[0]=="string"?is(s):R_(is(P_(s,e)))}function Rd(n,e,t){if(t===void 0&&(t=Ao),!e)throw fs(1,e);var s=function(o){for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];return n(e,t,AR.apply(void 0,cc([o],l,!1)))};return s.attrs=function(o){return Rd(n,e,Ht(Ht({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Rd(n,e,Ht(Ht({},t),o))},s}var sE=function(n){return Rd(IR,n)},Xe=sE;qw.forEach(function(n){Xe[n]=sE(n)});var oE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k_=un.createContext&&un.createContext(oE),CR=["attr","size","title"];function PR(n,e){if(n==null)return{};var t=RR(n,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function RR(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function mc(){return mc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},mc.apply(this,arguments)}function x_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function gc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(t),!0).forEach(function(s){kR(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x_(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function kR(n,e,t){return e=xR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xR(n){var e=DR(n,"string");return typeof e=="symbol"?e:e+""}function DR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aE(n){return n&&n.map((e,t)=>un.createElement(e.tag,gc({key:t},e.attr),aE(e.child)))}function eu(n){return e=>un.createElement(NR,mc({attr:gc({},n.attr)},e),aE(n.child))}function NR(n){var e=t=>{var{attr:s,size:o,title:l}=n,f=PR(n,CR),d=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),un.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,f,{className:g,style:gc(gc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&un.createElement("title",null,l),n.children)};return k_!==void 0?un.createElement(k_.Consumer,null,t=>e(t)):e(oE)}function VR(n){return eu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(n)}function OR(n){return eu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982"},child:[]},{tag:"path",attr:{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]}]})(n)}function bR(n){return eu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]}]})(n)}function MR(n){return eu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(n)}function LR(n){return eu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 6h18"},child:[]},{tag:"path",attr:{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},child:[]},{tag:"path",attr:{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",x2:"10",y1:"11",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",x2:"14",y1:"11",y2:"17"},child:[]}]})(n)}const FR=Xe.span`
	text-align: left;
	font-size: 16px;
	text-decoration: ${n=>n.$isChecked?"line-through":"none"};
	color: ${n=>n.$isChecked?"#a1a1a1":"#0f0f0f"};
	transition: color 0.3s ease, text-decoration 0.3s ease;
	cursor: pointer;
	&:hover {
		opacity: 0.8;
	}

	@media (max-width: 600px) {
		font-size: 14px;
	}
`,jR=Xe.input`
	width: 100%;
	padding: 8px;
	font-size: 16px;
	border: 2px solid #646cff;
	border-radius: 5px;
	outline: none;
	transition: border-color 0.3s ease;

	&:focus {
		border-color: #5c5cff;
		box-shadow: 0 0 5px rgba(92, 92, 255, 0.5);
	}
`,zR=({todo:n,editMode:e,setEditMode:t})=>{const[s,o]=Ue.useState(n.title),l=Uc(),f=()=>{t&&t(),l(uP({id:n.id,title:s}))},d=g=>{o(g.target.value)};return we.jsx(we.Fragment,{children:e===!1?we.jsx(we.Fragment,{children:we.jsx(FR,{$isChecked:n.completed,children:n.title})}):we.jsx(jR,{autoFocus:!0,name:"edit-input",type:"text",value:s,onBlur:f,onChange:d})})},UR=Xe.li`
	width: 100%;
	display: flex;
	justify-content: space-between;
	align-items: center;
	cursor: pointer;
	padding: 10px;
	background-color: #fff;
	border-radius: 5px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	transition: background-color 0.3s ease;

	&:hover {
		background-color: rgb(194, 194, 238);
	}
`,BR=Xe.label`
	display: grid;
	grid-template-columns: 25px 1fr;
	flex-grow: 1;
	align-items: center;
	gap: 10px;
	cursor: pointer;
`,$R=Xe.input`
	margin: 0;
	appearance: none;
	width: 25px;
	height: 25px;
	border: 2px solid #646cff;
	border-radius: 5px;
	cursor: pointer;
	transition: background-color 0.3s ease, border-color 0.3s ease;

	&:checked {
		background-color: #646cff;
		border-color: #646cff;

		&::before {
			content: "";
			color: white;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 16px;
		}
	}
`,HR=Xe.div`
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
`,D_=Xe.button`
	background-color: transparent;
	border: none;
	cursor: pointer;
	margin-left: 5px;
	display: flex;
	align-items: center;
	justify-content: center;
	size: 30px;
	transition: color 0.3s ease;

	&:hover svg {
		stroke: ${n=>n.variant==="delete"?"#ff0000":"#4b50c9"};
	}
`,uE=Ue.memo(({todo:n})=>{const[e,t]=Ue.useState(!1),s=Uc(),o=()=>{s(hP(n.id))},l=()=>{s(dP(n.id,n.completed))},f=()=>{t(d=>!d)};return we.jsxs(UR,{children:[we.jsxs(BR,{children:[we.jsx($R,{name:"todo-checkbox",type:"checkbox",checked:n.completed,onChange:l,"aria-label":`Mark "${n.title}" as ${n.completed?"incomplete":"complete"}`}),we.jsx(zR,{todo:n,editMode:e,setEditMode:f})]}),we.jsxs(HR,{children:[we.jsx(D_,{onClick:f,"aria-label":e?"Cancel editing":"Edit todo",title:e?"Cancel editing":"Edit todo",children:e?we.jsx(OR,{color:"#646cff",size:21}):we.jsx(bR,{color:"#646cff",size:21})}),we.jsx(D_,{onClick:o,variant:"delete","aria-label":"Delete todo",title:"Delete todo",children:we.jsx(LR,{color:"#646cff",size:21})})]})]})});uE.displayName="TodoItem";const WR=Xe.div`
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 10px;
	margin-top: 10px;
	padding: 10px 20px;
	background-color: ${n=>n.theme.bgColor};
	border-radius: 10px;
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

	@media (max-width: 600px) {
		padding: 10px 12px;
		gap: 5px;
	}

	@media (max-width: 480px) {
		flex-direction: column;
	}
`,lE=Xe.button`
	font-family: inherit;
	background-color: transparent;
	font-size: 14px;
	color: ${n=>n.$isActive?"#646cff":"#000000"};
	border: none;
	border-radius: 5px;
	padding: 5px 10px;
	cursor: pointer;
	transition: background-color 0.3s ease, color 0.3s ease;

	&:hover {
		color: #5c5cff;
	}

	@media (max-width: 600px) {
		padding: 8px;
	}

	@media (max-width: 480px) {
		padding: 5px;
	}
`,qR=Xe(lE)`
	margin-left: 0;
`,KR=Xe(lE)`
	&:hover {
		color: #ff0000;
	}
`,QR=Xe.p`
	font-size: 14px;
	color: #000000;
	transition: color 0.3s ease;
`,GR=Xe.div`
	display: flex;
	flex-grow: 1;
	justify-content: center;
	align-items: center;
	gap: 10px;

	// @media (max-width: 768px) {
	// 	justify-content: space-between;
	// 	gap: 5px;
	// }

	@media (max-width: 480px) {
		width: 100%;
		justify-content: space-evenly;
	}
`,XR=({filter:n,changeFilter:e})=>{const t=Ep(f=>f.todos),s=Uc(),o=t.filter(f=>!f.completed).length,l=()=>{s(lP())};return we.jsxs(WR,{children:[o>0&&we.jsxs(QR,{children:[o,o===1?" item":" items"," left"]}),we.jsx(GR,{children:["All","Active","Completed"].map(f=>we.jsx(qR,{onClick:()=>e(f),$isActive:n===f,children:f},f))}),we.jsx(KR,{onClick:l,children:"Clear completed"})]})},YR=Xe.div`
	max-width: 500px;
	width: 100%;
	margin-top: 10px;
`,JR=Xe.div`
	text-align: center;
	color: #888;
`,ZR=Xe.ul`
	width: 100%;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 8px;
	list-style: none;
	padding: 20px;
	margin: 0;
	background-color: ${n=>n.theme.bgColor};
	border-radius: 10px;
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
`,ek=()=>{const[n,e]=Ue.useState("All"),t=Ep(f=>f.todos),s=Ue.useMemo(()=>{switch(n){case"Active":return t.filter(f=>!f.completed);case"Completed":return t.filter(f=>f.completed);default:return t}},[t,n]),o=Ue.useCallback(f=>{e(f)},[]),l=t.length>0;return we.jsx(YR,{children:l?we.jsxs(we.Fragment,{children:[we.jsx(ZR,{role:"list","aria-label":`${n} todos`,children:s.length>0?s.map(f=>we.jsx(uE,{todo:f},f.id)):we.jsxs(JR,{children:["No ",n.toLowerCase()," todos found."]})}),we.jsx(XR,{filter:n,changeFilter:o})]}):null})},tk={color:"#ffffff",bgColor:"#f9f9f9",opacity:1},nk={color:"#000000",bgColor:"#ebf0f7",opacity:0},rk=Xe.form`
	max-width: 500px;
	width: 100%;
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 10px;
	padding: 30px 20px;
	background-color: ${n=>n.theme.bgColor};
	border-radius: 10px;
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

	@media (max-width: 600px) {
		padding: 15px 10px;
	}
`,ik=Xe.input.attrs({type:"text"})`
	width: 100%;
	font-family: inherit;
	padding: 10px 15px;
	border: 2px solid #646cff;
	border-radius: 5px;
	font-size: 16px;
	outline: none;
	transition: border-color 0.3s ease;

	&:focus {
		border-color: #5c5cff;
		box-shadow: 0 0 5px rgba(92, 92, 255, 0.5);
	}

	@media (max-width: 600px) {
		font-size: 14px;
	}
`,sk=Xe.button`
	font-family: inherit;
	background-color: ${n=>n.disabled?"#b0b0b0":"#747af5"};
	color: ${n=>n.theme.color};
	border: none;
	border-radius: 5px;
	padding: 10px 15px;
	font-size: 16px;
	cursor: ${n=>n.disabled?"not-allowed":"pointer"};
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
	transition: all 0.3s ease;
	min-width: 80px;

	&:hover:not(:disabled) {
		background-color: #5c5cff;
		transform: translateY(-2px);
	}

	&:active:not(:disabled) {
		background-color: #4b4bff;
		transform: translateY(0);
	}

	&:focus-visible {
		outline: 2px solid #4b4bff;
		outline-offset: 2px;
	}

	@media (max-width: 600px) {
		font-size: 14px;
		padding: 10px 10px;
		min-width: 60px;
	}
`,cE=({getTitle:n})=>{const[e,t]=Ue.useState(""),s=e.trim()==="",o=Ue.useCallback(f=>{t(f.target.value)},[]),l=Ue.useCallback(f=>{f.preventDefault();const d=e.trim();d&&(n(d),t(""))},[e,n]);return we.jsxs(rk,{name:"todo-form",onSubmit:l,"aria-label":"Add new todo form",children:[we.jsx(ik,{placeholder:"Enter a new todo",name:"todo-input",type:"text",value:e,onChange:o,"aria-label":"Todo title",autoComplete:"off"}),we.jsx(sk,{type:"submit",disabled:s,"aria-label":"Add todo",children:"Add"})]})};cE.displayName="InputForm";const ok=Xe.header`
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
`,ak=Xe.h1`
	font-size: 2.5rem;
	color: ${n=>n.theme.color};
	margin: 0 0 15px 0;
	transition: color 0.3s ease;
	text-align: center;
`,uk=Xe.button`
	width: 40px;
	height: 40px;
	background-color: transparent;
	border: none;
	cursor: pointer;
	align-self: end;
	display: flex;
	justify-content: center;
	align-items: center;
	transition: background-color 0.2s ease;

	&:focus-visible {
		outline: 2px solid #4b4bff;
		outline-offset: 2px;
	}
`,lk=Xe.div`
	color: ${n=>n.theme.color};
	transition: color 0.3s ease;
	display: flex;
	justify-content: center;
	align-items: center;

	&:hover {
		color: #4b4bff;
	}
`,fE=({theme:n,toggleTheme:e,addTodoHandler:t})=>{const s=n==="light",o=n==="light"?"Switch to light theme":"Switch to dark theme";return we.jsxs(ok,{children:[we.jsx(uk,{onClick:e,title:o,"aria-label":o,children:we.jsx(lk,{children:s?we.jsx(VR,{size:24,"aria-hidden":"true"}):we.jsx(MR,{size:24,"aria-hidden":"true"})})}),we.jsx(ak,{children:"TODO LIST"}),we.jsx(cE,{getTitle:t})]})};fE.displayName="Header";const ck=Xe.div`
	position: relative;
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 20px;
	min-height: 100vh;
	background-image: linear-gradient(to right, #cfdef3, #e0eafc);
	z-index: 1;

	&::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image: linear-gradient(to right, #2c5364, #203a43, #0f2027);
		z-index: -1;
		opacity: ${n=>n.theme.opacity};
		transition: opacity 0.3s ease;
	}
`;function fk(){const n=Ep(l=>l.theme),e=Uc(),t=Ue.useMemo(()=>n==="light"?tk:nk,[n]);Ue.useEffect(()=>{e(cP())},[e]);const s=l=>{e(fP({title:l,completed:!1}))},o=()=>{e(eP())};return we.jsx(SR,{theme:t,children:we.jsxs(ck,{children:[we.jsx(fE,{theme:n,toggleTheme:o,addTodoHandler:s}),we.jsx(ek,{})]})})}T0.createRoot(document.getElementById("root")).render(we.jsx(Ue.StrictMode,{children:we.jsx(L0,{store:bw,children:we.jsx(Mw,{loading:null,persistor:yP,children:we.jsx(fk,{})})})}));
